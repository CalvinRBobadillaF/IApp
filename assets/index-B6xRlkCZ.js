(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var jf={exports:{}},ha={};var Gy;function NC(){if(Gy)return ha;Gy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:i,type:o,key:d,ref:l!==void 0?l:null,props:u}}return ha.Fragment=e,ha.jsx=n,ha.jsxs=n,ha}var Oy;function IC(){return Oy||(Oy=1,jf.exports=NC()),jf.exports}var C=IC(),ed={exports:{}},Se={};var Vy;function DC(){if(Vy)return Se;Vy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,J={};function F(R,z,j){this.props=R,this.context=z,this.refs=J,this.updater=j||N}F.prototype.isReactComponent={},F.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},F.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function B(){}B.prototype=F.prototype;function O(R,z,j){this.props=R,this.context=z,this.refs=J,this.updater=j||N}var K=O.prototype=new B;K.constructor=O,b(K,F.prototype),K.isPureReactComponent=!0;var W=Array.isArray;function Z(){}var Y={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function $(R,z,j){var se=j.ref;return{$$typeof:i,type:R,key:z,ref:se!==void 0?se:null,props:j}}function oe(R,z){return $(R.type,z,R.props)}function de(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function ye(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(j){return z[j]})}var Qe=/\/+/g;function je(R,z){return typeof R=="object"&&R!==null&&R.key!=null?ye(""+R.key):z.toString(36)}function nt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Z,Z):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function q(R,z,j,se,ve){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var ge=!1;if(R===null)ge=!0;else switch(ae){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(R.$$typeof){case i:case e:ge=!0;break;case _:return ge=R._init,q(ge(R._payload),z,j,se,ve)}}if(ge)return ve=ve(R),ge=se===""?"."+je(R,0):se,W(ve)?(j="",ge!=null&&(j=ge.replace(Qe,"$&/")+"/"),q(ve,z,j,"",function(Gt){return Gt})):ve!=null&&(de(ve)&&(ve=oe(ve,j+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(Qe,"$&/")+"/")+ge)),z.push(ve)),1;ge=0;var ze=se===""?".":se+":";if(W(R))for(var Fe=0;Fe<R.length;Fe++)se=R[Fe],ae=ze+je(se,Fe),ge+=q(se,z,j,ae,ve);else if(Fe=E(R),typeof Fe=="function")for(R=Fe.call(R),Fe=0;!(se=R.next()).done;)se=se.value,ae=ze+je(se,Fe++),ge+=q(se,z,j,ae,ve);else if(ae==="object"){if(typeof R.then=="function")return q(nt(R),z,j,se,ve);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Q(R,z,j){if(R==null)return R;var se=[],ve=0;return q(R,se,"","",function(ae){return z.call(j,ae,ve++)}),se}function pe(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(j){(R._status===0||R._status===-1)&&(R._status=1,R._result=j)},function(j){(R._status===0||R._status===-1)&&(R._status=2,R._result=j)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var ke=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Le={map:Q,forEach:function(R,z,j){Q(R,function(){z.apply(this,arguments)},j)},count:function(R){var z=0;return Q(R,function(){z++}),z},toArray:function(R){return Q(R,function(z){return z})||[]},only:function(R){if(!de(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Se.Activity=v,Se.Children=Le,Se.Component=F,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=O,Se.StrictMode=o,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Y.H.useMemoCache(R)}},Se.cache=function(R){return function(){return R.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(R,z,j){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=b({},R.props),ve=R.key;if(z!=null)for(ae in z.key!==void 0&&(ve=""+z.key),z)!ue.call(z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&z.ref===void 0||(se[ae]=z[ae]);var ae=arguments.length-2;if(ae===1)se.children=j;else if(1<ae){for(var ge=Array(ae),ze=0;ze<ae;ze++)ge[ze]=arguments[ze+2];se.children=ge}return $(R.type,ve,se)},Se.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Se.createElement=function(R,z,j){var se,ve={},ae=null;if(z!=null)for(se in z.key!==void 0&&(ae=""+z.key),z)ue.call(z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=z[se]);var ge=arguments.length-2;if(ge===1)ve.children=j;else if(1<ge){for(var ze=Array(ge),Fe=0;Fe<ge;Fe++)ze[Fe]=arguments[Fe+2];ve.children=ze}if(R&&R.defaultProps)for(se in ge=R.defaultProps,ge)ve[se]===void 0&&(ve[se]=ge[se]);return $(R,ae,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:p,render:R}},Se.isValidElement=de,Se.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:pe}},Se.memo=function(R,z){return{$$typeof:g,type:R,compare:z===void 0?null:z}},Se.startTransition=function(R){var z=Y.T,j={};Y.T=j;try{var se=R(),ve=Y.S;ve!==null&&ve(j,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Z,ke)}catch(ae){ke(ae)}finally{z!==null&&j.types!==null&&(z.types=j.types),Y.T=z}},Se.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Se.use=function(R){return Y.H.use(R)},Se.useActionState=function(R,z,j){return Y.H.useActionState(R,z,j)},Se.useCallback=function(R,z){return Y.H.useCallback(R,z)},Se.useContext=function(R){return Y.H.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R,z){return Y.H.useDeferredValue(R,z)},Se.useEffect=function(R,z){return Y.H.useEffect(R,z)},Se.useEffectEvent=function(R){return Y.H.useEffectEvent(R)},Se.useId=function(){return Y.H.useId()},Se.useImperativeHandle=function(R,z,j){return Y.H.useImperativeHandle(R,z,j)},Se.useInsertionEffect=function(R,z){return Y.H.useInsertionEffect(R,z)},Se.useLayoutEffect=function(R,z){return Y.H.useLayoutEffect(R,z)},Se.useMemo=function(R,z){return Y.H.useMemo(R,z)},Se.useOptimistic=function(R,z){return Y.H.useOptimistic(R,z)},Se.useReducer=function(R,z,j){return Y.H.useReducer(R,z,j)},Se.useRef=function(R){return Y.H.useRef(R)},Se.useState=function(R){return Y.H.useState(R)},Se.useSyncExternalStore=function(R,z,j){return Y.H.useSyncExternalStore(R,z,j)},Se.useTransition=function(){return Y.H.useTransition()},Se.version="19.2.0",Se}var zy;function jd(){return zy||(zy=1,ed.exports=DC()),ed.exports}var _e=jd(),td={exports:{}},pa={},nd={exports:{}},id={};var Fy;function UC(){return Fy||(Fy=1,(function(i){function e(q,Q){var pe=q.length;q.push(Q);e:for(;0<pe;){var ke=pe-1>>>1,Le=q[ke];if(0<l(Le,Q))q[ke]=Q,q[pe]=Le,pe=ke;else break e}}function n(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var Q=q[0],pe=q.pop();if(pe!==Q){q[0]=pe;e:for(var ke=0,Le=q.length,R=Le>>>1;ke<R;){var z=2*(ke+1)-1,j=q[z],se=z+1,ve=q[se];if(0>l(j,pe))se<Le&&0>l(ve,j)?(q[ke]=ve,q[se]=pe,ke=se):(q[ke]=j,q[z]=pe,ke=z);else if(se<Le&&0>l(ve,pe))q[ke]=ve,q[se]=pe,ke=se;else break e}}return Q}function l(q,Q){var pe=q.sortIndex-Q.sortIndex;return pe!==0?pe:q.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var y=[],g=[],_=1,v=null,T=3,E=!1,N=!1,b=!1,J=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var Q=n(g);Q!==null;){if(Q.callback===null)o(g);else if(Q.startTime<=q)o(g),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=n(g)}}function W(q){if(b=!1,K(q),!N)if(n(y)!==null)N=!0,Z||(Z=!0,ye());else{var Q=n(g);Q!==null&&nt(W,Q.startTime-q)}}var Z=!1,Y=-1,ue=5,$=-1;function oe(){return J?!0:!(i.unstable_now()-$<ue)}function de(){if(J=!1,Z){var q=i.unstable_now();$=q;var Q=!0;try{e:{N=!1,b&&(b=!1,B(Y),Y=-1),E=!0;var pe=T;try{t:{for(K(q),v=n(y);v!==null&&!(v.expirationTime>q&&oe());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,T=v.priorityLevel;var Le=ke(v.expirationTime<=q);if(q=i.unstable_now(),typeof Le=="function"){v.callback=Le,K(q),Q=!0;break t}v===n(y)&&o(y),K(q)}else o(y);v=n(y)}if(v!==null)Q=!0;else{var R=n(g);R!==null&&nt(W,R.startTime-q),Q=!1}}break e}finally{v=null,T=pe,E=!1}Q=void 0}}finally{Q?ye():Z=!1}}}var ye;if(typeof O=="function")ye=function(){O(de)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,je=Qe.port2;Qe.port1.onmessage=de,ye=function(){je.postMessage(null)}}else ye=function(){F(de,0)};function nt(q,Q){Y=F(function(){q(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(q){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var pe=T;T=Q;try{return q()}finally{T=pe}},i.unstable_requestPaint=function(){J=!0},i.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pe=T;T=q;try{return Q()}finally{T=pe}},i.unstable_scheduleCallback=function(q,Q,pe){var ke=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,q){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=pe+Le,q={id:_++,callback:Q,priorityLevel:q,startTime:pe,expirationTime:Le,sortIndex:-1},pe>ke?(q.sortIndex=pe,e(g,q),n(y)===null&&q===n(g)&&(b?(B(Y),Y=-1):b=!0,nt(W,pe-ke))):(q.sortIndex=Le,e(y,q),N||E||(N=!0,Z||(Z=!0,ye()))),q},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(q){var Q=T;return function(){var pe=T;T=Q;try{return q.apply(this,arguments)}finally{T=pe}}}})(id)),id}var Jy;function kC(){return Jy||(Jy=1,nd.exports=UC()),nd.exports}var sd={exports:{}},wt={};var Yy;function PC(){if(Yy)return wt;Yy=1;var i=jd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:y,containerInfo:g,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,wt.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,_)},wt.flushSync=function(y){var g=d.T,_=o.p;try{if(d.T=null,o.p=2,y)return y()}finally{d.T=g,o.p=_,o.d.f()}},wt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(y,g))},wt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},wt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,v=p(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?o.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:E}):_==="script"&&o.d.X(y,{crossOrigin:v,integrity:T,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=p(g.as,g.crossOrigin);o.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(y)},wt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=p(_,g.crossOrigin);o.d.L(y,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wt.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=p(g.as,g.crossOrigin);o.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(y)},wt.requestFormReset=function(y){o.d.r(y)},wt.unstable_batchedUpdates=function(y,g){return y(g)},wt.useFormState=function(y,g,_){return d.H.useFormState(y,g,_)},wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var Xy;function LC(){if(Xy)return sd.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sd.exports=PC(),sd.exports}var Ky;function qC(){if(Ky)return pa;Ky=1;var i=kC(),e=jd(),n=LC();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(o(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,r=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(r=h.return,r!==null){a=r;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return y(h),t;if(m===r)return y(h),s;m=m.sibling}throw Error(o(188))}if(a.return!==r.return)a=h,r=m;else{for(var S=!1,A=h.child;A;){if(A===a){S=!0,a=h,r=m;break}if(A===r){S=!0,r=h,a=m;break}A=A.sibling}if(!S){for(A=m.child;A;){if(A===a){S=!0,a=m,r=h;break}if(A===r){S=!0,r=m,a=h;break}A=A.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),O=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ye(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Qe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case F:return"Profiler";case J:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case O:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case K:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:je(t.type)||"Memo";case ue:s=t._payload,t=t._init;try{return je(t(s))}catch{}}return null}var nt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],Le=-1;function R(t){return{current:t}}function z(t){0>Le||(t.current=ke[Le],ke[Le]=null,Le--)}function j(t,s){Le++,ke[Le]=t.current,t.current=s}var se=R(null),ve=R(null),ae=R(null),ge=R(null);function ze(t,s){switch(j(ae,s),j(ve,t),j(se,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?uy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=uy(s),t=cy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(se),j(se,t)}function Fe(){z(se),z(ve),z(ae)}function Gt(t){t.memoizedState!==null&&j(ge,t);var s=se.current,a=cy(s,t.type);s!==a&&(j(ve,t),j(se,a))}function _n(t){ve.current===t&&(z(se),z(ve)),ge.current===t&&(z(ge),ua._currentValue=pe)}var So,Rn;function Ct(t){if(So===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);So=s&&s[1]||"",Rn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+So+t+Rn}var Pu=!1;function Lu(t,s){if(!t||Pu)return"";Pu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var k=L}Reflect.construct(t,[],V)}else{try{V.call()}catch(L){k=L}t.call(V.prototype)}}else{try{throw Error()}catch(L){k=L}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),S=m[0],A=m[1];if(S&&A){var w=S.split(`
`),D=A.split(`
`);for(h=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(r===w.length||h===D.length)for(r=w.length-1,h=D.length-1;1<=r&&0<=h&&w[r]!==D[h];)h--;for(;1<=r&&0<=h;r--,h--)if(w[r]!==D[h]){if(r!==1||h!==1)do if(r--,h--,0>h||w[r]!==D[h]){var H=`
`+w[r].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=r&&0<=h);break}}}finally{Pu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ct(a):""}function lA(t,s){switch(t.tag){case 26:case 27:case 5:return Ct(t.type);case 16:return Ct("Lazy");case 13:return t.child!==s&&s!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Lu(t.type,!1);case 11:return Lu(t.type.render,!1);case 1:return Lu(t.type,!0);case 31:return Ct("Activity");default:return""}}function Gh(t){try{var s="",a=null;do s+=lA(t,a),a=t,t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var qu=Object.prototype.hasOwnProperty,Bu=i.unstable_scheduleCallback,Hu=i.unstable_cancelCallback,rA=i.unstable_shouldYield,uA=i.unstable_requestPaint,Ot=i.unstable_now,cA=i.unstable_getCurrentPriorityLevel,Oh=i.unstable_ImmediatePriority,Vh=i.unstable_UserBlockingPriority,il=i.unstable_NormalPriority,fA=i.unstable_LowPriority,zh=i.unstable_IdlePriority,dA=i.log,hA=i.unstable_setDisableYieldValue,To=null,Vt=null;function li(t){if(typeof dA=="function"&&hA(t),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(To,t)}catch{}}var zt=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var sl=256,ol=262144,al=4194304;function Hi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ll(t,s,a){var r=t.pendingLanes;if(r===0)return 0;var h=0,m=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var A=r&134217727;return A!==0?(r=A&~m,r!==0?h=Hi(r):(S&=A,S!==0?h=Hi(S):a||(a=A&~t,a!==0&&(h=Hi(a))))):(A=r&~m,A!==0?h=Hi(A):S!==0?h=Hi(S):a||(a=r&~t,a!==0&&(h=Hi(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Ao(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function yA(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var t=al;return al<<=1,(al&62914560)===0&&(al=4194304),t}function Gu(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Eo(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _A(t,s,a,r,h,m){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,w=t.expirationTimes,D=t.hiddenUpdates;for(a=S&~a;0<a;){var H=31-zt(a),V=1<<H;A[H]=0,w[H]=-1;var k=D[H];if(k!==null)for(D[H]=null,H=0;H<k.length;H++){var L=k[H];L!==null&&(L.lane&=-536870913)}a&=~V}r!==0&&Jh(t,r,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(S&~s))}function Jh(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-zt(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function Yh(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-zt(a),h=1<<r;h&s|t[r]&s&&(t[r]|=s),a&=~h}}function Xh(t,s){var a=s&-s;return a=(a&42)!==0?1:Ou(a),(a&(t.suspendedLanes|s))!==0?0:a}function Ou(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kh(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Uy(t.type))}function Qh(t,s){var a=Q.p;try{return Q.p=t,s()}finally{Q.p=a}}var ri=Math.random().toString(36).slice(2),gt="__reactFiber$"+ri,It="__reactProps$"+ri,hs="__reactContainer$"+ri,zu="__reactEvents$"+ri,vA="__reactListeners$"+ri,SA="__reactHandles$"+ri,$h="__reactResources$"+ri,Co="__reactMarker$"+ri;function Fu(t){delete t[gt],delete t[It],delete t[zu],delete t[vA],delete t[SA]}function ps(t){var s=t[gt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[hs]||a[gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=yy(t);t!==null;){if(a=t[gt])return a;t=yy(t)}return s}t=a,a=t.parentNode}return null}function ms(t){if(t=t[gt]||t[hs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function wo(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function gs(t){var s=t[$h];return s||(s=t[$h]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(t){t[Co]=!0}var Wh=new Set,Zh={};function Gi(t,s){ys(t,s),ys(t+"Capture",s)}function ys(t,s){for(Zh[t]=s,t=0;t<s.length;t++)Wh.add(s[t])}var TA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jh={},ep={};function AA(t){return qu.call(ep,t)?!0:qu.call(jh,t)?!1:TA.test(t)?ep[t]=!0:(jh[t]=!0,!1)}function rl(t,s,a){if(AA(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ul(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Pn(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tp(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function EA(t,s,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,m=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){a=""+S,m.call(this,S)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ju(t){if(!t._valueTracker){var s=tp(t)?"checked":"value";t._valueTracker=EA(t,s,""+t[s])}}function np(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=tp(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var CA=/[\n"\\]/g;function on(t){return t.replace(CA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Yu(t,s,a,r,h,m,S,A){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+sn(s)):t.value!==""+sn(s)&&(t.value=""+sn(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?Xu(t,S,sn(s)):a!=null?Xu(t,S,sn(a)):r!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+sn(A):t.removeAttribute("name")}function ip(t,s,a,r,h,m,S,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ju(t);return}a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,A||s===t.value||(t.value=s),t.defaultValue=s}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=A?t.checked:!!r,t.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Ju(t)}function Xu(t,s,a){s==="number"&&cl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _s(t,s,a,r){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&r&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function sp(t,s,a){if(s!=null&&(s=""+sn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+sn(a):""}function op(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(o(92));if(nt(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=sn(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),Ju(t)}function vs(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var wA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||wA.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function lp(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in s)r=s[h],s.hasOwnProperty(h)&&a[h]!==r&&ap(t,h,r)}else for(var m in s)s.hasOwnProperty(m)&&ap(t,m,s[m])}function Ku(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fl(t){return RA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Qu=null;function $u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Ts=null;function rp(t){var s=ms(t);if(s&&(t=s.stateNode)){var a=t[It]||null;e:switch(t=s.stateNode,s.type){case"input":if(Yu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var h=r[It]||null;if(!h)throw Error(o(90));Yu(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&np(r)}break e;case"textarea":sp(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&_s(t,!!a.multiple,s,!1)}}}var Wu=!1;function up(t,s,a){if(Wu)return t(s,a);Wu=!0;try{var r=t(s);return r}finally{if(Wu=!1,(Ss!==null||Ts!==null)&&(Zl(),Ss&&(s=Ss,t=Ts,Ts=Ss=null,rp(s),t)))for(s=0;s<t.length;s++)rp(t[s])}}function Mo(t,s){var a=t.stateNode;if(a===null)return null;var r=a[It]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(qn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Zu=!1}var ui=null,ju=null,dl=null;function cp(){if(dl)return dl;var t,s=ju,a=s.length,r,h="value"in ui?ui.value:ui.textContent,m=h.length;for(t=0;t<a&&s[t]===h[t];t++);var S=a-t;for(r=1;r<=S&&s[a-r]===h[m-r];r++);return dl=h.slice(t,1<r?1-r:void 0)}function hl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function fp(){return!1}function Dt(t){function s(a,r,h,m,S){this._reactName=a,this._targetInst=h,this.type=r,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pl:fp,this.isPropagationStopped=fp,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=Dt(Oi),bo=v({},Oi,{view:0,detail:0}),bA=Dt(bo),ec,tc,xo,gl=v({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(ec=t.screenX-xo.screenX,tc=t.screenY-xo.screenY):tc=ec=0,xo=t),ec)},movementY:function(t){return"movementY"in t?t.movementY:tc}}),dp=Dt(gl),xA=v({},gl,{dataTransfer:0}),NA=Dt(xA),IA=v({},bo,{relatedTarget:0}),nc=Dt(IA),DA=v({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),UA=Dt(DA),kA=v({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PA=Dt(kA),LA=v({},Oi,{data:0}),hp=Dt(LA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GA(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=HA[t])?!!s[t]:!1}function ic(){return GA}var OA=v({},bo,{key:function(t){if(t.key){var s=qA[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VA=Dt(OA),zA=v({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=Dt(zA),FA=v({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),JA=Dt(FA),YA=v({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=Dt(YA),KA=v({},gl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=Dt(KA),$A=v({},Oi,{newState:0,oldState:0}),WA=Dt($A),ZA=[9,13,27,32],sc=qn&&"CompositionEvent"in window,No=null;qn&&"documentMode"in document&&(No=document.documentMode);var jA=qn&&"TextEvent"in window&&!No,mp=qn&&(!sc||No&&8<No&&11>=No),gp=" ",yp=!1;function _p(t,s){switch(t){case"keyup":return ZA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function eE(t,s){switch(t){case"compositionend":return vp(s);case"keypress":return s.which!==32?null:(yp=!0,gp);case"textInput":return t=s.data,t===gp&&yp?null:t;default:return null}}function tE(t,s){if(As)return t==="compositionend"||!sc&&_p(t,s)?(t=cp(),dl=ju=ui=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mp&&s.locale!=="ko"?null:s.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!nE[t.type]:s==="textarea"}function Tp(t,s,a,r){Ss?Ts?Ts.push(r):Ts=[r]:Ss=r,s=or(s,"onChange"),0<s.length&&(a=new ml("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Io=null,Do=null;function iE(t){iy(t,0)}function yl(t){var s=wo(t);if(np(s))return t}function Ap(t,s){if(t==="change")return s}var Ep=!1;if(qn){var oc;if(qn){var ac="oninput"in document;if(!ac){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),ac=typeof Cp.oninput=="function"}oc=ac}else oc=!1;Ep=oc&&(!document.documentMode||9<document.documentMode)}function wp(){Io&&(Io.detachEvent("onpropertychange",Mp),Do=Io=null)}function Mp(t){if(t.propertyName==="value"&&yl(Do)){var s=[];Tp(s,Do,t,$u(t)),up(iE,s)}}function sE(t,s,a){t==="focusin"?(wp(),Io=s,Do=a,Io.attachEvent("onpropertychange",Mp)):t==="focusout"&&wp()}function oE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yl(Do)}function aE(t,s){if(t==="click")return yl(s)}function lE(t,s){if(t==="input"||t==="change")return yl(s)}function rE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ft=typeof Object.is=="function"?Object.is:rE;function Uo(t,s){if(Ft(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var h=a[r];if(!qu.call(s,h)||!Ft(t[h],s[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,s){var a=Rp(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rp(a)}}function xp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?xp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=cl(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=cl(t.document)}return s}function lc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var uE=qn&&"documentMode"in document&&11>=document.documentMode,Es=null,rc=null,ko=null,uc=!1;function Ip(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uc||Es==null||Es!==cl(r)||(r=Es,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Uo(ko,r)||(ko=r,r=or(rc,"onSelect"),0<r.length&&(s=new ml("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Es)))}function Vi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Cs={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},cc={},Dp={};qn&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function zi(t){if(cc[t])return cc[t];if(!Cs[t])return t;var s=Cs[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Dp)return cc[t]=s[a];return t}var Up=zi("animationend"),kp=zi("animationiteration"),Pp=zi("animationstart"),cE=zi("transitionrun"),fE=zi("transitionstart"),dE=zi("transitioncancel"),Lp=zi("transitionend"),qp=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function vn(t,s){qp.set(t,s),Gi(s,[t])}var _l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],ws=0,dc=0;function vl(){for(var t=ws,s=dc=ws=0;s<t;){var a=an[s];an[s++]=null;var r=an[s];an[s++]=null;var h=an[s];an[s++]=null;var m=an[s];if(an[s++]=null,r!==null&&h!==null){var S=r.pending;S===null?h.next=h:(h.next=S.next,S.next=h),r.pending=h}m!==0&&Bp(a,h,m)}}function Sl(t,s,a,r){an[ws++]=t,an[ws++]=s,an[ws++]=a,an[ws++]=r,dc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function hc(t,s,a,r){return Sl(t,s,a,r),Tl(t)}function Fi(t,s){return Sl(t,null,null,s),Tl(t)}function Bp(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,r=m.alternate,r!==null&&(r.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-zt(a),t=m.hiddenUpdates,r=t[h],r===null?t[h]=[s]:r.push(s),s.lane=a|536870912),m):null}function Tl(t){if(50<na)throw na=0,Ef=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ms={};function hE(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,s,a,r){return new hE(t,s,a,r)}function pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bn(t,s){var a=t.alternate;return a===null?(a=Jt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hp(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Al(t,s,a,r,h,m){var S=0;if(r=t,typeof t=="function")pc(t)&&(S=1);else if(typeof t=="string")S=_C(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=Jt(31,a,s,h),t.elementType=$,t.lanes=m,t;case b:return Ji(a.children,h,m,s);case J:S=8,h|=24;break;case F:return t=Jt(12,a,s,h|2),t.elementType=F,t.lanes=m,t;case W:return t=Jt(13,a,s,h),t.elementType=W,t.lanes=m,t;case Z:return t=Jt(19,a,s,h),t.elementType=Z,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:S=10;break e;case B:S=9;break e;case K:S=11;break e;case Y:S=14;break e;case ue:S=16,r=null;break e}S=29,a=Error(o(130,t===null?"null":typeof t,"")),r=null}return s=Jt(S,a,s,h),s.elementType=t,s.type=r,s.lanes=m,s}function Ji(t,s,a,r){return t=Jt(7,t,r,s),t.lanes=a,t}function mc(t,s,a){return t=Jt(6,t,null,s),t.lanes=a,t}function Gp(t){var s=Jt(18,null,null,0);return s.stateNode=t,s}function gc(t,s,a){return s=Jt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Op=new WeakMap;function ln(t,s){if(typeof t=="object"&&t!==null){var a=Op.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Gh(s)},Op.set(t,s),s)}return{value:t,source:s,stack:Gh(s)}}var Rs=[],bs=0,El=null,Po=0,rn=[],un=0,ci=null,bn=1,xn="";function Hn(t,s){Rs[bs++]=Po,Rs[bs++]=El,El=t,Po=s}function Vp(t,s,a){rn[un++]=bn,rn[un++]=xn,rn[un++]=ci,ci=t;var r=bn;t=xn;var h=32-zt(r)-1;r&=~(1<<h),a+=1;var m=32-zt(s)+h;if(30<m){var S=h-h%5;m=(r&(1<<S)-1).toString(32),r>>=S,h-=S,bn=1<<32-zt(s)+h|a<<h|r,xn=m+t}else bn=1<<m|a<<h|r,xn=t}function yc(t){t.return!==null&&(Hn(t,1),Vp(t,1,0))}function _c(t){for(;t===El;)El=Rs[--bs],Rs[bs]=null,Po=Rs[--bs],Rs[bs]=null;for(;t===ci;)ci=rn[--un],rn[un]=null,xn=rn[--un],rn[un]=null,bn=rn[--un],rn[un]=null}function zp(t,s){rn[un++]=bn,rn[un++]=xn,rn[un++]=ci,bn=s.id,xn=s.overflow,ci=t}var yt=null,Ye=null,xe=!1,fi=null,cn=!1,vc=Error(o(519));function di(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(ln(s,t)),vc}function Fp(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[gt]=t,s[It]=r,a){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(a=0;a<sa.length;a++)Me(sa[a],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),ip(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),op(s,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||ly(s.textContent,a)?(r.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),r.onScroll!=null&&Me("scroll",s),r.onScrollEnd!=null&&Me("scrollend",s),r.onClick!=null&&(s.onclick=Ln),s=!0):s=!1,s||di(t,!0)}function Jp(t){for(yt=t.return;yt;)switch(yt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:yt=yt.return}}function xs(t){if(t!==yt)return!1;if(!xe)return Jp(t),xe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&Ye&&di(t),Jp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ye=gy(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ye=gy(t)}else s===27?(s=Ye,Mi(t.type)?(t=zf,zf=null,Ye=t):Ye=s):Ye=yt?dn(t.stateNode.nextSibling):null;return!0}function Yi(){Ye=yt=null,xe=!1}function Sc(){var t=fi;return t!==null&&(Lt===null?Lt=t:Lt.push.apply(Lt,t),fi=null),t}function Lo(t){fi===null?fi=[t]:fi.push(t)}var Tc=R(null),Xi=null,Gn=null;function hi(t,s,a){j(Tc,s._currentValue),s._currentValue=a}function On(t){t._currentValue=Tc.current,z(Tc)}function Ac(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function Ec(t,s,a,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var S=h.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=h;for(var w=0;w<s.length;w++)if(A.context===s[w]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Ac(m.return,a,t),r||(S=null);break e}m=A.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(o(341));S.lanes|=a,m=S.alternate,m!==null&&(m.lanes|=a),Ac(S,a,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Ns(t,s,a,r){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var A=h.type;Ft(h.pendingProps.value,S.value)||(t!==null?t.push(A):t=[A])}}else if(h===ge.current){if(S=h.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ua):t=[ua])}h=h.return}t!==null&&Ec(s,t,a,r),s.flags|=262144}function Cl(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){Xi=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return Yp(Xi,t)}function wl(t,s){return Xi===null&&Ki(t),Yp(t,s)}function Yp(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Gn===null){if(t===null)throw Error(o(308));Gn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Gn=Gn.next=s;return a}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},mE=i.unstable_scheduleCallback,gE=i.unstable_NormalPriority,it={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new pE,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&mE(gE,function(){t.controller.abort()})}var Bo=null,wc=0,Is=0,Ds=null;function yE(t,s){if(Bo===null){var a=Bo=[];wc=0,Is=xf(),Ds={status:"pending",value:void 0,then:function(r){a.push(r)}}}return wc++,s.then(Xp,Xp),s}function Xp(){if(--wc===0&&Bo!==null){Ds!==null&&(Ds.status="fulfilled");var t=Bo;Bo=null,Is=0,Ds=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function _E(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(r.status="rejected",r.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),r}var Kp=q.S;q.S=function(t,s){Ig=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&yE(t,s),Kp!==null&&Kp(t,s)};var Qi=R(null);function Mc(){var t=Qi.current;return t!==null?t:Je.pooledCache}function Ml(t,s){s===null?j(Qi,Qi.current):j(Qi,s.pool)}function Qp(){var t=Mc();return t===null?null:{parent:it._currentValue,pool:t}}var Us=Error(o(460)),Rc=Error(o(474)),Rl=Error(o(542)),bl={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ln,Ln),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,jp(t),t;default:if(typeof s.status=="string")s.then(Ln,Ln);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=r}},function(r){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,jp(t),t}throw Wi=s,Us}}function $i(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wi=a,Us):a}}var Wi=null;function Zp(){if(Wi===null)throw Error(o(459));var t=Wi;return Wi=null,t}function jp(t){if(t===Us||t===Rl)throw Error(o(483))}var ks=null,Ho=0;function xl(t){var s=Ho;return Ho+=1,ks===null&&(ks=[]),Wp(ks,t,s)}function Go(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Nl(t,s){throw s.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function em(t){function s(x,M){if(t){var I=x.deletions;I===null?(x.deletions=[M],x.flags|=16):I.push(M)}}function a(x,M){if(!t)return null;for(;M!==null;)s(x,M),M=M.sibling;return null}function r(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(x,M){return x=Bn(x,M),x.index=0,x.sibling=null,x}function m(x,M,I){return x.index=I,t?(I=x.alternate,I!==null?(I=I.index,I<M?(x.flags|=67108866,M):I):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function S(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function A(x,M,I,G){return M===null||M.tag!==6?(M=mc(I,x.mode,G),M.return=x,M):(M=h(M,I),M.return=x,M)}function w(x,M,I,G){var ce=I.type;return ce===b?H(x,M,I.props.children,G,I.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&$i(ce)===M.type)?(M=h(M,I.props),Go(M,I),M.return=x,M):(M=Al(I.type,I.key,I.props,null,x.mode,G),Go(M,I),M.return=x,M)}function D(x,M,I,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=gc(I,x.mode,G),M.return=x,M):(M=h(M,I.children||[]),M.return=x,M)}function H(x,M,I,G,ce){return M===null||M.tag!==7?(M=Ji(I,x.mode,G,ce),M.return=x,M):(M=h(M,I),M.return=x,M)}function V(x,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=mc(""+M,x.mode,I),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return I=Al(M.type,M.key,M.props,null,x.mode,I),Go(I,M),I.return=x,I;case N:return M=gc(M,x.mode,I),M.return=x,M;case ue:return M=$i(M),V(x,M,I)}if(nt(M)||ye(M))return M=Ji(M,x.mode,I,null),M.return=x,M;if(typeof M.then=="function")return V(x,xl(M),I);if(M.$$typeof===O)return V(x,wl(x,M),I);Nl(x,M)}return null}function k(x,M,I,G){var ce=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ce!==null?null:A(x,M,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return I.key===ce?w(x,M,I,G):null;case N:return I.key===ce?D(x,M,I,G):null;case ue:return I=$i(I),k(x,M,I,G)}if(nt(I)||ye(I))return ce!==null?null:H(x,M,I,G,null);if(typeof I.then=="function")return k(x,M,xl(I),G);if(I.$$typeof===O)return k(x,M,wl(x,I),G);Nl(x,I)}return null}function L(x,M,I,G,ce){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(I)||null,A(M,x,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return x=x.get(G.key===null?I:G.key)||null,w(M,x,G,ce);case N:return x=x.get(G.key===null?I:G.key)||null,D(M,x,G,ce);case ue:return G=$i(G),L(x,M,I,G,ce)}if(nt(G)||ye(G))return x=x.get(I)||null,H(M,x,G,ce,null);if(typeof G.then=="function")return L(x,M,I,xl(G),ce);if(G.$$typeof===O)return L(x,M,I,wl(M,G),ce);Nl(M,G)}return null}function ne(x,M,I,G){for(var ce=null,Ie=null,le=M,Ee=M=0,be=null;le!==null&&Ee<I.length;Ee++){le.index>Ee?(be=le,le=null):be=le.sibling;var De=k(x,le,I[Ee],G);if(De===null){le===null&&(le=be);break}t&&le&&De.alternate===null&&s(x,le),M=m(De,M,Ee),Ie===null?ce=De:Ie.sibling=De,Ie=De,le=be}if(Ee===I.length)return a(x,le),xe&&Hn(x,Ee),ce;if(le===null){for(;Ee<I.length;Ee++)le=V(x,I[Ee],G),le!==null&&(M=m(le,M,Ee),Ie===null?ce=le:Ie.sibling=le,Ie=le);return xe&&Hn(x,Ee),ce}for(le=r(le);Ee<I.length;Ee++)be=L(le,x,Ee,I[Ee],G),be!==null&&(t&&be.alternate!==null&&le.delete(be.key===null?Ee:be.key),M=m(be,M,Ee),Ie===null?ce=be:Ie.sibling=be,Ie=be);return t&&le.forEach(function(Ii){return s(x,Ii)}),xe&&Hn(x,Ee),ce}function he(x,M,I,G){if(I==null)throw Error(o(151));for(var ce=null,Ie=null,le=M,Ee=M=0,be=null,De=I.next();le!==null&&!De.done;Ee++,De=I.next()){le.index>Ee?(be=le,le=null):be=le.sibling;var Ii=k(x,le,De.value,G);if(Ii===null){le===null&&(le=be);break}t&&le&&Ii.alternate===null&&s(x,le),M=m(Ii,M,Ee),Ie===null?ce=Ii:Ie.sibling=Ii,Ie=Ii,le=be}if(De.done)return a(x,le),xe&&Hn(x,Ee),ce;if(le===null){for(;!De.done;Ee++,De=I.next())De=V(x,De.value,G),De!==null&&(M=m(De,M,Ee),Ie===null?ce=De:Ie.sibling=De,Ie=De);return xe&&Hn(x,Ee),ce}for(le=r(le);!De.done;Ee++,De=I.next())De=L(le,x,Ee,De.value,G),De!==null&&(t&&De.alternate!==null&&le.delete(De.key===null?Ee:De.key),M=m(De,M,Ee),Ie===null?ce=De:Ie.sibling=De,Ie=De);return t&&le.forEach(function(xC){return s(x,xC)}),xe&&Hn(x,Ee),ce}function Oe(x,M,I,G){if(typeof I=="object"&&I!==null&&I.type===b&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case E:e:{for(var ce=I.key;M!==null;){if(M.key===ce){if(ce=I.type,ce===b){if(M.tag===7){a(x,M.sibling),G=h(M,I.props.children),G.return=x,x=G;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&$i(ce)===M.type){a(x,M.sibling),G=h(M,I.props),Go(G,I),G.return=x,x=G;break e}a(x,M);break}else s(x,M);M=M.sibling}I.type===b?(G=Ji(I.props.children,x.mode,G,I.key),G.return=x,x=G):(G=Al(I.type,I.key,I.props,null,x.mode,G),Go(G,I),G.return=x,x=G)}return S(x);case N:e:{for(ce=I.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){a(x,M.sibling),G=h(M,I.children||[]),G.return=x,x=G;break e}else{a(x,M);break}else s(x,M);M=M.sibling}G=gc(I,x.mode,G),G.return=x,x=G}return S(x);case ue:return I=$i(I),Oe(x,M,I,G)}if(nt(I))return ne(x,M,I,G);if(ye(I)){if(ce=ye(I),typeof ce!="function")throw Error(o(150));return I=ce.call(I),he(x,M,I,G)}if(typeof I.then=="function")return Oe(x,M,xl(I),G);if(I.$$typeof===O)return Oe(x,M,wl(x,I),G);Nl(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(a(x,M.sibling),G=h(M,I),G.return=x,x=G):(a(x,M),G=mc(I,x.mode,G),G.return=x,x=G),S(x)):a(x,M)}return function(x,M,I,G){try{Ho=0;var ce=Oe(x,M,I,G);return ks=null,ce}catch(le){if(le===Us||le===Rl)throw le;var Ie=Jt(29,le,null,x.mode);return Ie.lanes=G,Ie.return=x,Ie}finally{}}}var Zi=em(!0),tm=em(!1),pi=!1;function bc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gi(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Pe&2)!==0){var h=r.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s,s=Tl(t),Bp(t,null,a),s}return Sl(t,r,s,a),Tl(t)}function Oo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Yh(t,a)}}function Nc(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=S:m=m.next=S,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ic=!1;function Vo(){if(Ic){var t=Ds;if(t!==null)throw t}}function zo(t,s,a,r){Ic=!1;var h=t.updateQueue;pi=!1;var m=h.firstBaseUpdate,S=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var w=A,D=w.next;w.next=null,S===null?m=D:S.next=D,S=w;var H=t.alternate;H!==null&&(H=H.updateQueue,A=H.lastBaseUpdate,A!==S&&(A===null?H.firstBaseUpdate=D:A.next=D,H.lastBaseUpdate=w))}if(m!==null){var V=h.baseState;S=0,H=D=w=null,A=m;do{var k=A.lane&-536870913,L=k!==A.lane;if(L?(Re&k)===k:(r&k)===k){k!==0&&k===Is&&(Ic=!0),H!==null&&(H=H.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ne=t,he=A;k=s;var Oe=a;switch(he.tag){case 1:if(ne=he.payload,typeof ne=="function"){V=ne.call(Oe,V,k);break e}V=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=he.payload,k=typeof ne=="function"?ne.call(Oe,V,k):ne,k==null)break e;V=v({},V,k);break e;case 2:pi=!0}}k=A.callback,k!==null&&(t.flags|=64,L&&(t.flags|=8192),L=h.callbacks,L===null?h.callbacks=[k]:L.push(k))}else L={lane:k,tag:A.tag,payload:A.payload,callback:A.callback,next:null},H===null?(D=H=L,w=V):H=H.next=L,S|=k;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;L=A,A=L.next,L.next=null,h.lastBaseUpdate=L,h.shared.pending=null}}while(!0);H===null&&(w=V),h.baseState=w,h.firstBaseUpdate=D,h.lastBaseUpdate=H,m===null&&(h.shared.lanes=0),Ti|=S,t.lanes=S,t.memoizedState=V}}function nm(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function im(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)nm(a[t],s)}var Ps=R(null),Il=R(0);function sm(t,s){t=$n,j(Il,t),j(Ps,s),$n=t|s.baseLanes}function Dc(){j(Il,$n),j(Ps,Ps.current)}function Uc(){$n=Il.current,z(Ps),z(Il)}var Yt=R(null),fn=null;function yi(t){var s=t.alternate;j(et,et.current&1),j(Yt,t),fn===null&&(s===null||Ps.current!==null||s.memoizedState!==null)&&(fn=t)}function kc(t){j(et,et.current),j(Yt,t),fn===null&&(fn=t)}function om(t){t.tag===22?(j(et,et.current),j(Yt,t),fn===null&&(fn=t)):_i()}function _i(){j(et,et.current),j(Yt,Yt.current)}function Xt(t){z(Yt),fn===t&&(fn=null),z(et)}var et=R(0);function Dl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Of(a)||Vf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vn=0,Ae=null,He=null,st=null,Ul=!1,Ls=!1,ji=!1,kl=0,Fo=0,qs=null,vE=0;function We(){throw Error(o(321))}function Pc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Ft(t[a],s[a]))return!1;return!0}function Lc(t,s,a,r,h,m){return Vn=m,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=t===null||t.memoizedState===null?Vm:Wc,ji=!1,m=a(r,h),ji=!1,Ls&&(m=lm(s,a,r,h)),am(t),m}function am(t){q.H=Xo;var s=He!==null&&He.next!==null;if(Vn=0,st=He=Ae=null,Ul=!1,Fo=0,qs=null,s)throw Error(o(300));t===null||ot||(t=t.dependencies,t!==null&&Cl(t)&&(ot=!0))}function lm(t,s,a,r){Ae=t;var h=0;do{if(Ls&&(qs=null),Fo=0,Ls=!1,25<=h)throw Error(o(301));if(h+=1,st=He=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=zm,m=s(a,r)}while(Ls);return m}function SE(){var t=q.H,s=t.useState()[0];return s=typeof s.then=="function"?Jo(s):s,t=t.useState()[0],(He!==null?He.memoizedState:null)!==t&&(Ae.flags|=1024),s}function qc(){var t=kl!==0;return kl=0,t}function Bc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Hc(t){if(Ul){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ul=!1}Vn=0,st=He=Ae=null,Ls=!1,Fo=kl=0,qs=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ae.memoizedState=st=t:st=st.next=t,st}function tt(){if(He===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var s=st===null?Ae.memoizedState:st.next;if(s!==null)st=s,He=t;else{if(t===null)throw Ae.alternate===null?Error(o(467)):Error(o(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},st===null?Ae.memoizedState=st=t:st=st.next=t}return st}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var s=Fo;return Fo+=1,qs===null&&(qs=[]),t=Wp(qs,t,s),s=Ae,(st===null?s.memoizedState:st.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?Vm:Wc),t}function Ll(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===O)return _t(t)}throw Error(o(438,String(t)))}function Gc(t){var s=null,a=Ae.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=Ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Pl(),Ae.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=oe;return s.index++,a}function zn(t,s){return typeof s=="function"?s(t):s}function ql(t){var s=tt();return Oc(s,He,t)}function Oc(t,s,a){var r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var h=t.baseQueue,m=r.pending;if(m!==null){if(h!==null){var S=h.next;h.next=m.next,m.next=S}s.baseQueue=h=m,r.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var A=S=null,w=null,D=s,H=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(Re&V)===V:(Vn&V)===V){var k=D.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===Is&&(H=!0);else if((Vn&k)===k){D=D.next,k===Is&&(H=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(A=w=V,S=m):w=w.next=V,Ae.lanes|=k,Ti|=k;V=D.action,ji&&a(m,V),m=D.hasEagerState?D.eagerState:a(m,V)}else k={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(A=w=k,S=m):w=w.next=k,Ae.lanes|=V,Ti|=V;D=D.next}while(D!==null&&D!==s);if(w===null?S=m:w.next=A,!Ft(m,t.memoizedState)&&(ot=!0,H&&(a=Ds,a!==null)))throw a;t.memoizedState=m,t.baseState=S,t.baseQueue=w,r.lastRenderedState=m}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Vc(t){var s=tt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var r=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var S=h=h.next;do m=t(m,S.action),S=S.next;while(S!==h);Ft(m,s.memoizedState)||(ot=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,r]}function rm(t,s,a){var r=Ae,h=tt(),m=xe;if(m){if(a===void 0)throw Error(o(407));a=a()}else a=s();var S=!Ft((He||h).memoizedState,a);if(S&&(h.memoizedState=a,ot=!0),h=h.queue,Jc(fm.bind(null,r,h,t),[t]),h.getSnapshot!==s||S||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Bs(9,{destroy:void 0},cm.bind(null,r,h,a,s),null),Je===null)throw Error(o(349));m||(Vn&127)!==0||um(r,s,a)}return a}function um(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ae.updateQueue,s===null?(s=Pl(),Ae.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function cm(t,s,a,r){s.value=a,s.getSnapshot=r,dm(s)&&hm(t)}function fm(t,s,a){return a(function(){dm(s)&&hm(t)})}function dm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Ft(t,a)}catch{return!0}}function hm(t){var s=Fi(t,2);s!==null&&qt(s,t,2)}function zc(t){var s=bt();if(typeof t=="function"){var a=t;if(t=a(),ji){li(!0);try{a()}finally{li(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},s}function pm(t,s,a,r){return t.baseState=a,Oc(t,He,typeof r=="function"?r:zn)}function TE(t,s,a,r,h){if(Gl(t))throw Error(o(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};q.T!==null?a(!0):m.isTransition=!1,r(m),a=s.pending,a===null?(m.next=s.pending=m,mm(s,m)):(m.next=a.next,s.pending=a.next=m)}}function mm(t,s){var a=s.action,r=s.payload,h=t.state;if(s.isTransition){var m=q.T,S={};q.T=S;try{var A=a(h,r),w=q.S;w!==null&&w(S,A),gm(t,s,A)}catch(D){Fc(t,s,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),q.T=m}}else try{m=a(h,r),gm(t,s,m)}catch(D){Fc(t,s,D)}}function gm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ym(t,s,r)},function(r){return Fc(t,s,r)}):ym(t,s,a)}function ym(t,s,a){s.status="fulfilled",s.value=a,_m(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,mm(t,a)))}function Fc(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,_m(s),s=s.next;while(s!==r)}t.action=null}function _m(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function vm(t,s){return s}function Sm(t,s){if(xe){var a=Je.formState;if(a!==null){e:{var r=Ae;if(xe){if(Ye){t:{for(var h=Ye,m=cn;h.nodeType!==8;){if(!m){h=null;break t}if(h=dn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ye=dn(h.nextSibling),r=h.data==="F!";break e}}di(r)}r=!1}r&&(s=a[0])}}return a=bt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:s},a.queue=r,a=Hm.bind(null,Ae,r),r.dispatch=a,r=zc(!1),m=$c.bind(null,Ae,!1,r.queue),r=bt(),h={state:s,dispatch:null,action:t,pending:null},r.queue=h,a=TE.bind(null,Ae,h,m,a),h.dispatch=a,r.memoizedState=t,[s,a,!1]}function Tm(t){var s=tt();return Am(s,He,t)}function Am(t,s,a){if(s=Oc(t,s,vm)[0],t=ql(zn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=Jo(s)}catch(S){throw S===Us?Rl:S}else r=s;s=tt();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Ae.flags|=2048,Bs(9,{destroy:void 0},AE.bind(null,h,a),null)),[r,m,t]}function AE(t,s){t.action=s}function Em(t){var s=tt(),a=He;if(a!==null)return Am(s,a,t);tt(),s=s.memoizedState,a=tt();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Bs(t,s,a,r){return t={tag:t,create:a,deps:r,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=Pl(),Ae.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function Cm(){return tt().memoizedState}function Bl(t,s,a,r){var h=bt();Ae.flags|=t,h.memoizedState=Bs(1|s,{destroy:void 0},a,r===void 0?null:r)}function Hl(t,s,a,r){var h=tt();r=r===void 0?null:r;var m=h.memoizedState.inst;He!==null&&r!==null&&Pc(r,He.memoizedState.deps)?h.memoizedState=Bs(s,m,a,r):(Ae.flags|=t,h.memoizedState=Bs(1|s,m,a,r))}function wm(t,s){Bl(8390656,8,t,s)}function Jc(t,s){Hl(2048,8,t,s)}function EE(t){Ae.flags|=4;var s=Ae.updateQueue;if(s===null)s=Pl(),Ae.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Mm(t){var s=tt().memoizedState;return EE({ref:s,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Rm(t,s){return Hl(4,2,t,s)}function bm(t,s){return Hl(4,4,t,s)}function xm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Nm(t,s,a){a=a!=null?a.concat([t]):null,Hl(4,4,xm.bind(null,s,t),a)}function Yc(){}function Im(t,s){var a=tt();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&Pc(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function Dm(t,s){var a=tt();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&Pc(s,r[1]))return r[0];if(r=t(),ji){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[r,s],r}function Xc(t,s,a){return a===void 0||(Vn&1073741824)!==0&&(Re&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Ug(),Ae.lanes|=t,Ti|=t,a)}function Um(t,s,a,r){return Ft(a,s)?a:Ps.current!==null?(t=Xc(t,a,r),Ft(t,s)||(ot=!0),t):(Vn&42)===0||(Vn&1073741824)!==0&&(Re&261930)===0?(ot=!0,t.memoizedState=a):(t=Ug(),Ae.lanes|=t,Ti|=t,s)}function km(t,s,a,r,h){var m=Q.p;Q.p=m!==0&&8>m?m:8;var S=q.T,A={};q.T=A,$c(t,!1,s,a);try{var w=h(),D=q.S;if(D!==null&&D(A,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=_E(w,r);Yo(t,s,H,$t(t))}else Yo(t,s,r,$t(t))}catch(V){Yo(t,s,{then:function(){},status:"rejected",reason:V},$t())}finally{Q.p=m,S!==null&&A.types!==null&&(S.types=A.types),q.T=S}}function CE(){}function Kc(t,s,a,r){if(t.tag!==5)throw Error(o(476));var h=Pm(t).queue;km(t,h,s,pe,a===null?CE:function(){return Lm(t),a(r)})}function Pm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Lm(t){var s=Pm(t);s.next===null&&(s=t.alternate.memoizedState),Yo(t,s.next.queue,{},$t())}function Qc(){return _t(ua)}function qm(){return tt().memoizedState}function Bm(){return tt().memoizedState}function wE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=$t();t=mi(a);var r=gi(s,t,a);r!==null&&(qt(r,s,a),Oo(r,s,a)),s={cache:Cc()},t.payload=s;return}s=s.return}}function ME(t,s,a){var r=$t();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gl(t)?Gm(s,a):(a=hc(t,s,a,r),a!==null&&(qt(a,t,r),Om(a,s,r)))}function Hm(t,s,a){var r=$t();Yo(t,s,a,r)}function Yo(t,s,a,r){var h={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))Gm(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var S=s.lastRenderedState,A=m(S,a);if(h.hasEagerState=!0,h.eagerState=A,Ft(A,S))return Sl(t,s,h,0),Je===null&&vl(),!1}catch{}finally{}if(a=hc(t,s,h,r),a!==null)return qt(a,t,r),Om(a,s,r),!0}return!1}function $c(t,s,a,r){if(r={lane:2,revertLane:xf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(s)throw Error(o(479))}else s=hc(t,a,r,2),s!==null&&qt(s,t,2)}function Gl(t){var s=t.alternate;return t===Ae||s!==null&&s===Ae}function Gm(t,s){Ls=Ul=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Om(t,s,a){if((a&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Yh(t,a)}}var Xo={readContext:_t,use:Ll,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Xo.useEffectEvent=We;var Vm={readContext:_t,use:Ll,useCallback:function(t,s){return bt().memoizedState=[t,s===void 0?null:s],t},useContext:_t,useEffect:wm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Bl(4194308,4,xm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Bl(4194308,4,t,s)},useInsertionEffect:function(t,s){Bl(4,2,t,s)},useMemo:function(t,s){var a=bt();s=s===void 0?null:s;var r=t();if(ji){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=bt();if(a!==void 0){var h=a(s);if(ji){li(!0);try{a(s)}finally{li(!1)}}}else h=s;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=ME.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var s=bt();return t={current:t},s.memoizedState=t},useState:function(t){t=zc(t);var s=t.queue,a=Hm.bind(null,Ae,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Yc,useDeferredValue:function(t,s){var a=bt();return Xc(a,t,s)},useTransition:function(){var t=zc(!1);return t=km.bind(null,Ae,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=Ae,h=bt();if(xe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Je===null)throw Error(o(349));(Re&127)!==0||um(r,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,wm(fm.bind(null,r,m,t),[t]),r.flags|=2048,Bs(9,{destroy:void 0},cm.bind(null,r,m,a,s),null),a},useId:function(){var t=bt(),s=Je.identifierPrefix;if(xe){var a=xn,r=bn;a=(r&~(1<<32-zt(r)-1)).toString(32)+a,s="_"+s+"R_"+a,a=kl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=vE++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Qc,useFormState:Sm,useActionState:Sm,useOptimistic:function(t){var s=bt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=$c.bind(null,Ae,!0,a),a.dispatch=s,[t,s]},useMemoCache:Gc,useCacheRefresh:function(){return bt().memoizedState=wE.bind(null,Ae)},useEffectEvent:function(t){var s=bt(),a={impl:t};return s.memoizedState=a,function(){if((Pe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Wc={readContext:_t,use:Ll,useCallback:Im,useContext:_t,useEffect:Jc,useImperativeHandle:Nm,useInsertionEffect:Rm,useLayoutEffect:bm,useMemo:Dm,useReducer:ql,useRef:Cm,useState:function(){return ql(zn)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=tt();return Um(a,He.memoizedState,t,s)},useTransition:function(){var t=ql(zn)[0],s=tt().memoizedState;return[typeof t=="boolean"?t:Jo(t),s]},useSyncExternalStore:rm,useId:qm,useHostTransitionStatus:Qc,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,s){var a=tt();return pm(a,He,t,s)},useMemoCache:Gc,useCacheRefresh:Bm};Wc.useEffectEvent=Mm;var zm={readContext:_t,use:Ll,useCallback:Im,useContext:_t,useEffect:Jc,useImperativeHandle:Nm,useInsertionEffect:Rm,useLayoutEffect:bm,useMemo:Dm,useReducer:Vc,useRef:Cm,useState:function(){return Vc(zn)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=tt();return He===null?Xc(a,t,s):Um(a,He.memoizedState,t,s)},useTransition:function(){var t=Vc(zn)[0],s=tt().memoizedState;return[typeof t=="boolean"?t:Jo(t),s]},useSyncExternalStore:rm,useId:qm,useHostTransitionStatus:Qc,useFormState:Em,useActionState:Em,useOptimistic:function(t,s){var a=tt();return He!==null?pm(a,He,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Bm};zm.useEffectEvent=Mm;function Zc(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:v({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jc={enqueueSetState:function(t,s,a){t=t._reactInternals;var r=$t(),h=mi(r);h.payload=s,a!=null&&(h.callback=a),s=gi(t,h,r),s!==null&&(qt(s,t,r),Oo(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=$t(),h=mi(r);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=gi(t,h,r),s!==null&&(qt(s,t,r),Oo(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=$t(),r=mi(a);r.tag=2,s!=null&&(r.callback=s),s=gi(t,r,a),s!==null&&(qt(s,t,a),Oo(s,t,a))}};function Fm(t,s,a,r,h,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,m,S):s.prototype&&s.prototype.isPureReactComponent?!Uo(a,r)||!Uo(h,m):!0}function Jm(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&jc.enqueueReplaceState(s,s.state,null)}function es(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ym(t){_l(t)}function Xm(t){console.error(t)}function Km(t){_l(t)}function Ol(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function Qm(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,s,a){return a=mi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ol(t,s)},a}function $m(t){return t=mi(t),t.tag=3,t}function Wm(t,s,a,r){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=r.value;t.payload=function(){return h(m)},t.callback=function(){Qm(s,a,r)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Qm(s,a,r),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var A=r.stack;this.componentDidCatch(r.value,{componentStack:A!==null?A:""})})}function RE(t,s,a,r,h){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&Ns(s,a,h,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return fn===null?jl():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=h,r===bl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),Mf(t,r,h)),!1;case 22:return a.flags|=65536,r===bl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),Mf(t,r,h)),!1}throw Error(o(435,a.tag))}return Mf(t,r,h),jl(),!1}if(xe)return s=Yt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,r!==vc&&(t=Error(o(422),{cause:r}),Lo(ln(t,a)))):(r!==vc&&(s=Error(o(423),{cause:r}),Lo(ln(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=ln(r,a),h=ef(t.stateNode,r,h),Nc(t,h),Ze!==4&&(Ze=2)),!1;var m=Error(o(520),{cause:r});if(m=ln(m,a),ta===null?ta=[m]:ta.push(m),Ze!==4&&(Ze=2),s===null)return!0;r=ln(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,r,t),Nc(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ai===null||!Ai.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$m(h),Wm(h,t,a,r),Nc(a,h),!1}a=a.return}while(a!==null);return!1}var tf=Error(o(461)),ot=!1;function vt(t,s,a,r){s.child=t===null?tm(s,null,a,r):Zi(s,t.child,a,r)}function Zm(t,s,a,r,h){a=a.render;var m=s.ref;if("ref"in r){var S={};for(var A in r)A!=="ref"&&(S[A]=r[A])}else S=r;return Ki(s),r=Lc(t,s,a,S,m,h),A=qc(),t!==null&&!ot?(Bc(t,s,h),Fn(t,s,h)):(xe&&A&&yc(s),s.flags|=1,vt(t,s,r,h),s.child)}function jm(t,s,a,r,h){if(t===null){var m=a.type;return typeof m=="function"&&!pc(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,eg(t,s,m,r,h)):(t=Al(a.type,null,r,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!cf(t,h)){var S=m.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(S,r)&&t.ref===s.ref)return Fn(t,s,h)}return s.flags|=1,t=Bn(m,r),t.ref=s.ref,t.return=s,s.child=t}function eg(t,s,a,r,h){if(t!==null){var m=t.memoizedProps;if(Uo(m,r)&&t.ref===s.ref)if(ot=!1,s.pendingProps=r=m,cf(t,h))(t.flags&131072)!==0&&(ot=!0);else return s.lanes=t.lanes,Fn(t,s,h)}return nf(t,s,a,r,h)}function tg(t,s,a,r){var h=r.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(r=s.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~m}else r=0,s.child=null;return ng(t,s,m,a,r)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ml(s,m!==null?m.cachePool:null),m!==null?sm(s,m):Dc(),om(s);else return r=s.lanes=536870912,ng(t,s,m!==null?m.baseLanes|a:a,a,r)}else m!==null?(Ml(s,m.cachePool),sm(s,m),_i(),s.memoizedState=null):(t!==null&&Ml(s,null),Dc(),_i());return vt(t,s,h,a),s.child}function Ko(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ng(t,s,a,r,h){var m=Mc();return m=m===null?null:{parent:it._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ml(s,null),Dc(),om(s),t!==null&&Ns(t,s,r,!0),s.childLanes=h,null}function Vl(t,s){return s=Fl({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function ig(t,s,a){return Zi(s,t.child,null,a),t=Vl(s,s.pendingProps),t.flags|=2,Xt(s),s.memoizedState=null,t}function bE(t,s,a){var r=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(xe){if(r.mode==="hidden")return t=Vl(s,r),s.lanes=536870912,Ko(null,t);if(kc(s),(t=Ye)?(t=my(t,cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ci!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=s,s.child=a,yt=s,Ye=null)):t=null,t===null)throw di(s);return s.lanes=536870912,null}return Vl(s,r)}var m=t.memoizedState;if(m!==null){var S=m.dehydrated;if(kc(s),h)if(s.flags&256)s.flags&=-257,s=ig(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(ot||Ns(t,s,a,!1),h=(a&t.childLanes)!==0,ot||h){if(r=Je,r!==null&&(S=Xh(r,a),S!==0&&S!==m.retryLane))throw m.retryLane=S,Fi(t,S),qt(r,t,S),tf;jl(),s=ig(t,s,a)}else t=m.treeContext,Ye=dn(S.nextSibling),yt=s,xe=!0,fi=null,cn=!1,t!==null&&zp(s,t),s=Vl(s,r),s.flags|=4096;return s}return t=Bn(t.child,{mode:r.mode,children:r.children}),t.ref=s.ref,s.child=t,t.return=s,t}function zl(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function nf(t,s,a,r,h){return Ki(s),a=Lc(t,s,a,r,void 0,h),r=qc(),t!==null&&!ot?(Bc(t,s,h),Fn(t,s,h)):(xe&&r&&yc(s),s.flags|=1,vt(t,s,a,h),s.child)}function sg(t,s,a,r,h,m){return Ki(s),s.updateQueue=null,a=lm(s,r,a,h),am(t),r=qc(),t!==null&&!ot?(Bc(t,s,m),Fn(t,s,m)):(xe&&r&&yc(s),s.flags|=1,vt(t,s,a,m),s.child)}function og(t,s,a,r,h){if(Ki(s),s.stateNode===null){var m=Ms,S=a.contextType;typeof S=="object"&&S!==null&&(m=_t(S)),m=new a(r,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jc,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=r,m.state=s.memoizedState,m.refs={},bc(s),S=a.contextType,m.context=typeof S=="object"&&S!==null?_t(S):Ms,m.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Zc(s,a,S,r),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&jc.enqueueReplaceState(m,m.state,null),zo(s,r,m,h),Vo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){m=s.stateNode;var A=s.memoizedProps,w=es(a,A);m.props=w;var D=m.context,H=a.contextType;S=Ms,typeof H=="object"&&H!==null&&(S=_t(H));var V=a.getDerivedStateFromProps;H=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||D!==S)&&Jm(s,m,r,S),pi=!1;var k=s.memoizedState;m.state=k,zo(s,r,m,h),Vo(),D=s.memoizedState,A||k!==D||pi?(typeof V=="function"&&(Zc(s,a,V,r),D=s.memoizedState),(w=pi||Fm(s,a,w,r,k,D,S))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=D),m.props=r,m.state=D,m.context=S,r=w):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{m=s.stateNode,xc(t,s),S=s.memoizedProps,H=es(a,S),m.props=H,V=s.pendingProps,k=m.context,D=a.contextType,w=Ms,typeof D=="object"&&D!==null&&(w=_t(D)),A=a.getDerivedStateFromProps,(D=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==V||k!==w)&&Jm(s,m,r,w),pi=!1,k=s.memoizedState,m.state=k,zo(s,r,m,h),Vo();var L=s.memoizedState;S!==V||k!==L||pi||t!==null&&t.dependencies!==null&&Cl(t.dependencies)?(typeof A=="function"&&(Zc(s,a,A,r),L=s.memoizedState),(H=pi||Fm(s,a,H,r,k,L,w)||t!==null&&t.dependencies!==null&&Cl(t.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,L,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,L,w)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=L),m.props=r,m.state=L,m.context=w,r=H):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),r=!1)}return m=r,zl(t,s),r=(s.flags&128)!==0,m||r?(m=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&r?(s.child=Zi(s,t.child,null,h),s.child=Zi(s,null,a,h)):vt(t,s,a,h),s.memoizedState=m.state,t=s.child):t=Fn(t,s,h),t}function ag(t,s,a,r){return Yi(),s.flags|=256,vt(t,s,a,r),s.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:Qp()}}function af(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Qt),t}function lg(t,s,a){var r=s.pendingProps,h=!1,m=(s.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(xe){if(h?yi(s):_i(),(t=Ye)?(t=my(t,cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ci!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=s,s.child=a,yt=s,Ye=null)):t=null,t===null)throw di(s);return Vf(t)?s.lanes=32:s.lanes=536870912,null}var A=r.children;return r=r.fallback,h?(_i(),h=s.mode,A=Fl({mode:"hidden",children:A},h),r=Ji(r,h,a,null),A.return=s,r.return=s,A.sibling=r,s.child=A,r=s.child,r.memoizedState=of(a),r.childLanes=af(t,S,a),s.memoizedState=sf,Ko(null,r)):(yi(s),lf(s,A))}var w=t.memoizedState;if(w!==null&&(A=w.dehydrated,A!==null)){if(m)s.flags&256?(yi(s),s.flags&=-257,s=rf(t,s,a)):s.memoizedState!==null?(_i(),s.child=t.child,s.flags|=128,s=null):(_i(),A=r.fallback,h=s.mode,r=Fl({mode:"visible",children:r.children},h),A=Ji(A,h,a,null),A.flags|=2,r.return=s,A.return=s,r.sibling=A,s.child=r,Zi(s,t.child,null,a),r=s.child,r.memoizedState=of(a),r.childLanes=af(t,S,a),s.memoizedState=sf,s=Ko(null,r));else if(yi(s),Vf(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var D=S.dgst;S=D,r=Error(o(419)),r.stack="",r.digest=S,Lo({value:r,source:null,stack:null}),s=rf(t,s,a)}else if(ot||Ns(t,s,a,!1),S=(a&t.childLanes)!==0,ot||S){if(S=Je,S!==null&&(r=Xh(S,a),r!==0&&r!==w.retryLane))throw w.retryLane=r,Fi(t,r),qt(S,t,r),tf;Of(A)||jl(),s=rf(t,s,a)}else Of(A)?(s.flags|=192,s.child=t.child,s=null):(t=w.treeContext,Ye=dn(A.nextSibling),yt=s,xe=!0,fi=null,cn=!1,t!==null&&zp(s,t),s=lf(s,r.children),s.flags|=4096);return s}return h?(_i(),A=r.fallback,h=s.mode,w=t.child,D=w.sibling,r=Bn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,D!==null?A=Bn(D,A):(A=Ji(A,h,a,null),A.flags|=2),A.return=s,r.return=s,r.sibling=A,s.child=r,Ko(null,r),r=s.child,A=t.child.memoizedState,A===null?A=of(a):(h=A.cachePool,h!==null?(w=it._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Qp(),A={baseLanes:A.baseLanes|a,cachePool:h}),r.memoizedState=A,r.childLanes=af(t,S,a),s.memoizedState=sf,Ko(t.child,r)):(yi(s),a=t.child,t=a.sibling,a=Bn(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=a,s.memoizedState=null,a)}function lf(t,s){return s=Fl({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Fl(t,s){return t=Jt(22,t,null,s),t.lanes=0,t}function rf(t,s,a){return Zi(s,t.child,null,a),t=lf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function rg(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),Ac(t.return,s,a)}function uf(t,s,a,r,h,m){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:h,treeForkCount:m}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=a,S.tailMode=h,S.treeForkCount=m)}function ug(t,s,a){var r=s.pendingProps,h=r.revealOrder,m=r.tail;r=r.children;var S=et.current,A=(S&2)!==0;if(A?(S=S&1|2,s.flags|=128):S&=1,j(et,S),vt(t,s,r,a),r=xe?Po:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,a,s);else if(t.tag===19)rg(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Dl(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),uf(s,!1,h,a,m,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}uf(s,!0,a,null,m,r);break;case"together":uf(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function Fn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ti|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ns(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Bn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Bn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function cf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Cl(t)))}function xE(t,s,a){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),hi(s,it,t.memoizedState.cache),Yi();break;case 27:case 5:Gt(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:hi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,kc(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(yi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?lg(t,s,a):(yi(s),t=Fn(t,s,a),t!==null?t.sibling:null);yi(s);break;case 19:var h=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(Ns(t,s,a,!1),r=(a&s.childLanes)!==0),h){if(r)return ug(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),j(et,et.current),r)break;return null;case 22:return s.lanes=0,tg(t,s,a,s.pendingProps);case 24:hi(s,it,t.memoizedState.cache)}return Fn(t,s,a)}function cg(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)ot=!0;else{if(!cf(t,a)&&(s.flags&128)===0)return ot=!1,xE(t,s,a);ot=(t.flags&131072)!==0}else ot=!1,xe&&(s.flags&1048576)!==0&&Vp(s,Po,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(t=$i(s.elementType),s.type=t,typeof t=="function")pc(t)?(r=es(t,r),s.tag=1,s=og(null,s,t,r,a)):(s.tag=0,s=nf(null,s,t,r,a));else{if(t!=null){var h=t.$$typeof;if(h===K){s.tag=11,s=Zm(null,s,t,r,a);break e}else if(h===Y){s.tag=14,s=jm(null,s,t,r,a);break e}}throw s=je(t)||t,Error(o(306,s,""))}}return s;case 0:return nf(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,h=es(r,s.pendingProps),og(t,s,r,h,a);case 3:e:{if(ze(s,s.stateNode.containerInfo),t===null)throw Error(o(387));r=s.pendingProps;var m=s.memoizedState;h=m.element,xc(t,s),zo(s,r,null,a);var S=s.memoizedState;if(r=S.cache,hi(s,it,r),r!==m.cache&&Ec(s,[it],a,!0),Vo(),r=S.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=ag(t,s,r,a);break e}else if(r!==h){h=ln(Error(o(424)),s),Lo(h),s=ag(t,s,r,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ye=dn(t.firstChild),yt=s,xe=!0,fi=null,cn=!0,a=tm(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yi(),r===h){s=Fn(t,s,a);break e}vt(t,s,r,a)}s=s.child}return s;case 26:return zl(t,s),t===null?(a=Ty(s.type,null,s.pendingProps,null))?s.memoizedState=a:xe||(a=s.type,t=s.pendingProps,r=ar(ae.current).createElement(a),r[gt]=s,r[It]=t,St(r,a,t),ht(r),s.stateNode=r):s.memoizedState=Ty(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Gt(s),t===null&&xe&&(r=s.stateNode=_y(s.type,s.pendingProps,ae.current),yt=s,cn=!0,h=Ye,Mi(s.type)?(zf=h,Ye=dn(r.firstChild)):Ye=h),vt(t,s,s.pendingProps.children,a),zl(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&xe&&((h=r=Ye)&&(r=oC(r,s.type,s.pendingProps,cn),r!==null?(s.stateNode=r,yt=s,Ye=dn(r.firstChild),cn=!1,h=!0):h=!1),h||di(s)),Gt(s),h=s.type,m=s.pendingProps,S=t!==null?t.memoizedProps:null,r=m.children,Bf(h,m)?r=null:S!==null&&Bf(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=Lc(t,s,SE,null,null,a),ua._currentValue=h),zl(t,s),vt(t,s,r,a),s.child;case 6:return t===null&&xe&&((t=a=Ye)&&(a=aC(a,s.pendingProps,cn),a!==null?(s.stateNode=a,yt=s,Ye=null,t=!0):t=!1),t||di(s)),null;case 13:return lg(t,s,a);case 4:return ze(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Zi(s,null,r,a):vt(t,s,r,a),s.child;case 11:return Zm(t,s,s.type,s.pendingProps,a);case 7:return vt(t,s,s.pendingProps,a),s.child;case 8:return vt(t,s,s.pendingProps.children,a),s.child;case 12:return vt(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,hi(s,s.type,r.value),vt(t,s,r.children,a),s.child;case 9:return h=s.type._context,r=s.pendingProps.children,Ki(s),h=_t(h),r=r(h),s.flags|=1,vt(t,s,r,a),s.child;case 14:return jm(t,s,s.type,s.pendingProps,a);case 15:return eg(t,s,s.type,s.pendingProps,a);case 19:return ug(t,s,a);case 31:return bE(t,s,a);case 22:return tg(t,s,a,s.pendingProps);case 24:return Ki(s),r=_t(it),t===null?(h=Mc(),h===null&&(h=Je,m=Cc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:r,cache:h},bc(s),hi(s,it,h)):((t.lanes&a)!==0&&(xc(t,s),zo(s,null,null,a),Vo()),h=t.memoizedState,m=s.memoizedState,h.parent!==r?(h={parent:r,cache:r},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),hi(s,it,r)):(r=m.cache,hi(s,it,r),r!==h.cache&&Ec(s,[it],a,!0))),vt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Jn(t){t.flags|=4}function ff(t,s,a,r,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qg())t.flags|=8192;else throw Wi=bl,Rc}else t.flags&=-16777217}function fg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(s))if(qg())t.flags|=8192;else throw Wi=bl,Rc}function Jl(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Fh():536870912,t.lanes|=s,Vs|=s)}function Qo(t,s){if(!xe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function NE(t,s,a){var r=s.pendingProps;switch(_c(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),On(it),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xs(s)?Jn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sc())),Xe(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(Jn(s),m!==null?(Xe(s),fg(s,m)):(Xe(s),ff(s,h,null,r,a))):m?m!==t.memoizedState?(Jn(s),Xe(s),fg(s,m)):(Xe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==r&&Jn(s),Xe(s),ff(s,h,t,r,a)),null;case 27:if(_n(s),a=ae.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Jn(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Xe(s),null}t=se.current,xs(s)?Fp(s):(t=_y(h,r,a),s.stateNode=t,Jn(s))}return Xe(s),null;case 5:if(_n(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Jn(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Xe(s),null}if(m=se.current,xs(s))Fp(s);else{var S=ar(ae.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?m.multiple=!0:r.size&&(m.size=r.size);break;default:m=typeof r.is=="string"?S.createElement(h,{is:r.is}):S.createElement(h)}}m[gt]=s,m[It]=r;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=m;e:switch(St(m,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Jn(s)}}return Xe(s),ff(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&Jn(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(o(166));if(t=ae.current,xs(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,h=yt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[gt]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||ly(t.nodeValue,a)),t||di(s,!0)}else t=ar(t).createTextNode(r),t[gt]=s,s.stateNode=t}return Xe(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(r=xs(s),a!==null){if(t===null){if(!r)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[gt]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),t=!1}else a=Sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Xt(s),s):(Xt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Xe(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xs(s),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[gt]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),h=!1}else h=Sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Xt(s),s):(Xt(s),null)}return Xt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=s.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==h&&(r.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Jl(s,s.updateQueue),Xe(s),null);case 4:return Fe(),t===null&&Uf(s.stateNode.containerInfo),Xe(s),null;case 10:return On(s.type),Xe(s),null;case 19:if(z(et),r=s.memoizedState,r===null)return Xe(s),null;if(h=(s.flags&128)!==0,m=r.rendering,m===null)if(h)Qo(r,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Dl(t),m!==null){for(s.flags|=128,Qo(r,!1),t=m.updateQueue,s.updateQueue=t,Jl(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Hp(a,t),a=a.sibling;return j(et,et.current&1|2),xe&&Hn(s,r.treeForkCount),s.child}t=t.sibling}r.tail!==null&&Ot()>$l&&(s.flags|=128,h=!0,Qo(r,!1),s.lanes=4194304)}else{if(!h)if(t=Dl(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,Jl(s,t),Qo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!m.alternate&&!xe)return Xe(s),null}else 2*Ot()-r.renderingStartTime>$l&&a!==536870912&&(s.flags|=128,h=!0,Qo(r,!1),s.lanes=4194304);r.isBackwards?(m.sibling=s.child,s.child=m):(t=r.last,t!==null?t.sibling=m:s.child=m,r.last=m)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ot(),t.sibling=null,a=et.current,j(et,h?a&1|2:a&1),xe&&Hn(s,r.treeForkCount),t):(Xe(s),null);case 22:case 23:return Xt(s),Uc(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),a=s.updateQueue,a!==null&&Jl(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&z(Qi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),On(it),Xe(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function IE(t,s){switch(_c(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return On(it),Fe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return _n(s),null;case 31:if(s.memoizedState!==null){if(Xt(s),s.alternate===null)throw Error(o(340));Yi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Xt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Yi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return z(et),null;case 4:return Fe(),null;case 10:return On(s.type),null;case 22:case 23:return Xt(s),Uc(),t!==null&&z(Qi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return On(it),null;case 25:return null;default:return null}}function dg(t,s){switch(_c(s),s.tag){case 3:On(it),Fe();break;case 26:case 27:case 5:_n(s);break;case 4:Fe();break;case 31:s.memoizedState!==null&&Xt(s);break;case 13:Xt(s);break;case 19:z(et);break;case 10:On(s.type);break;case 22:case 23:Xt(s),Uc(),t!==null&&z(Qi);break;case 24:On(it)}}function $o(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var h=r.next;a=h;do{if((a.tag&t)===t){r=void 0;var m=a.create,S=a.inst;r=m(),S.destroy=r}a=a.next}while(a!==h)}}catch(A){Be(s,s.return,A)}}function vi(t,s,a){try{var r=s.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var m=h.next;r=m;do{if((r.tag&t)===t){var S=r.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,h=s;var w=a,D=A;try{D()}catch(H){Be(h,w,H)}}}r=r.next}while(r!==m)}}catch(H){Be(s,s.return,H)}}function hg(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{im(s,a)}catch(r){Be(t,t.return,r)}}}function pg(t,s,a){a.props=es(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Be(t,s,r)}}function Wo(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(h){Be(t,s,h)}}function Nn(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(h){Be(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Be(t,s,h)}else a.current=null}function mg(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(h){Be(t,t.return,h)}}function df(t,s,a){try{var r=t.stateNode;jE(r,t.type,a,s),r[It]=s}catch(h){Be(t,t.return,h)}}function gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mi(t.type)||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pf(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ln));else if(r!==4&&(r===27&&Mi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(pf(t,s,a),t=t.sibling;t!==null;)pf(t,s,a),t=t.sibling}function Yl(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(r===27&&Mi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yl(t,s,a),t=t.sibling;t!==null;)Yl(t,s,a),t=t.sibling}function yg(t){var s=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);St(s,r,a),s[gt]=t,s[It]=a}catch(m){Be(t,t.return,m)}}var Yn=!1,at=!1,mf=!1,_g=typeof WeakSet=="function"?WeakSet:Set,pt=null;function DE(t,s){if(t=t.containerInfo,Lf=hr,t=Np(t),lc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var h=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var S=0,A=-1,w=-1,D=0,H=0,V=t,k=null;t:for(;;){for(var L;V!==a||h!==0&&V.nodeType!==3||(A=S+h),V!==m||r!==0&&V.nodeType!==3||(w=S+r),V.nodeType===3&&(S+=V.nodeValue.length),(L=V.firstChild)!==null;)k=V,V=L;for(;;){if(V===t)break t;if(k===a&&++D===h&&(A=S),k===m&&++H===r&&(w=S),(L=V.nextSibling)!==null)break;V=k,k=V.parentNode}V=L}a=A===-1||w===-1?null:{start:A,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},hr=!1,pt=s;pt!==null;)if(s=pt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,pt=t;else for(;pt!==null;){switch(s=pt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,r=a.stateNode;try{var ne=es(a.type,h);t=r.getSnapshotBeforeUpdate(ne,m),r.__reactInternalSnapshotBeforeUpdate=t}catch(he){Be(a,a.return,he)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,pt=t;break}pt=s.return}}function vg(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Kn(t,a),r&4&&$o(5,a);break;case 1:if(Kn(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(S){Be(a,a.return,S)}else{var h=es(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Be(a,a.return,S)}}r&64&&hg(a),r&512&&Wo(a,a.return);break;case 3:if(Kn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{im(t,s)}catch(S){Be(a,a.return,S)}}break;case 27:s===null&&r&4&&yg(a);case 26:case 5:Kn(t,a),s===null&&r&4&&mg(a),r&512&&Wo(a,a.return);break;case 12:Kn(t,a);break;case 31:Kn(t,a),r&4&&Ag(t,a);break;case 13:Kn(t,a),r&4&&Eg(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OE.bind(null,a),lC(t,a))));break;case 22:if(r=a.memoizedState!==null||Yn,!r){s=s!==null&&s.memoizedState!==null||at,h=Yn;var m=at;Yn=r,(at=s)&&!m?Qn(t,a,(a.subtreeFlags&8772)!==0):Kn(t,a),Yn=h,at=m}break;case 30:break;default:Kn(t,a)}}function Sg(t){var s=t.alternate;s!==null&&(t.alternate=null,Sg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Fu(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $e=null,Ut=!1;function Xn(t,s,a){for(a=a.child;a!==null;)Tg(t,s,a),a=a.sibling}function Tg(t,s,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(To,a)}catch{}switch(a.tag){case 26:at||Nn(a,s),Xn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||Nn(a,s);var r=$e,h=Ut;Mi(a.type)&&($e=a.stateNode,Ut=!1),Xn(t,s,a),aa(a.stateNode),$e=r,Ut=h;break;case 5:at||Nn(a,s);case 6:if(r=$e,h=Ut,$e=null,Xn(t,s,a),$e=r,Ut=h,$e!==null)if(Ut)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(m){Be(a,s,m)}else try{$e.removeChild(a.stateNode)}catch(m){Be(a,s,m)}break;case 18:$e!==null&&(Ut?(t=$e,hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$s(t)):hy($e,a.stateNode));break;case 4:r=$e,h=Ut,$e=a.stateNode.containerInfo,Ut=!0,Xn(t,s,a),$e=r,Ut=h;break;case 0:case 11:case 14:case 15:vi(2,a,s),at||vi(4,a,s),Xn(t,s,a);break;case 1:at||(Nn(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&pg(a,s,r)),Xn(t,s,a);break;case 21:Xn(t,s,a);break;case 22:at=(r=at)||a.memoizedState!==null,Xn(t,s,a),at=r;break;default:Xn(t,s,a)}}function Ag(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$s(t)}catch(a){Be(s,s.return,a)}}}function Eg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$s(t)}catch(a){Be(s,s.return,a)}}function UE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new _g),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new _g),s;default:throw Error(o(435,t.tag))}}function Xl(t,s){var a=UE(t);s.forEach(function(r){if(!a.has(r)){a.add(r);var h=VE.bind(null,t,r);r.then(h,h)}})}function kt(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var h=a[r],m=t,S=s,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Mi(A.type)){$e=A.stateNode,Ut=!1;break e}break;case 5:$e=A.stateNode,Ut=!1;break e;case 3:case 4:$e=A.stateNode.containerInfo,Ut=!0;break e}A=A.return}if($e===null)throw Error(o(160));Tg(m,S,h),$e=null,Ut=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Cg(s,t),s=s.sibling}var Sn=null;function Cg(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kt(s,t),Pt(t),r&4&&(vi(3,t,t.return),$o(3,t),vi(5,t,t.return));break;case 1:kt(s,t),Pt(t),r&512&&(at||a===null||Nn(a,a.return)),r&64&&Yn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var h=Sn;if(kt(s,t),Pt(t),r&512&&(at||a===null||Nn(a,a.return)),r&4){var m=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Co]||m[gt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(r),h.head.insertBefore(m,h.querySelector("head > title"))),St(m,r,a),m[gt]=t,ht(m),r=m;break e;case"link":var S=Cy("link","href",h).get(r+(a.href||""));if(S){for(var A=0;A<S.length;A++)if(m=S[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(A,1);break t}}m=h.createElement(r),St(m,r,a),h.head.appendChild(m);break;case"meta":if(S=Cy("meta","content",h).get(r+(a.content||""))){for(A=0;A<S.length;A++)if(m=S[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(A,1);break t}}m=h.createElement(r),St(m,r,a),h.head.appendChild(m);break;default:throw Error(o(468,r))}m[gt]=t,ht(m),r=m}t.stateNode=r}else wy(h,t.type,t.stateNode);else t.stateNode=Ey(h,r,t.memoizedProps);else m!==r?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,r===null?wy(h,t.type,t.stateNode):Ey(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&df(t,t.memoizedProps,a.memoizedProps)}break;case 27:kt(s,t),Pt(t),r&512&&(at||a===null||Nn(a,a.return)),a!==null&&r&4&&df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(kt(s,t),Pt(t),r&512&&(at||a===null||Nn(a,a.return)),t.flags&32){h=t.stateNode;try{vs(h,"")}catch(ne){Be(t,t.return,ne)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,a!==null?a.memoizedProps:h)),r&1024&&(mf=!0);break;case 6:if(kt(s,t),Pt(t),r&4){if(t.stateNode===null)throw Error(o(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ne){Be(t,t.return,ne)}}break;case 3:if(ur=null,h=Sn,Sn=lr(s.containerInfo),kt(s,t),Sn=h,Pt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(ne){Be(t,t.return,ne)}mf&&(mf=!1,wg(t));break;case 4:r=Sn,Sn=lr(t.stateNode.containerInfo),kt(s,t),Pt(t),Sn=r;break;case 12:kt(s,t),Pt(t);break;case 31:kt(s,t),Pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 13:kt(s,t),Pt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ql=Ot()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,D=Yn,H=at;if(Yn=D||h,at=H||w,kt(s,t),at=H,Yn=D,Pt(t),r&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||w||Yn||at||ts(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){w=a=s;try{if(m=w.stateNode,h)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=w.stateNode;var V=w.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null;A.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ne){Be(w,w.return,ne)}}}else if(s.tag===6){if(a===null){w=s;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ne){Be(w,w.return,ne)}}}else if(s.tag===18){if(a===null){w=s;try{var L=w.stateNode;h?py(L,!0):py(w.stateNode,!1)}catch(ne){Be(w,w.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Xl(t,a))));break;case 19:kt(s,t),Pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 30:break;case 21:break;default:kt(s,t),Pt(t)}}function Pt(t){var s=t.flags;if(s&2){try{for(var a,r=t.return;r!==null;){if(gg(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var h=a.stateNode,m=hf(t);Yl(t,m,h);break;case 5:var S=a.stateNode;a.flags&32&&(vs(S,""),a.flags&=-33);var A=hf(t);Yl(t,A,S);break;case 3:case 4:var w=a.stateNode.containerInfo,D=hf(t);pf(t,D,w);break;default:throw Error(o(161))}}catch(H){Be(t,t.return,H)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;wg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Kn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vg(t,s.alternate,s),s=s.sibling}function ts(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:vi(4,s,s.return),ts(s);break;case 1:Nn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&pg(s,s.return,a),ts(s);break;case 27:aa(s.stateNode);case 26:case 5:Nn(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}t=t.sibling}}function Qn(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,h=t,m=s,S=m.flags;switch(m.tag){case 0:case 11:case 15:Qn(h,m,a),$o(4,m);break;case 1:if(Qn(h,m,a),r=m,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){Be(r,r.return,D)}if(r=m,h=r.updateQueue,h!==null){var A=r.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)nm(w[h],A)}catch(D){Be(r,r.return,D)}}a&&S&64&&hg(m),Wo(m,m.return);break;case 27:yg(m);case 26:case 5:Qn(h,m,a),a&&r===null&&S&4&&mg(m),Wo(m,m.return);break;case 12:Qn(h,m,a);break;case 31:Qn(h,m,a),a&&S&4&&Ag(h,m);break;case 13:Qn(h,m,a),a&&S&4&&Eg(h,m);break;case 22:m.memoizedState===null&&Qn(h,m,a),Wo(m,m.return);break;case 30:break;default:Qn(h,m,a)}s=s.sibling}}function gf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qo(a))}function yf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&qo(t))}function Tn(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mg(t,s,a,r),s=s.sibling}function Mg(t,s,a,r){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Tn(t,s,a,r),h&2048&&$o(9,s);break;case 1:Tn(t,s,a,r);break;case 3:Tn(t,s,a,r),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){Tn(t,s,a,r),t=s.stateNode;try{var m=s.memoizedProps,S=m.id,A=m.onPostCommit;typeof A=="function"&&A(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Be(s,s.return,w)}}else Tn(t,s,a,r);break;case 31:Tn(t,s,a,r);break;case 13:Tn(t,s,a,r);break;case 23:break;case 22:m=s.stateNode,S=s.alternate,s.memoizedState!==null?m._visibility&2?Tn(t,s,a,r):Zo(t,s):m._visibility&2?Tn(t,s,a,r):(m._visibility|=2,Hs(t,s,a,r,(s.subtreeFlags&10256)!==0||!1)),h&2048&&gf(S,s);break;case 24:Tn(t,s,a,r),h&2048&&yf(s.alternate,s);break;default:Tn(t,s,a,r)}}function Hs(t,s,a,r,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,S=s,A=a,w=r,D=S.flags;switch(S.tag){case 0:case 11:case 15:Hs(m,S,A,w,h),$o(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?Hs(m,S,A,w,h):Zo(m,S):(H._visibility|=2,Hs(m,S,A,w,h)),h&&D&2048&&gf(S.alternate,S);break;case 24:Hs(m,S,A,w,h),h&&D&2048&&yf(S.alternate,S);break;default:Hs(m,S,A,w,h)}s=s.sibling}}function Zo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,h=r.flags;switch(r.tag){case 22:Zo(a,r),h&2048&&gf(r.alternate,r);break;case 24:Zo(a,r),h&2048&&yf(r.alternate,r);break;default:Zo(a,r)}s=s.sibling}}var jo=8192;function Gs(t,s,a){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)Rg(t,s,a),t=t.sibling}function Rg(t,s,a){switch(t.tag){case 26:Gs(t,s,a),t.flags&jo&&t.memoizedState!==null&&vC(a,Sn,t.memoizedState,t.memoizedProps);break;case 5:Gs(t,s,a);break;case 3:case 4:var r=Sn;Sn=lr(t.stateNode.containerInfo),Gs(t,s,a),Sn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=jo,jo=16777216,Gs(t,s,a),jo=r):Gs(t,s,a));break;default:Gs(t,s,a)}}function bg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ea(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];pt=r,Ng(r,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:ea(t),t.flags&2048&&vi(9,t,t.return);break;case 3:ea(t);break;case 12:ea(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Kl(t)):ea(t);break;default:ea(t)}}function Kl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];pt=r,Ng(r,t)}bg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:vi(8,s,s.return),Kl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Kl(s));break;default:Kl(s)}t=t.sibling}}function Ng(t,s){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:vi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:qo(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,pt=r;else e:for(a=t;pt!==null;){r=pt;var h=r.sibling,m=r.return;if(Sg(r),r===a){pt=null;break e}if(h!==null){h.return=m,pt=h;break e}pt=m}}}var kE={getCacheForType:function(t){var s=_t(it),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return _t(it).controller.signal}},PE=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Je=null,we=null,Re=0,qe=0,Kt=null,Si=!1,Os=!1,_f=!1,$n=0,Ze=0,Ti=0,ns=0,vf=0,Qt=0,Vs=0,ta=null,Lt=null,Sf=!1,Ql=0,Ig=0,$l=1/0,Wl=null,Ai=null,ut=0,Ei=null,zs=null,Wn=0,Tf=0,Af=null,Dg=null,na=0,Ef=null;function $t(){return(Pe&2)!==0&&Re!==0?Re&-Re:q.T!==null?xf():Kh()}function Ug(){if(Qt===0)if((Re&536870912)===0||xe){var t=ol;ol<<=1,(ol&3932160)===0&&(ol=262144),Qt=t}else Qt=536870912;return t=Yt.current,t!==null&&(t.flags|=32),Qt}function qt(t,s,a){(t===Je&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),Ci(t,Re,Qt,!1)),Eo(t,a),((Pe&2)===0||t!==Je)&&(t===Je&&((Pe&2)===0&&(ns|=a),Ze===4&&Ci(t,Re,Qt,!1)),In(t))}function kg(t,s,a){if((Pe&6)!==0)throw Error(o(327));var r=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Ao(t,s),h=r?BE(t,s):wf(t,s,!0),m=r;do{if(h===0){Os&&!r&&Ci(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!LE(a)){h=wf(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var A=t;h=ta;var w=A.current.memoizedState.isDehydrated;if(w&&(Fs(A,S).flags|=256),S=wf(A,S,!1),S!==2){if(_f&&!w){A.errorRecoveryDisabledLanes|=m,ns|=m,h=4;break e}m=Lt,Lt=h,m!==null&&(Lt===null?Lt=m:Lt.push.apply(Lt,m))}h=S}if(m=!1,h!==2)continue}}if(h===1){Fs(t,0),Ci(t,s,0,!0);break}e:{switch(r=t,m=h,m){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ci(r,s,Qt,!Si);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(h=Ql+300-Ot(),10<h)){if(Ci(r,s,Qt,!Si),ll(r,0,!0)!==0)break e;Wn=s,r.timeoutHandle=fy(Pg.bind(null,r,a,Lt,Wl,Sf,s,Qt,ns,Vs,Si,m,"Throttled",-0,0),h);break e}Pg(r,a,Lt,Wl,Sf,s,Qt,ns,Vs,Si,m,null,-0,0)}}break}while(!0);In(t)}function Pg(t,s,a,r,h,m,S,A,w,D,H,V,k,L){if(t.timeoutHandle=-1,V=s.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Rg(s,m,V);var ne=(m&62914560)===m?Ql-Ot():(m&4194048)===m?Ig-Ot():0;if(ne=SC(V,ne),ne!==null){Wn=m,t.cancelPendingCommit=ne(zg.bind(null,t,s,m,a,r,h,S,A,w,H,V,null,k,L)),Ci(t,m,S,!D);return}}zg(t,s,m,a,r,h,S,A,w)}function LE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var h=a[r],m=h.getSnapshot;h=h.value;try{if(!Ft(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(t,s,a,r){s&=~vf,s&=~ns,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var h=s;0<h;){var m=31-zt(h),S=1<<m;r[m]=-1,h&=~S}a!==0&&Jh(t,a,s)}function Zl(){return(Pe&6)===0?(ia(0),!1):!0}function Cf(){if(we!==null){if(qe===0)var t=we.return;else t=we,Gn=Xi=null,Hc(t),ks=null,Ho=0,t=we;for(;t!==null;)dg(t.alternate,t),t=t.return;we=null}}function Fs(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nC(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wn=0,Cf(),Je=t,we=a=Bn(t.current,null),Re=s,qe=0,Kt=null,Si=!1,Os=Ao(t,s),_f=!1,Vs=Qt=vf=ns=Ti=Ze=0,Lt=ta=null,Sf=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var h=31-zt(r),m=1<<h;s|=t[h],r&=~m}return $n=s,vl(),a}function Lg(t,s){Ae=null,q.H=Xo,s===Us||s===Rl?(s=Zp(),qe=3):s===Rc?(s=Zp(),qe=4):qe=s===tf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kt=s,we===null&&(Ze=1,Ol(t,ln(s,t.current)))}function qg(){var t=Yt.current;return t===null?!0:(Re&4194048)===Re?fn===null:(Re&62914560)===Re||(Re&536870912)!==0?t===fn:!1}function Bg(){var t=q.H;return q.H=Xo,t===null?Xo:t}function Hg(){var t=q.A;return q.A=kE,t}function jl(){Ze=4,Si||(Re&4194048)!==Re&&Yt.current!==null||(Os=!0),(Ti&134217727)===0&&(ns&134217727)===0||Je===null||Ci(Je,Re,Qt,!1)}function wf(t,s,a){var r=Pe;Pe|=2;var h=Bg(),m=Hg();(Je!==t||Re!==s)&&(Wl=null,Fs(t,s)),s=!1;var S=Ze;e:do try{if(qe!==0&&we!==null){var A=we,w=Kt;switch(qe){case 8:Cf(),S=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(s=!0);var D=qe;if(qe=0,Kt=null,Js(t,A,w,D),a&&Os){S=0;break e}break;default:D=qe,qe=0,Kt=null,Js(t,A,w,D)}}qE(),S=Ze;break}catch(H){Lg(t,H)}while(!0);return s&&t.shellSuspendCounter++,Gn=Xi=null,Pe=r,q.H=h,q.A=m,we===null&&(Je=null,Re=0,vl()),S}function qE(){for(;we!==null;)Gg(we)}function BE(t,s){var a=Pe;Pe|=2;var r=Bg(),h=Hg();Je!==t||Re!==s?(Wl=null,$l=Ot()+500,Fs(t,s)):Os=Ao(t,s);e:do try{if(qe!==0&&we!==null){s=we;var m=Kt;t:switch(qe){case 1:qe=0,Kt=null,Js(t,s,m,1);break;case 2:case 9:if($p(m)){qe=0,Kt=null,Og(s);break}s=function(){qe!==2&&qe!==9||Je!==t||(qe=7),In(t)},m.then(s,s);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:$p(m)?(qe=0,Kt=null,Og(s)):(qe=0,Kt=null,Js(t,s,m,7));break;case 5:var S=null;switch(we.tag){case 26:S=we.memoizedState;case 5:case 27:var A=we;if(S?My(S):A.stateNode.complete){qe=0,Kt=null;var w=A.sibling;if(w!==null)we=w;else{var D=A.return;D!==null?(we=D,er(D)):we=null}break t}}qe=0,Kt=null,Js(t,s,m,5);break;case 6:qe=0,Kt=null,Js(t,s,m,6);break;case 8:Cf(),Ze=6;break e;default:throw Error(o(462))}}HE();break}catch(H){Lg(t,H)}while(!0);return Gn=Xi=null,q.H=r,q.A=h,Pe=a,we!==null?0:(Je=null,Re=0,vl(),Ze)}function HE(){for(;we!==null&&!rA();)Gg(we)}function Gg(t){var s=cg(t.alternate,t,$n);t.memoizedProps=t.pendingProps,s===null?er(t):we=s}function Og(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=sg(a,s,s.pendingProps,s.type,void 0,Re);break;case 11:s=sg(a,s,s.pendingProps,s.type.render,s.ref,Re);break;case 5:Hc(s);default:dg(a,s),s=we=Hp(s,$n),s=cg(a,s,$n)}t.memoizedProps=t.pendingProps,s===null?er(t):we=s}function Js(t,s,a,r){Gn=Xi=null,Hc(s),ks=null,Ho=0;var h=s.return;try{if(RE(t,h,s,a,Re)){Ze=1,Ol(t,ln(a,t.current)),we=null;return}}catch(m){if(h!==null)throw we=h,m;Ze=1,Ol(t,ln(a,t.current)),we=null;return}s.flags&32768?(xe||r===1?t=!0:Os||(Re&536870912)!==0?t=!1:(Si=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Vg(s,t)):er(s)}function er(t){var s=t;do{if((s.flags&32768)!==0){Vg(s,Si);return}t=s.return;var a=NE(s.alternate,s,$n);if(a!==null){we=a;return}if(s=s.sibling,s!==null){we=s;return}we=s=t}while(s!==null);Ze===0&&(Ze=5)}function Vg(t,s){do{var a=IE(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);Ze=6,we=null}function zg(t,s,a,r,h,m,S,A,w){t.cancelPendingCommit=null;do tr();while(ut!==0);if((Pe&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(m=s.lanes|s.childLanes,m|=dc,_A(t,a,m,S,A,w),t===Je&&(we=Je=null,Re=0),zs=s,Ei=t,Wn=a,Tf=m,Af=h,Dg=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(il,function(){return Kg(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=q.T,q.T=null,h=Q.p,Q.p=2,S=Pe,Pe|=4;try{DE(t,s,a)}finally{Pe=S,Q.p=h,q.T=r}}ut=1,Fg(),Jg(),Yg()}}function Fg(){if(ut===1){ut=0;var t=Ei,s=zs,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var r=Q.p;Q.p=2;var h=Pe;Pe|=4;try{Cg(s,t);var m=qf,S=Np(t.containerInfo),A=m.focusedElem,w=m.selectionRange;if(S!==A&&A&&A.ownerDocument&&xp(A.ownerDocument.documentElement,A)){if(w!==null&&lc(A)){var D=w.start,H=w.end;if(H===void 0&&(H=D),"selectionStart"in A)A.selectionStart=D,A.selectionEnd=Math.min(H,A.value.length);else{var V=A.ownerDocument||document,k=V&&V.defaultView||window;if(k.getSelection){var L=k.getSelection(),ne=A.textContent.length,he=Math.min(w.start,ne),Oe=w.end===void 0?he:Math.min(w.end,ne);!L.extend&&he>Oe&&(S=Oe,Oe=he,he=S);var x=bp(A,he),M=bp(A,Oe);if(x&&M&&(L.rangeCount!==1||L.anchorNode!==x.node||L.anchorOffset!==x.offset||L.focusNode!==M.node||L.focusOffset!==M.offset)){var I=V.createRange();I.setStart(x.node,x.offset),L.removeAllRanges(),he>Oe?(L.addRange(I),L.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),L.addRange(I))}}}}for(V=[],L=A;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<V.length;A++){var G=V[A];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}hr=!!Lf,qf=Lf=null}finally{Pe=h,Q.p=r,q.T=a}}t.current=s,ut=2}}function Jg(){if(ut===2){ut=0;var t=Ei,s=zs,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var r=Q.p;Q.p=2;var h=Pe;Pe|=4;try{vg(t,s.alternate,s)}finally{Pe=h,Q.p=r,q.T=a}}ut=3}}function Yg(){if(ut===4||ut===3){ut=0,uA();var t=Ei,s=zs,a=Wn,r=Dg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ut=5:(ut=0,zs=Ei=null,Xg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ai=null),Vu(a),s=s.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=q.T,h=Q.p,Q.p=2,q.T=null;try{for(var m=t.onRecoverableError,S=0;S<r.length;S++){var A=r[S];m(A.value,{componentStack:A.stack})}}finally{q.T=s,Q.p=h}}(Wn&3)!==0&&tr(),In(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ef?na++:(na=0,Ef=t):na=0,ia(0)}}function Xg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,qo(s)))}function tr(){return Fg(),Jg(),Yg(),Kg()}function Kg(){if(ut!==5)return!1;var t=Ei,s=Tf;Tf=0;var a=Vu(Wn),r=q.T,h=Q.p;try{Q.p=32>a?32:a,q.T=null,a=Af,Af=null;var m=Ei,S=Wn;if(ut=0,zs=Ei=null,Wn=0,(Pe&6)!==0)throw Error(o(331));var A=Pe;if(Pe|=4,xg(m.current),Mg(m,m.current,S,a),Pe=A,ia(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(To,m)}catch{}return!0}finally{Q.p=h,q.T=r,Xg(t,s)}}function Qg(t,s,a){s=ln(a,s),s=ef(t.stateNode,s,2),t=gi(t,s,2),t!==null&&(Eo(t,2),In(t))}function Be(t,s,a){if(t.tag===3)Qg(t,t,a);else for(;s!==null;){if(s.tag===3){Qg(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=ln(a,t),a=$m(2),r=gi(s,a,2),r!==null&&(Wm(a,r,s,t),Eo(r,2),In(r));break}}s=s.return}}function Mf(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new PE;var h=new Set;r.set(s,h)}else h=r.get(s),h===void 0&&(h=new Set,r.set(s,h));h.has(a)||(_f=!0,h.add(a),t=GE.bind(null,t,s,a),s.then(t,t))}function GE(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Re&a)===a&&(Ze===4||Ze===3&&(Re&62914560)===Re&&300>Ot()-Ql?(Pe&2)===0&&Fs(t,0):vf|=a,Vs===Re&&(Vs=0)),In(t)}function $g(t,s){s===0&&(s=Fh()),t=Fi(t,s),t!==null&&(Eo(t,s),In(t))}function OE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),$g(t,a)}function VE(t,s){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(s),$g(t,a)}function zE(t,s){return Bu(t,s)}var nr=null,Ys=null,Rf=!1,ir=!1,bf=!1,wi=0;function In(t){t!==Ys&&t.next===null&&(Ys===null?nr=Ys=t:Ys=Ys.next=t),ir=!0,Rf||(Rf=!0,JE())}function ia(t,s){if(!bf&&ir){bf=!0;do for(var a=!1,r=nr;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var m=0;else{var S=r.suspendedLanes,A=r.pingedLanes;m=(1<<31-zt(42|t)+1)-1,m&=h&~(S&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,ey(r,m))}else m=Re,m=ll(r,r===Je?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||Ao(r,m)||(a=!0,ey(r,m));r=r.next}while(a);bf=!1}}function FE(){Wg()}function Wg(){ir=Rf=!1;var t=0;wi!==0&&tC()&&(t=wi);for(var s=Ot(),a=null,r=nr;r!==null;){var h=r.next,m=Zg(r,s);m===0?(r.next=null,a===null?nr=h:a.next=h,h===null&&(Ys=a)):(a=r,(t!==0||(m&3)!==0)&&(ir=!0)),r=h}ut!==0&&ut!==5||ia(t),wi!==0&&(wi=0)}function Zg(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var S=31-zt(m),A=1<<S,w=h[S];w===-1?((A&a)===0||(A&r)!==0)&&(h[S]=yA(A,s)):w<=s&&(t.expiredLanes|=A),m&=~A}if(s=Je,a=Re,a=ll(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===s&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Hu(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ao(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&Hu(r),Vu(a)){case 2:case 8:a=Vh;break;case 32:a=il;break;case 268435456:a=zh;break;default:a=il}return r=jg.bind(null,t),a=Bu(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&Hu(r),t.callbackPriority=2,t.callbackNode=null,2}function jg(t,s){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tr()&&t.callbackNode!==a)return null;var r=Re;return r=ll(t,t===Je?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(kg(t,r,s),Zg(t,Ot()),t.callbackNode!=null&&t.callbackNode===a?jg.bind(null,t):null)}function ey(t,s){if(tr())return null;kg(t,s,!0)}function JE(){iC(function(){(Pe&6)!==0?Bu(Oh,FE):Wg()})}function xf(){if(wi===0){var t=Is;t===0&&(t=sl,sl<<=1,(sl&261888)===0&&(sl=256)),wi=t}return wi}function ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fl(""+t)}function ny(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,s,a,r,h){if(s==="submit"&&a&&a.stateNode===h){var m=ty((h[It]||null).action),S=r.submitter;S&&(s=(s=S[It]||null)?ty(s.formAction):S.getAttribute("formAction"),s!==null&&(m=s,S=null));var A=new ml("action","action",null,r,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wi!==0){var w=S?ny(h,S):new FormData(h);Kc(a,{pending:!0,data:w,method:h.method,action:m},null,w)}}else typeof m=="function"&&(A.preventDefault(),w=S?ny(h,S):new FormData(h),Kc(a,{pending:!0,data:w,method:h.method,action:m},m,w))},currentTarget:h}]})}}for(var Nf=0;Nf<fc.length;Nf++){var If=fc[Nf],XE=If.toLowerCase(),KE=If[0].toUpperCase()+If.slice(1);vn(XE,"on"+KE)}vn(Up,"onAnimationEnd"),vn(kp,"onAnimationIteration"),vn(Pp,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(cE,"onTransitionRun"),vn(fE,"onTransitionStart"),vn(dE,"onTransitionCancel"),vn(Lp,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sa));function iy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],h=r.event;r=r.listeners;e:{var m=void 0;if(s)for(var S=r.length-1;0<=S;S--){var A=r[S],w=A.instance,D=A.currentTarget;if(A=A.listener,w!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=D;try{m(h)}catch(H){_l(H)}h.currentTarget=null,m=w}else for(S=0;S<r.length;S++){if(A=r[S],w=A.instance,D=A.currentTarget,A=A.listener,w!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=D;try{m(h)}catch(H){_l(H)}h.currentTarget=null,m=w}}}}function Me(t,s){var a=s[zu];a===void 0&&(a=s[zu]=new Set);var r=t+"__bubble";a.has(r)||(sy(s,t,2,!1),a.add(r))}function Df(t,s,a){var r=0;s&&(r|=4),sy(a,t,r,s)}var sr="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[sr]){t[sr]=!0,Wh.forEach(function(a){a!=="selectionchange"&&(QE.has(a)||Df(a,!1,t),Df(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[sr]||(s[sr]=!0,Df("selectionchange",!1,s))}}function sy(t,s,a,r){switch(Uy(s)){case 2:var h=EC;break;case 8:h=CC;break;default:h=Kf}a=h.bind(null,s,a,t),h=void 0,!Zu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function kf(t,s,a,r,h){var m=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var A=r.stateNode.containerInfo;if(A===h)break;if(S===4)for(S=r.return;S!==null;){var w=S.tag;if((w===3||w===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;A!==null;){if(S=ps(A),S===null)return;if(w=S.tag,w===5||w===6||w===26||w===27){r=m=S;continue e}A=A.parentNode}}r=r.return}up(function(){var D=m,H=$u(a),V=[];e:{var k=qp.get(t);if(k!==void 0){var L=ml,ne=t;switch(t){case"keypress":if(hl(a)===0)break e;case"keydown":case"keyup":L=VA;break;case"focusin":ne="focus",L=nc;break;case"focusout":ne="blur",L=nc;break;case"beforeblur":case"afterblur":L=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=JA;break;case Up:case kp:case Pp:L=UA;break;case Lp:L=XA;break;case"scroll":case"scrollend":L=bA;break;case"wheel":L=QA;break;case"copy":case"cut":case"paste":L=PA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=pp;break;case"toggle":case"beforetoggle":L=WA}var he=(s&4)!==0,Oe=!he&&(t==="scroll"||t==="scrollend"),x=he?k!==null?k+"Capture":null:k;he=[];for(var M=D,I;M!==null;){var G=M;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||x===null||(G=Mo(M,x),G!=null&&he.push(oa(M,G,I))),Oe)break;M=M.return}0<he.length&&(k=new L(k,ne,null,a,H),V.push({event:k,listeners:he}))}}if((s&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",k&&a!==Qu&&(ne=a.relatedTarget||a.fromElement)&&(ps(ne)||ne[hs]))break e;if((L||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,L?(ne=a.relatedTarget||a.toElement,L=D,ne=ne?ps(ne):null,ne!==null&&(Oe=u(ne),he=ne.tag,ne!==Oe||he!==5&&he!==27&&he!==6)&&(ne=null)):(L=null,ne=D),L!==ne)){if(he=dp,G="onMouseLeave",x="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(he=pp,G="onPointerLeave",x="onPointerEnter",M="pointer"),Oe=L==null?k:wo(L),I=ne==null?k:wo(ne),k=new he(G,M+"leave",L,a,H),k.target=Oe,k.relatedTarget=I,G=null,ps(H)===D&&(he=new he(x,M+"enter",ne,a,H),he.target=I,he.relatedTarget=Oe,G=he),Oe=G,L&&ne)t:{for(he=$E,x=L,M=ne,I=0,G=x;G;G=he(G))I++;G=0;for(var ce=M;ce;ce=he(ce))G++;for(;0<I-G;)x=he(x),I--;for(;0<G-I;)M=he(M),G--;for(;I--;){if(x===M||M!==null&&x===M.alternate){he=x;break t}x=he(x),M=he(M)}he=null}else he=null;L!==null&&oy(V,k,L,he,!1),ne!==null&&Oe!==null&&oy(V,Oe,ne,he,!0)}}e:{if(k=D?wo(D):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var Ie=Ap;else if(Sp(k))if(Ep)Ie=lE;else{Ie=oE;var le=sE}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&Ku(D.elementType)&&(Ie=Ap):Ie=aE;if(Ie&&(Ie=Ie(t,D))){Tp(V,Ie,a,H);break e}le&&le(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&Xu(k,"number",k.value)}switch(le=D?wo(D):window,t){case"focusin":(Sp(le)||le.contentEditable==="true")&&(Es=le,rc=D,ko=null);break;case"focusout":ko=rc=Es=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,Ip(V,a,H);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Ip(V,a,H)}var Ee;if(sc)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else As?_p(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(mp&&a.locale!=="ko"&&(As||be!=="onCompositionStart"?be==="onCompositionEnd"&&As&&(Ee=cp()):(ui=H,ju="value"in ui?ui.value:ui.textContent,As=!0)),le=or(D,be),0<le.length&&(be=new hp(be,t,null,a,H),V.push({event:be,listeners:le}),Ee?be.data=Ee:(Ee=vp(a),Ee!==null&&(be.data=Ee)))),(Ee=jA?eE(t,a):tE(t,a))&&(be=or(D,"onBeforeInput"),0<be.length&&(le=new hp("onBeforeInput","beforeinput",null,a,H),V.push({event:le,listeners:be}),le.data=Ee)),YE(V,t,D,a,H)}iy(V,s)})}function oa(t,s,a){return{instance:t,listener:s,currentTarget:a}}function or(t,s){for(var a=s+"Capture",r=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Mo(t,a),h!=null&&r.unshift(oa(t,h,m)),h=Mo(t,s),h!=null&&r.push(oa(t,h,m))),t.tag===3)return r;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function oy(t,s,a,r,h){for(var m=s._reactName,S=[];a!==null&&a!==r;){var A=a,w=A.alternate,D=A.stateNode;if(A=A.tag,w!==null&&w===r)break;A!==5&&A!==26&&A!==27||D===null||(w=D,h?(D=Mo(a,m),D!=null&&S.unshift(oa(a,D,w))):h||(D=Mo(a,m),D!=null&&S.push(oa(a,D,w)))),a=a.return}S.length!==0&&t.push({event:s,listeners:S})}var WE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(WE,`
`).replace(ZE,"")}function ly(t,s){return s=ay(s),ay(t)===s}function Ge(t,s,a,r,h,m){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||vs(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&vs(t,""+r);break;case"className":ul(t,"class",r);break;case"tabIndex":ul(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ul(t,a,r);break;case"style":lp(t,r,m);break;case"data":if(s!=="object"){ul(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=fl(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Ge(t,s,"name",h.name,h,null),Ge(t,s,"formEncType",h.formEncType,h,null),Ge(t,s,"formMethod",h.formMethod,h,null),Ge(t,s,"formTarget",h.formTarget,h,null)):(Ge(t,s,"encType",h.encType,h,null),Ge(t,s,"method",h.method,h,null),Ge(t,s,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=fl(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=Ln);break;case"onScroll":r!=null&&Me("scroll",t);break;case"onScrollEnd":r!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=fl(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Me("beforetoggle",t),Me("toggle",t),rl(t,"popover",r);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=MA.get(a)||a,rl(t,a,r))}}function Pf(t,s,a,r,h,m){switch(a){case"style":lp(t,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof r=="string"?vs(t,r):(typeof r=="number"||typeof r=="bigint")&&vs(t,""+r);break;case"onScroll":r!=null&&Me("scroll",t);break;case"onScrollEnd":r!=null&&Me("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=t[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof r=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,h);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):rl(t,a,r)}}}function St(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var r=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var S=a[m];if(S!=null)switch(m){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ge(t,s,m,S,a,null)}}h&&Ge(t,s,"srcSet",a.srcSet,a,null),r&&Ge(t,s,"src",a.src,a,null);return;case"input":Me("invalid",t);var A=m=S=h=null,w=null,D=null;for(r in a)if(a.hasOwnProperty(r)){var H=a[r];if(H!=null)switch(r){case"name":h=H;break;case"type":S=H;break;case"checked":w=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,s));break;default:Ge(t,s,r,H,a,null)}}ip(t,m,A,w,D,S,h,!1);return;case"select":Me("invalid",t),r=S=m=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":S=A;break;case"multiple":r=A;default:Ge(t,s,h,A,a,null)}s=m,a=S,t.multiple=!!r,s!=null?_s(t,!!r,s,!1):a!=null&&_s(t,!!r,a,!0);return;case"textarea":Me("invalid",t),m=h=r=null;for(S in a)if(a.hasOwnProperty(S)&&(A=a[S],A!=null))switch(S){case"value":r=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Ge(t,s,S,A,a,null)}op(t,r,h,m);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(r=a[w],r!=null))switch(w){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ge(t,s,w,r,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(r=0;r<sa.length;r++)Me(sa[r],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(r=a[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ge(t,s,D,r,a,null)}return;default:if(Ku(s)){for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!==void 0&&Pf(t,s,H,r,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(r=a[A],r!=null&&Ge(t,s,A,r,a,null))}function jE(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,S=null,A=null,w=null,D=null,H=null;for(L in a){var V=a[L];if(a.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=V;default:r.hasOwnProperty(L)||Ge(t,s,L,null,r,V)}}for(var k in r){var L=r[k];if(V=a[k],r.hasOwnProperty(k)&&(L!=null||V!=null))switch(k){case"type":m=L;break;case"name":h=L;break;case"checked":D=L;break;case"defaultChecked":H=L;break;case"value":S=L;break;case"defaultValue":A=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,s));break;default:L!==V&&Ge(t,s,k,L,r,V)}}Yu(t,S,A,w,D,H,m,h);return;case"select":L=S=A=k=null;for(m in a)if(w=a[m],a.hasOwnProperty(m)&&w!=null)switch(m){case"value":break;case"multiple":L=w;default:r.hasOwnProperty(m)||Ge(t,s,m,null,r,w)}for(h in r)if(m=r[h],w=a[h],r.hasOwnProperty(h)&&(m!=null||w!=null))switch(h){case"value":k=m;break;case"defaultValue":A=m;break;case"multiple":S=m;default:m!==w&&Ge(t,s,h,m,r,w)}s=A,a=S,r=L,k!=null?_s(t,!!a,k,!1):!!r!=!!a&&(s!=null?_s(t,!!a,s,!0):_s(t,!!a,a?[]:"",!1));return;case"textarea":L=k=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!r.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ge(t,s,A,null,r,h)}for(S in r)if(h=r[S],m=a[S],r.hasOwnProperty(S)&&(h!=null||m!=null))switch(S){case"value":k=h;break;case"defaultValue":L=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==m&&Ge(t,s,S,h,r,m)}sp(t,k,L);return;case"option":for(var ne in a)if(k=a[ne],a.hasOwnProperty(ne)&&k!=null&&!r.hasOwnProperty(ne))switch(ne){case"selected":t.selected=!1;break;default:Ge(t,s,ne,null,r,k)}for(w in r)if(k=r[w],L=a[w],r.hasOwnProperty(w)&&k!==L&&(k!=null||L!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ge(t,s,w,k,r,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)k=a[he],a.hasOwnProperty(he)&&k!=null&&!r.hasOwnProperty(he)&&Ge(t,s,he,null,r,k);for(D in r)if(k=r[D],L=a[D],r.hasOwnProperty(D)&&k!==L&&(k!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,s));break;default:Ge(t,s,D,k,r,L)}return;default:if(Ku(s)){for(var Oe in a)k=a[Oe],a.hasOwnProperty(Oe)&&k!==void 0&&!r.hasOwnProperty(Oe)&&Pf(t,s,Oe,void 0,r,k);for(H in r)k=r[H],L=a[H],!r.hasOwnProperty(H)||k===L||k===void 0&&L===void 0||Pf(t,s,H,k,r,L);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!r.hasOwnProperty(x)&&Ge(t,s,x,null,r,k);for(V in r)k=r[V],L=a[V],!r.hasOwnProperty(V)||k===L||k==null&&L==null||Ge(t,s,V,k,r,L)}function ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var h=a[r],m=h.transferSize,S=h.initiatorType,A=h.duration;if(m&&A&&ry(S)){for(S=0,A=h.responseEnd,r+=1;r<a.length;r++){var w=a[r],D=w.startTime;if(D>A)break;var H=w.transferSize,V=w.initiatorType;H&&ry(V)&&(w=w.responseEnd,S+=H*(w<A?1:(A-D)/(w-D)))}if(--r,s+=8*(m+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lf=null,qf=null;function ar(t){return t.nodeType===9?t:t.ownerDocument}function uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Bf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hf=null;function tC(){var t=window.event;return t&&t.type==="popstate"?t===Hf?!1:(Hf=t,!0):(Hf=null,!1)}var fy=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(sC)}:fy;function sC(t){setTimeout(function(){throw t})}function Mi(t){return t==="head"}function hy(t,s){var a=s,r=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(h),$s(s);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")aa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,aa(a);for(var m=a.firstChild;m;){var S=m.nextSibling,A=m.nodeName;m[Co]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}else a==="body"&&aa(t.ownerDocument.body);a=h}while(a);$s(s)}function py(t,s){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Gf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Fu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oC(t,s,a,r){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Co])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=dn(t.nextSibling),t===null)break}return null}function aC(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=dn(t.nextSibling),t===null))return null;return t}function my(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=dn(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$?"||t.data==="$~"}function Vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lC(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function dn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var zf=null;function gy(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return dn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function yy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function _y(t,s,a){switch(s=ar(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function aa(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Fu(t)}var hn=new Map,vy=new Set;function lr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=Q.d;Q.d={f:rC,r:uC,D:cC,C:fC,L:dC,m:hC,X:mC,S:pC,M:gC};function rC(){var t=Zn.f(),s=Zl();return t||s}function uC(t){var s=ms(t);s!==null&&s.tag===5&&s.type==="form"?Lm(s):Zn.r(t)}var Xs=typeof document>"u"?null:document;function Sy(t,s,a){var r=Xs;if(r&&typeof s=="string"&&s){var h=on(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vy.has(h)||(vy.add(h),t={rel:t,crossOrigin:a,href:s},r.querySelector(h)===null&&(s=r.createElement("link"),St(s,"link",t),ht(s),r.head.appendChild(s)))}}function cC(t){Zn.D(t),Sy("dns-prefetch",t,null)}function fC(t,s){Zn.C(t,s),Sy("preconnect",t,s)}function dC(t,s,a){Zn.L(t,s,a);var r=Xs;if(r&&t&&s){var h='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var m=h;switch(s){case"style":m=Ks(t);break;case"script":m=Qs(t)}hn.has(m)||(t=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),hn.set(m,t),r.querySelector(h)!==null||s==="style"&&r.querySelector(la(m))||s==="script"&&r.querySelector(ra(m))||(s=r.createElement("link"),St(s,"link",t),ht(s),r.head.appendChild(s)))}}function hC(t,s){Zn.m(t,s);var a=Xs;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+on(r)+'"][href="'+on(t)+'"]',m=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qs(t)}if(!hn.has(m)&&(t=v({rel:"modulepreload",href:t},s),hn.set(m,t),a.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ra(m)))return}r=a.createElement("link"),St(r,"link",t),ht(r),a.head.appendChild(r)}}}function pC(t,s,a){Zn.S(t,s,a);var r=Xs;if(r&&t){var h=gs(r).hoistableStyles,m=Ks(t);s=s||"default";var S=h.get(m);if(!S){var A={loading:0,preload:null};if(S=r.querySelector(la(m)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},a),(a=hn.get(m))&&Ff(t,a);var w=S=r.createElement("link");ht(w),St(w,"link",t),w._p=new Promise(function(D,H){w.onload=D,w.onerror=H}),w.addEventListener("load",function(){A.loading|=1}),w.addEventListener("error",function(){A.loading|=2}),A.loading|=4,rr(S,s,r)}S={type:"stylesheet",instance:S,count:1,state:A},h.set(m,S)}}}function mC(t,s){Zn.X(t,s);var a=Xs;if(a&&t){var r=gs(a).hoistableScripts,h=Qs(t),m=r.get(h);m||(m=a.querySelector(ra(h)),m||(t=v({src:t,async:!0},s),(s=hn.get(h))&&Jf(t,s),m=a.createElement("script"),ht(m),St(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(h,m))}}function gC(t,s){Zn.M(t,s);var a=Xs;if(a&&t){var r=gs(a).hoistableScripts,h=Qs(t),m=r.get(h);m||(m=a.querySelector(ra(h)),m||(t=v({src:t,async:!0,type:"module"},s),(s=hn.get(h))&&Jf(t,s),m=a.createElement("script"),ht(m),St(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(h,m))}}function Ty(t,s,a,r){var h=(h=ae.current)?lr(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ks(a.href),a=gs(h).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ks(a.href);var m=gs(h).hoistableStyles,S=m.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,S),(m=h.querySelector(la(t)))&&!m._p&&(S.instance=m,S.state.loading=5),hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(t,a),m||yC(h,t,a,S.state))),s&&r===null)throw Error(o(528,""));return S}if(s&&r!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qs(a),a=gs(h).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Ks(t){return'href="'+on(t)+'"'}function la(t){return'link[rel="stylesheet"]['+t+"]"}function Ay(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function yC(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),St(s,"link",a),ht(s),t.head.appendChild(s))}function Qs(t){return'[src="'+on(t)+'"]'}function ra(t){return"script[async]"+t}function Ey(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(r)return s.instance=r,ht(r),r;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ht(r),St(r,"style",h),rr(r,a.precedence,t),s.instance=r;case"stylesheet":h=Ks(a.href);var m=t.querySelector(la(h));if(m)return s.state.loading|=4,s.instance=m,ht(m),m;r=Ay(a),(h=hn.get(h))&&Ff(r,h),m=(t.ownerDocument||t).createElement("link"),ht(m);var S=m;return S._p=new Promise(function(A,w){S.onload=A,S.onerror=w}),St(m,"link",r),s.state.loading|=4,rr(m,a.precedence,t),s.instance=m;case"script":return m=Qs(a.src),(h=t.querySelector(ra(m)))?(s.instance=h,ht(h),h):(r=a,(h=hn.get(m))&&(r=v({},a),Jf(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),St(h,"link",r),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,rr(r,a.precedence,t));return s.instance}function rr(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,m=h,S=0;S<r.length;S++){var A=r[S];if(A.dataset.precedence===s)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Ff(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Jf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ur=null;function Cy(t,s,a){if(ur===null){var r=new Map,h=ur=new Map;h.set(a,r)}else h=ur,r=h.get(a),r||(r=new Map,h.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Co]||m[gt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(s)||"";S=t+S;var A=r.get(S);A?A.push(m):r.set(S,[m])}}return r}function wy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function _C(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vC(t,s,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ks(r.href),m=s.querySelector(la(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=cr.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,ht(m);return}m=s.ownerDocument||s,r=Ay(r),(h=hn.get(h))&&Ff(r,h),m=m.createElement("link"),ht(m);var S=m;S._p=new Promise(function(A,w){S.onload=A,S.onerror=w}),St(m,"link",r),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=cr.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Yf=0;function SC(t,s){return t.stylesheets&&t.count===0&&dr(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&dr(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Yf===0&&(Yf=62500*eC());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dr(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Yf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fr=null;function dr(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fr=new Map,s.forEach(TC,t),fr=null,cr.call(t))}function TC(t,s){if(!(s.state.loading&4)){var a=fr.get(t);if(a)var r=a.get(null);else{a=new Map,fr.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var S=h[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),r=S)}r&&a.set(null,r)}h=s.instance,S=h.getAttribute("data-precedence"),m=a.get(S)||r,m===r&&a.set(null,h),a.set(S,h),this.count++,r=cr.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var ua={$$typeof:O,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function AC(t,s,a,r,h,m,S,A,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.hiddenUpdates=Gu(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ry(t,s,a,r,h,m,S,A,w,D,H,V){return t=new AC(t,s,a,S,w,D,H,V,A),s=1,m===!0&&(s|=24),m=Jt(3,null,null,s),t.current=m,m.stateNode=t,s=Cc(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:r,isDehydrated:a,cache:s},bc(m),t}function by(t){return t?(t=Ms,t):Ms}function xy(t,s,a,r,h,m){h=by(h),r.context===null?r.context=h:r.pendingContext=h,r=mi(s),r.payload={element:a},m=m===void 0?null:m,m!==null&&(r.callback=m),a=gi(t,r,s),a!==null&&(qt(a,t,s),Oo(a,t,s))}function Ny(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Xf(t,s){Ny(t,s),(t=t.alternate)&&Ny(t,s)}function Iy(t){if(t.tag===13||t.tag===31){var s=Fi(t,67108864);s!==null&&qt(s,t,67108864),Xf(t,67108864)}}function Dy(t){if(t.tag===13||t.tag===31){var s=$t();s=Ou(s);var a=Fi(t,s);a!==null&&qt(a,t,s),Xf(t,s)}}var hr=!0;function EC(t,s,a,r){var h=q.T;q.T=null;var m=Q.p;try{Q.p=2,Kf(t,s,a,r)}finally{Q.p=m,q.T=h}}function CC(t,s,a,r){var h=q.T;q.T=null;var m=Q.p;try{Q.p=8,Kf(t,s,a,r)}finally{Q.p=m,q.T=h}}function Kf(t,s,a,r){if(hr){var h=Qf(r);if(h===null)kf(t,s,r,pr,a),ky(t,r);else if(MC(h,t,s,a,r))r.stopPropagation();else if(ky(t,r),s&4&&-1<wC.indexOf(t)){for(;h!==null;){var m=ms(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Hi(m.pendingLanes);if(S!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var w=1<<31-zt(S);A.entanglements[1]|=w,S&=~w}In(m),(Pe&6)===0&&($l=Ot()+500,ia(0))}}break;case 31:case 13:A=Fi(m,2),A!==null&&qt(A,m,2),Zl(),Xf(m,2)}if(m=Qf(r),m===null&&kf(t,s,r,pr,a),m===h)break;h=m}h!==null&&r.stopPropagation()}else kf(t,s,r,null,a)}}function Qf(t){return t=$u(t),$f(t)}var pr=null;function $f(t){if(pr=null,t=ps(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return pr=t,null}function Uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cA()){case Oh:return 2;case Vh:return 8;case il:case fA:return 32;case zh:return 268435456;default:return 32}default:return 32}}var Wf=!1,Ri=null,bi=null,xi=null,ca=new Map,fa=new Map,Ni=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(t,s){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":ca.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(s.pointerId)}}function da(t,s,a,r,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ms(s),s!==null&&Iy(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function MC(t,s,a,r,h){switch(s){case"focusin":return Ri=da(Ri,t,s,a,r,h),!0;case"dragenter":return bi=da(bi,t,s,a,r,h),!0;case"mouseover":return xi=da(xi,t,s,a,r,h),!0;case"pointerover":var m=h.pointerId;return ca.set(m,da(ca.get(m)||null,t,s,a,r,h)),!0;case"gotpointercapture":return m=h.pointerId,fa.set(m,da(fa.get(m)||null,t,s,a,r,h)),!0}return!1}function Py(t){var s=ps(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Qh(t.priority,function(){Dy(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Qh(t.priority,function(){Dy(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Qf(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Qu=r,a.target.dispatchEvent(r),Qu=null}else return s=ms(a),s!==null&&Iy(s),t.blockedOn=a,!1;s.shift()}return!0}function Ly(t,s,a){mr(t)&&a.delete(s)}function RC(){Wf=!1,Ri!==null&&mr(Ri)&&(Ri=null),bi!==null&&mr(bi)&&(bi=null),xi!==null&&mr(xi)&&(xi=null),ca.forEach(Ly),fa.forEach(Ly)}function gr(t,s){t.blockedOn===s&&(t.blockedOn=null,Wf||(Wf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RC)))}var yr=null;function qy(t){yr!==t&&(yr=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yr===t&&(yr=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],h=t[s+2];if(typeof r!="function"){if($f(r||a)===null)continue;break}var m=ms(a);m!==null&&(t.splice(s,3),s-=3,Kc(m,{pending:!0,data:h,method:a.method,action:r},r,h))}}))}function $s(t){function s(w){return gr(w,t)}Ri!==null&&gr(Ri,t),bi!==null&&gr(bi,t),xi!==null&&gr(xi,t),ca.forEach(s),fa.forEach(s);for(var a=0;a<Ni.length;a++){var r=Ni[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ni.length&&(a=Ni[0],a.blockedOn===null);)Py(a),a.blockedOn===null&&Ni.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var h=a[r],m=a[r+1],S=h[It]||null;if(typeof m=="function")S||qy(a);else if(S){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,S=m[It]||null)A=S.formAction;else if($f(h)!==null)continue}else A=S.action;typeof A=="function"?a[r+1]=A:(a.splice(r,3),r-=3),qy(a)}}}function By(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Zf(t){this._internalRoot=t}_r.prototype.render=Zf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,r=$t();xy(a,r,t,s,null,null)},_r.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;xy(t.current,2,null,t,null,null),Zl(),s[hs]=null}};function _r(t){this._internalRoot=t}_r.prototype.unstable_scheduleHydration=function(t){if(t){var s=Kh();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ni.length&&s!==0&&s<Ni[a].priority;a++);Ni.splice(a,0,t),a===0&&Py(t)}};var Hy=e.version;if(Hy!=="19.2.0")throw Error(o(527,Hy,"19.2.0"));Q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=g(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var bC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{To=vr.inject(bC),Vt=vr}catch{}}return pa.createRoot=function(t,s){if(!l(t))throw Error(o(299));var a=!1,r="",h=Ym,m=Xm,S=Km;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=Ry(t,1,!1,null,null,a,r,null,h,m,S,By),t[hs]=s.current,Uf(t),new Zf(s)},pa.hydrateRoot=function(t,s,a){if(!l(t))throw Error(o(299));var r=!1,h="",m=Ym,S=Xm,A=Km,w=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),s=Ry(t,1,!0,s,a??null,r,h,w,m,S,A,By),s.context=by(null),a=s.current,r=$t(),r=Ou(r),h=mi(r),h.callback=null,gi(a,h,r),a=r,s.current.lanes=a,Eo(s,a),In(s),t[hs]=s.current,Uf(t),new _r(s)},pa.version="19.2.0",pa}var Qy;function BC(){if(Qy)return td.exports;Qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),td.exports=qC(),td.exports}var HC=BC();const GC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAA8CAYAAAAQTCjdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAADJSURBVGhD7dcxCsIwFIfxJF7BUdBDuXsJx7RDs3oI3T2UgqNXsDHPvgMI/QtCvx+EvKbLBwUxAQCwDNF3ia7rTrXWtc0xxmcp5fh5IZB8l2hx+5TSwZbNfiwhDf0lQtUIVSNUjVA1QtUIVSNUjVC1aNcH4b/xTVuraQyvth7TOE+73lxjzvlsVwc/+0vjOF749I320/ss0ff9rW3b6Snch2HY+TwbP09qhKoRqkaoGqFqhKoRqkao2jJD7cpgFzFbNvsxAADfCuENcUUzai4mKxMAAAAASUVORK5CYII=",OC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEj0lEQVR4nO2bW4gcRRSGT7xi1OD9QhAvbLyM7vTU/1fPDguyIAiKoAYdIuhDRBRUBIkSAkKyz4piMDEPQVEQiRe8ICIkBBXyIAka8BJRNF7wwSghSkxWgq5yMr1Snu3JzuxO10wn+0HB0l1d/zldZ6rrnO4VmadYGo3GKUmSLNamf8vRBsk6yXGSW0n+SvIf0/TYVgBrvPeplJGhoaGTATxAcleOgzO1L0jer2NIGQCwFMCPs3DUth9I3iqDSqVSOQ3AyzM5AWAzyU3a9O8Obs5L1Wr1VBkkkiRZDOCzPIMB7CS5qlarLWl3fZqml2ufrG+e05+qhgwCzrmLAezOcfRbkrd3OdwCks024+1WLeknjUbjLJJf5szI01OLDslh59wydabTcfVakmvzFrTh4eEzpU8sIPmOmYW/SD6kJ0dGRs4nuTE7puev7FYAwL0kDxmn3+vm5vUMdczOgHPuLj3nvXckf8qO73HO3T1bHQB35oT3gxKTkdbs/WYMeVzPkbye5P7s2MZ6vb5ornoknzAO/07ywp440wkk1xsDPmg2m8dnq+0+kpMAHpUeMTY2dgLJD43mMxKDarV6HoCDgfikhrDui4Od1XivdQFQtQLdA7Va7dxe60xDZ86E8iY9TnJlduffFZHjpAAAvGZm+WEpGpIfh6JpmtaSJDkDwF5dUZ1zQwVqwzi8XYoOZ/4/rL4PMqIovyuzKVFbzilMzHt/mwnntVPnnHM+RoajN9XYUFyCAWC1CamlEpmcm/5YYWIAXjQbDS+R0SKBcfj5wsRotpJpml4gkVFNE2VvFyYGYEsoVqlUTpLIkDzROLy5SLE3QzF9HEl/MrTQ4dcLEyP5Qijmvb9CIuOcu8o4/FxhYiRXGYfvkMjY7KmXe/ZpZJlQuEKul8gA2GAcvq4wsXq9vojkn4HYz5olSSSyrGlPoD8xOjp6eqGiAN4yYX2zREJ3VSbC3ihc1Dm3zIjukEioltFuRgkrtCqS00o7RaIaxtlv1BaJAVrFtVB8X5Fpoda0s0pKqHmPxGKsNcvbjQHfee8v6rWWjqljG62Pos2u2QAcMIZopRLS24R/qvo51fb3Y8NzGJI35dSN/yB5i8wR59wNWXUyHPuQ9/5G6SdsvRqZMIb9PZcdEMkVQQH/v2eu5sIyCABohBuCwMjV3Y41VQw04+wFcK0MEs65IZJfW2O7eVbqy7ccZ78q8gkw59RNi/LG6F/SND27k2ttlAB4v58vzzqC5EIAnxinV86i3q3l4IVSBtI0rZly7q6ZrjHfg0zqGFImAGwLHdBPItr11U8adGUPQnmblA2S60yIDrfr672/xvRdJ2UDwFMmjXTt+mbvk8PF6kkpG5h32B9bM8wu2rzDZQDTiwTdtHjJfY8rjOPZ54VbOmzad0305H6eWeK9vwzAcgD3ddiW6zVSRpxz1ZzCQCcr9MSRdmUDC8lH5rBorZBjaIYPlnKGlXq9fmm3v+EkSS45fPE8JaPRKv9ssM9eks8OfBmnF+91+/2euXBIvnoEh1+Row3fqmro/yTZVfnzNE2vjmXIv+qj7QWBLVHXAAAAAElFTkSuQmCC",VC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFtElEQVR4nO1aXW8WRRR+XiwNFoyYCqWgokSNEiJ+RkUMXKnRxKSJJpJeSYwGpQJB0gsJ1kLx48ZiiYkfP8BvSDQmRkPwAoMoUVAuiGnlAi5VavtaqS2vOckzyXHYnZ3dnd19jX2SSdp9Z+dj58w553lmgBnMIC/mAbgNQDeAXgC7Aexl2c1n3awzF/9BzAKwFsArAI4CmAbQ8CxS9zu+u4ZtNS0WAegHcMoxoTEAp9X/ZwCMO+r/AuBFtt00WELznLAG+xuA9wBsAHAXTRs0XVNH/hZcAuBuAE/znd+ttv4E8DqAxRXOEy0AtnLVzMDOAfgAwP38PQrtAM6ytDvafgDAhwAmVft/ANjsaLswXMv9aQbyF1f5Cs/3F7D44EoAb/Bjmv6OAFiGkvAIgFHV+ecldS4f+QvVr1hIV9GdbgZwnh3WAaxH+XiCe9p49Y1FddSnvu7PAFagOqwEMKzGsyN0B8+oxn+s2lsSEqq+V+PaEnLPnmej0sF8NA9kLMeUeXeFcBSjyow70HzoBDCiHFlmB9qiQk+94j1rsBrAyxGZ180q8TmSNU5vVfujCm+s0QZgUOXlQjpsPKXGuylLujim4myVWAXgpEUwZKVt1AAcYJ1Rmro39qoMqrSMxsIcsqYpK6+WlY7D9SoV3ePb0SIV2GXiVeAmK+SYMuzBmd9iXdnTXqvcr4iAb24cCq3s/++IyU7RvJOwVK1yX1LlmnLx76NcrLAIiV3EvH2xT/HpmqviWtXBfSgHEkKet9iQXU5wT/viQfXualfFVxV5L4NzLmfcdMk+Yt53pGx3NpOQBoABV0VjUu+iWIhW9SQTmiSdS/Z0Foh4IO9/E1dhrgrsIssUhesAHPIU9X6gI8sCoY3G2UnicgG01nQnwqPGVdWSkKtMKs0rC+5RbUnqeQG6VQUjuIU04f2eEzVle84+L1VtrYuq0KuEstDYlHKyR+l48mKc7W2L+nGAP56mKcUpiln2rHFOX1Nndk12gt47Dy7nHM6wzZ1RlYasjsWtL8zZ8UXKQdWZ69pykV0iVyMFFqqQ1GCRuXlN2FdKjcM2B2WLmvQhfqQ8WOA74YHAJr1ckfKDMedE2ry1BeRFu2XSu1xOS8JGXrSoDGqcUpENoZ1fqQk/i/Cos+3nksKSnPXkwXbVlp3EzKJ56yxrfwEnhSLwOcOSTjzkYCuPZmyIwJcWW7laqRIN8u7ego5F701KPOap1FJO8bKgVRF3cRxX8XmNKz1mOSgJWUWhJym1BA+j85CHnWpCj/OZqA6fWHG2N4A3TsJHSeQBJNlmddJmOrcopeFTPnuUVFOTATH5ouFND9eowckZry/mkKTLe78CuJ2TNm2dI8kv61z3IV8BoEZZpEE+6QtjGVI+q2hVoySe4SSJRycDkzyMTsKqCCnVKBX9OfhsVixVIuALPi90KJlWTt5daLNEclNOZJBlQuEd5Rw7fV8aUnsvKksyGLQmOkXzTiO4hcSNynG+lubFxeTFDV4ziFMU9B2sk566cVGoMWc3USb1VactajJyzSBur09zpWODe0nYoMYrSUdqSAj5VqWAKyP2eh9XumrcqpjZ4TxJzTIVwEfSnsiVhCXq9p+Ew2vyNtil9uqxJrvycBmA42prPVzE/viJX7VqdFonjMH59A7V+Egc5Spxz54KKOnGokeZ9wSvGSSmbgFhaKZxUNM5qGyqPa1FsgMBtSgXblBx1jioYHvWx3ubkGXy7jcV4U9CR4orUJIbv23dqj1M9aRUtPDupb5oKoP6mOezsx268RgzuTgZuJUUb591G+Ast1XR4kGit9yjCIcpo7w7vZGcVM564i6Iz2edHtJS/RGNhDvYbDfjO5h5mSsTUaWutOIG/3adEQ+zzWa8AfgvTyqK4UvUpqO4clyZogY1wBUvMwIEQxv1rnU8etnF61BD/FuePca4fnG4bmfw/8Q/GR9/PG80EjUAAAAASUVORK5CYII=",zC="/IApp/assets/gallery_icon-DX7cOO5y.png",FC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzElEQVR4nO2Zu4tTQRTGT3w2ijYWWqhoYysBUZs0wTv7fWOiwm1tfCJa+YRdiNWirvhYbdZyrUV81ArqP7AKKharjYqglYqrsCpnTaHXmd1kN8nmhvODA4GcOzNf5sy5k3NEDMMwjP9JkmQ9ySEAz0h+qdtTkhf0O+khCiRPA/hO8lfEJkiekl4AwMVphGZtSPIMyd1NiJ0yAFXJcSi/bFYwyef6rOQNksWIoKtJkqxWIzkc8nHObZa8AeBQIFwfBaLgSUD0AckbAAYCggcDfoMBvwHJGyTPBnbu7Gz9uh6aYNoOKxbStDOcD2hJi5a0FEtatKSVD2hJi5a0cpG0vPfbtCj3t3nvS+3+e6hzZOcFsL2dWqfw3h8O7MiIZCB5MCDk8WwLAABuBPyOy3wU5gDcbaLEM1ypVNaoAbjWaImH5P2A7962C3bObQ0IfhsovBUAvJhlEe8farXaApLvsr56vDoheGm9a5Bd6Jasr/d+V7OCvfc7G/yRP6dpukQ6Acl7oVCN+A41KhbA+cgY1wO+d6RTADgSWPBErEcE4GS9nRIT+w3AidCzJDeE2jSaPKVTVCqV5SQ/BRZ+K1ZEB7BOdxDAmIZj3cZInvPer41MpXngdmB3P6Zpuqy9KjMAqEXC8oy0CAD9kTn6pdNUq9WVJD8EFjMJYN9cx+/r69uvYwUEvy+XyytkPgDgSP6MnMtLxWJxcbNj6jPajons7KT3fofMJ5w+C7+pXw4aao7pKwnAq2azeEcplUqLSN6c4ZXzGsBlkon3fpMmHDX9rFEC4Ir6zDDGaJqmC6VLKMSuiS2yEb1tSZdRAHAMwNcWCtUb3dGu7hc75zYCeNgCsQ90LMkL/PNvaZTkj0ZF1l9Dem0tS15xzq0CsEcTE4DxgMhxTWjqo77SS7DbyzmtxgTTdri3oJ1hWtLqKUiWtcKRsfxeMgzDMAxD5sRvDkSrmgGIMQAAAAAASUVORK5CYII=",JC="/IApp/assets/catProfile-B0_kF3jV.jpeg",YC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVR4nO3ZMUoDQRgF4Kkka6feYttt/mLfm2IrCwtPo5VGj6Kd1xA9hEkXCB5CUAYMTGJiVGacZfd9sM1C8u9j3hLI75yIiIiIiGTVNM0hyVsAcwBvJN//+wpzP+dPzazKFtbMKgDPJUJ+cz1lCw3gpgcBt13XuQLPoyEXdV0fuALCXACXUcVnWQYhemdLhV0J8+N3OssQRjVyPZD9eajAZemEU6MqXZYqnRpV6bJU6dSoSpelSqdGVbosVTo1qtJlqdKpUZUuS5VOjWOrNMb2vzSizUP4579Hm4eXLIMATH+z89n2HWZ2TPI+8W7pKktgM6vCtu6vgUmekVymDAvg0Xs/cbl47ydhWxcWWPv2w6vPtG17BOAu8X54Fk42a9if2AxM8hTAYuOBX0meuyHgerAvpxruhffYDQV313A4pxrbEfah67oTN0Qcw6nGRnGqsVGcaiz85q7dEBEREbfHB6zlz1MolYoJAAAAAElFTkSuQmCC",XC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACi0lEQVR4nO3ZW2sTQRQH8CNewBtV6+XBG+iDiPgUxSrimpzZmMzZNsnOHKoigi9+AgUR/Qwt6KfwC/jki/gkiH2RgqigoA+i4q1UUFsdsjFriZjLZtNuz+95k90zM2fmnw2AEEIIIYQQQggxeCrgk0qbK0rxEGQd0fnNisysIjuP2tyCrPOJa67YqOAJyDrUZrJRsCsesg61nYoKnvOCc1shy4pF3oLa/KwvZzsFy6x/J2EpKYye3YFkbmLAx5Pu3/qxxdfcioDFIF8a36/IPq8/vPnoed6qTvrXLWusVodbXTPCvBa1nYmW/XSxMr4bBkmV+TCSfdOYKUXmCQCs+N/nXIHt9C8zr2wOpp1X2rzMn+EDMAgY1I4qbd81+9BOe6XarqT7N6/Dvajt0z/Xk3nva3MM0uSXuaC0/dwcefuoVOJt/Tp/oz3icWymvyCFCtJQCMJqIw5Gxd7vNAd3c/56lcomJPugOdP2m9Im7LqQdiDZi4rs99jyuucxb4CUzt8gCNYpMndj7fBDBfYS9K1nyc7FRvgOM69J+/x193T3/qtoPX4QklYkziVRcK/5uVXB+VFzqNPv6XpJnxgb25hWfk51STegNpUFm9bDfwWHJPt3IJtWA5I5jWQ+xQNHgXgn9Kl/Fx5LSOZrocw+pEmVzREk8zZWwAsXM5Pu3xbB40MnmT1RbndEbV7FZvqZi4O95Oe4XO7yajeQsUF93bcNql0q4D0uVkZ9OeMCfy/5Oc73L6xv/HhwmRop3AeLAVarw4rMdfdTLun+9XV4CrW94fu17bCUoLy/yrCivL/KONRmYnm9fyZ7OzqnZ93fK5B1SvEQar6qSrWRQT+LEEIIIYQQQgjxewR+AUW4xI2gz4jWAAAAAElFTkSuQmCC",KC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAA7BSURBVHhe7Zt5cBbnfcd/++z13np1YQkkjBAghEGADQMGggkZ4qOG2I3dpOPUyXh6TDLONHXqNLh/dGrHGc+0Mw1J2ziZum5sJ3HrjCe1U8ZGLccANocRqJK4JBCgy7qQXum99nq232e1+L8mtvRK7yvP+515Z/fZffb68Dt3BRVVVFFFFVVUUUUVVVQ+NTKSqvFX55WYv8y7hofTy/3VeaWCADg8zKMjY4kV/nBeqSAAplJU29c72uAP55UKAuCHw2N1o2Op1f5wXqkwXHjo5srJRLrWH84rFQTA/pHJ9WNJu8ofzivlHWDPCK/p6Bp4kCtx9f1To/f7m+eN8g7wwqXeXa4SDU2aUrDjYs8T/uZ5o7wDbG+/9ohhS6oaKGHnr/R9cXycl/m75oXyCvBqL28YGkrdz7lCrhyglKNJZy6nf8/fPS+UV4CnP+i6L2PKkhqMUCKdJRauoBMdV/7A3z0vlDeAvaO89uLlvme5FCTXlYhkRlmSqWdw4sHDHel5AzFvAI8ev/H18QknJjGdDMskXdcpa7mUdTQ6eLzjB91jbtyfWtDKC8CrPXztyRMX9tquRrarkKaoZBiwP1kml2l0fSBdfaJ1/Dv+9IJWXgCeONn7lO0GSFLCGIlb4KQrRApWHVcmUuP038fb9rb0843eAQWsOQd4+L3RR0+1nH9c10solbaJyTpZluVZn2WY5DgOcTVABgvSW83nfui6ruofWpCaU4BdXXxN84HT/8EAxwAoLRSmrG0Dnkq2WDJGiqJgH9w5HKTz3Tc3v3p47AX/8ILUnAEUlvTyK/tPJNOMOAuQKzHKwOKYIhPTdLId17NCBoi2a+Mnkx6tpuZjbU/tP5Us2A5lzgD+6B+Pf2DzSEjRSgHOJglWFwwFyHRsWKFFkqqRwxEDYZk6kkoqlSEO97a1OL15sOWlo93uDv9UBaU5AfjPPz59tvv6ZJNtB4kknaKxMkDMAiInWZVgbS5Z+MF/SWLoShwiHXEwYzjk6iEyQmX0439vPvTWhdQX/VMWjFDBzp4GB92qf3v18InETfn2rKki5pVQMmuQJblkuBZpYcQ+lZHBkUBQTItaUMiGhWqIgRmyKGmmKRgLk5MdozKWoc9tqP/7x7YtetqbWACaNYCnz/ZtPbC/7e2JhFLK3RJkWyQOmBZnErGgRlkA5MymDLfJVXX0wipZNnwYCugRSqZTpJUEKCtxyricVHQqUTJJSvbSvRvrfvrVzy3/M29ynjUrAD84nnro3XdOvj6e4LoWLIN1MXKQNBzZIRtlnoOrOrJEDgIIHBexDuvYb0syoMreOgG02C/mZXGAGtDR6LnkGhNUqmepaWnFm1vX13z37gWsc+qq+VFOAV48N7HtzOkrf97VOfJINqNQOFYJl4WlAYLtwXABkHsAPVBiG2C5ApYAiKWw0FsAuTdPIkUPe66P1APrZMTsNClukmorwtS4KP63X9pe9Q9lkpTwb2NOlROA/ZeyjS0tl//05Mn2J10KKTqsLp0RSQFZVFiVD1BAm1oKUFji6rakkCUr2M5IQmwkuKxIbVwshXygDnfRuchIOgDPOdw9440juksx1bz5mQ2Nf/VHq4L/MnXQ3GnaAEVd13qs877LF2/svnRh/AlFLZNtxDABSbisjTkKMqiJB7ew7sHz3FfUgZJXBwpLFOBMGSUMxookZsJNGX4A6OIY8aLGFqVNQAVguDNKHodhPYRz4zppA0lGcyismrQoql9fvfi2l9fWxX61qZx1iPucbX0igKlhvrD/itFw7mz7nmtX+r7mmG5cVWN4iBBKEZW4myEWABwFWRZWwvGgDqzL+chd8cNSuCwHMJfEPkYWfpyhpEFPLMDdioMOEocAraBJdmyDJCQeF+fjAJ7GUrR74nhNRiJC96Jwk1RuUBDJqaok1LG6oe6llUu15sow9a9m7Kb/GDnVbwV48MB7z1zt7KnLTjoNkwmjwcogf8oRV3aDimvLIe7A9WyNmFrhFcK2lKKMPYGHQrTSYT140Cw6DI4s68VAQJpKGiIdCDio+TwrnLI6YPTmcAkZGXNspntuDkYACECAq6LUsVEvphADskrQ62IMWKF4GaFhHnMNYk4GMdKggJslzUlTBJZdin/Y8oDcXRbWWpdVV36wfX3D81NPOTP9TguEq7L0qLswMWxXDQ0mqvuvD9/RfaX/q2Ojk7UyC4RlJUpZI0AO7EdSEbcUQEBxLBKGIQpkXEFYoi0sCg845b5YApdwSbE+5a5TbivipYli2mEaLAwWDMgiLqo4jol5KIVsxEobZY+BfSJE6LpKLgCrkkMhGV2NNUFhVJH1VbEDa+pveyOu2d3V8Vh/TXl0oFSSxv1Hy4l+J8D/TwMdfNO51s5dF9qvPW6a+pKsiacVycAHZeLMYskCAAEz8tzUL1NEghDgJG8pLA4n9JKFHysxV7i+LSwR68I2P0owwoYBWyQQ7x8DQAPCapGZQ8yhxQtizU0ral9btULev0GSRrybnUVNG+AtiWRy5sjwQ+8dP/fC0HB2qRqsoAzoOXhAFb3uRDYN30LMsvHQMmIlYCgopC3ELImZnsu6ACXgegBhgVNWObX0ko6iARaginXEVgFeIrgoLF1xJkm3xmjjmmW/uHtd7fObY+y8f2tzohkDvKWhIV594tClb7a2Xvt2lgc0E0klZaJdi0QBQKEs2jVXQpxEbBOv8OUAwfXx8BG4P+Y6HkAAAkDh4MLKhLVxgGTI5olUBueKkIz9TnaCYmir3dQwasFQ/4Pb131j5yL2n96NzLFyBvCWOlonth891vE31/smd3I5CjfUARLWh+CfsgwAC2FdRauGYjiowxKRcADJwU+4v0gwwhI/cllsN2G1qh7EXAdcsxRVbFKsEXpg29rnNqyJPr+CMcO//Jwr5wBv6Ve/7vqnw0c6vqGFKpFIdM96Mo5Biewkel+ES/GWxZbg3XBPUZ4AlldQi8zslTm4OVihV04jLopIyFHKRDSObGrwPTvW7bp3CTvoXSyPmjWAQoeOJvf+5p33nrNc5EZk1oSRpLKFlZTIZODWISAJUTabJRii57Ii+9pezYiY6MdCL18juyqArPMU1VWGrz62p/Gzq0PSDbE335pVgEItF/iWV157p9lWwiEtVkIjyRRiWhDWyEgPxr0Xqiilvcx8q3i2AVJk46liBy6ODFuKlq2hJnZk7+76gnqxOusAb+mJp39pBEuWaFlXwIN1CddVhYuKIlr/yNqm6kEkCLixSCIogoSd0rb1y1/4422le8WsQhIqtbnRM09/aTVzJhyZw2XRPYi/RkAJhG5FJA3RxKEQF5kXyUPAgy2SioQR4Elqqo39phDhCc0ZwGULWOfjj279guIMIp6lKKAAIBzAhjXKKGNUuGwG5YnELLSGCqVN1HmaS3W3hS499dDK3f5pCk5zBlBo46rIf+38zPrvK3KGHCvtWaCOeCg+JIlvw7FYzHtxkE4lKRJQKSLb9MDOpj3+4dOSaEW7uvrv8oc515wCFHpk1+K/rqwMnlUUk9DlkmMYKI7RSWNg2kS2RRQCxCh62ns2rvrDTQvY5akjp6fLfUNNXQN9s5Z45hyg0Ka7Vn4PvQoFZPSwcFUmWaRqEjoTm1zUhgHXpOXV0UNfXhd63T9k2hoeTK4eGEw2+cOcKy8A718XfrO6MnTMNdMU1sRnzCzc2CZdC5OMUkbnGdq5cWlOvrz19iRWD/Yn1/nDnCsvAIW2b2l6lqEw1mGF6DsQqxyvpQNO8WLgxc0LpTP+1Bmpu3d0y/iY0dTdzxv9TTlV3gDuqFebVy6pete1kt4LU/EnHYRWrSymmTvurnzWnzYjHT49uWt0zN5gODq1nO1/3N+cU+UNoNCWDSv3uXbKWxevqTTFoWU1pT9cFWED3sYZ6t0j7/8kI2nBDAvT0bNt3+0edHPuynkFuK1BOlBZoieQSrwiWjLHaVNT/A1/94z0xoHOZxIZqc6QI5QWn0X1KP3rW0f2+7tzprwCRMxzli2tek1Gv6sC4OLKaO+WanbK3z1tnWuz7j12pP15i+uUsRmaQY0Sjkp9KVb9ytGRnHY0eQUotKZxyWsq4ygCk9RYv+BVf/O01NPDa176Sftbv/z5kTd1tZpkHiRdCcG60XfDEpNSOR06P/T9J3/aah3s4Tn57xRz9jLht+npl1v7PxwZqf72Vz67dF016/Y3f2zduMGDA1dHH27+n//dl0ixCkdWiaPfTnL01eEgpdBby7EoJcwMWY5JIZ1ROGDQHctjL33+nvrn7mLsun+qT6yCAPhic8/LFy51fm3fkzs/9v2MjY3FOzv7tnd3Dmz/sDNz39CQW8K12EIKRRm8lVK2TcFIjIYmJoiHQmSHdEopAIoW0RZfCyhLJUGLtFQvbV0U7Wysiv9iydLb3769Mv6Jyqe8u7BQdVm4pTKqfaIvaKWlpeOxWHCgPF7SXV5W1qYoKCkDqpO2Moh7pvfVLjE5SaXlFRQIhT1oSSNDDIW79+7RAmBJoZryajMeK70QjZT0RMKxIf/0H1sFYYHvX0lvaz9//nt/snvDtHvWaxf51l83t/yoq2dsjauHFFKDZNgKZVGcuxHEP/HHnOVBQB2jmCJRXErTns2Nf/FQU2gfkplnk9NRQVhgVVmwvapUO+oPp6UlK9nxb31zw51NTTWva7pJhpMmJayRC4uzRJKSbDITQ1SBHnxJzB371pfvXPnw2vAPZgJPqCAsUKjt8pXda1bUv+0PZ6S2bnfHvp+9fcgIVpGpwH3R5WiKRbpzk3ZtvuM7j22u/Dt/6oxVEBYoVBrSz/mrM9aaOunwA/dv/7r4cM/FF0+eJmZN0rIFkdO5hCdUMABramp6/NWc6Pc3xV+sX3zbAcVJUVRzKQiYj37hzof93TlTwQCcDe26u/4vo4rluOlR+vw9m77SEGZ9/q6c6VMNcMti1lZTHjwUlQ3asjbwjr85p/pUAxRqWFR6YunC6Kkaxkb9TTnVpx5g/cL4mdqK8Fl/mHN96gGixjy/sDw64zc8RRVVVFFFFVVUUUUVVVTORPR/pHUtBNtAK50AAAAASUVORK5CYII=",QC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAALp0lEQVR4nO2aeUzUZxrHp81ms/vHdq9kk002u9n9o5tme2pbryoiKIcgAorcI/dwDIhQTpkBuVSuIreCity3MIAHoiheVbfac6u2tdp2u0ez2aSHtQqfzevrLE6HmYEytrbhST5h5nm+3+f5vQ8zzDAZhWI2ZmM2ZmM2ZmM27ld4FPAH+200Ls7g2nPx3HwmkvEnw+GZaMbmJ/GZbRYXHIuJV2h5WPFDO7hdFhfnqOCpUMvM28iXjgVsVfwQwrWA5HlRjM0JgTmhsFwDvnUQ1Q/xRyFhFGIOQEgHuBXDgli4ow0BuzQ+8Cvmt4rva7jls+P5EHguCJangFoHqSfMk3wcfCthfrj0LY3ji9WFPKr4vsXabaTPD4L568G7BNKPw6bRqROvg6XR0m8fz6duWex3yeCCczqXVmk5vjqHlrUFrFQ8iOFbxBM2YYwvUkLAS5A5+s1Q1YPoYQ67GG56ZtOjLuURxYMS7mlcWRIIHumw+RhkH58emiHwyQMbJYg+DjHgvxVCK0C1E4JLwTsH7CNkXbBcxS2ffNK+67MrArfw/FJ/WBYIm3SQd2x6qGthRRjoe4QUQ85RE/oR2NgIrnFSbxsAvpn0f6cL8NvEMTs/CNDCtpGpk9kLa18E4RWI29reKfqPQkQJ2PlLr5+Wvm/10GE5BHsncdk1lNsrfEGQXA9FI5YpGIaoInAMkD6XEEjYAYVHp+a/lxfrYIUfOPhBSA4Z9/3g0VtwWBfLf5x84OvkdUPpUfNom2CNSuqdfSEsEwoPWPaZI65Y9lsdyq24En5x3w4fkcEuN39w8Qb3QIjbCvkd4B0pc1u6oPzI5BQPQIQGXH2kdl0kZDeb1hf1Q1aD6fq9lA2DX4zsG5bOwH05vCqNZrd1sMoLojJg+yBUDUt8wmW+sGsip6fyMKRXgGeg1Kz2hcRCqBgy1ur1yaXg4S/1oYlQ2D259l6y66XeK4hbwENWPfwGLTkeXiDIKIWdhw0JCAP3tVDSaVwLi5c1gbhd2m2s0VPQBMrICb2n98TPhFyoGjTt3SFeRoOkPiEXL6sdPnkzT/n4MbZmDWwqhF2HjVGGgqiXdRrXvH1lLbtycq+gZgDiM6ROEBAEW2qhWgcbNk3k/QJln7qhyfts1EhdXCr7rLYAdQIX13lCdCzUH4K9Q8aEhILQVLYb1/x9ZK1uwLgm+uVVQIC/1HivheRM2DVoqCtrBlW01AjCVVDaaNwvq1DWYxM4b5XDa/N41N8L/Dyhpg2aDk1ORAj4ekD1JBqlt6zt6TfMV7dATKSsCdRqqGk3PaPxIGwtgyD/CU9KOuzundAUVN7tFcM1qywgLYXagNWwUQ2tB00TGQRCV9tqXAv2krUGnbzfqAONBpQeMi9Qh0Njv/kZeoQuM2vCH7wO8gugZT8UlMrchmjes8oCNkbzvtINCoug84BpYtaD0O1uMa6FrJW11j7YXg4RvvK+0o0x5WqGA1cxJu6LfOl26Nhvfpae+lZIiv1/rzvXkLxB3k6Ks9JTQK3ki+BVsKcReg6YJlYJQtfQYlwLXyNrCRHypyDUnfNKN54WM4JX8WzQKk7ra4kRlufdS/UOUAdM9BZkJlFllQXEeDEW5godXaDbb5qNgSB0zc3GtShPWROEr+K/oa6EKBRff53moXBXlKGufHxXR24KdPWYn6undwBK8iDSQ85JCuXfWi0/nvEC1J6MqVbCvi4YHDRNoj8IXXuTcU3tIWsRztRFr+bXZuc58ojKmSLVSr4SnljxyrINBgbMz9fT1iQ9wquN5uyMF5Dkw41oZ2ivh4MDpknxA6HrbDSubXCXtXB7fj7VuVHO7BQePWlKaN5p/hr0tNRBjIv0FafjN6MFZAbxT7UT7C2F4QHTpPqC0PU2Gtc2ir/yTtNbQIwTNcKzRQ3J66Q/1hm2boCBdvPXIihNlR7Nej6Z0QKKYunZ4AgFahjpN02GDwhdaSIc6jSsJbrJWvI0FhDnQI3w7NkKw71QrYGElbJPoivUZpu/nqHuibmVGTh84wXUprAg0RGSXOBIB5zQTU5NKghdggOkusHeXBjtlbUU8QrgML0FJDhQIzyN+RMzDjZDYaTsJXqauhY9pbFSW6Ke4adFWwL5R9JyqIyH032mObgbCoJBaAU566C3DNJXyvvTWUCSPTXC05xvOON4h+yV7mL+WgSdxVK7JYB/zWgBu1JwTl8BafYwUAFne82zrwRyPSHV3pDpLCDVnhrhacs17H2yXfbSrLR8HYfrpDZvDTcUM40qFSPpdpDpBMM18Eqvec73QKtG6oVPkLaM7Skv8EtLs9LsWZm+jGvC05Vr2Pfldtkr09nyNZxuvatdyfiMF6DV8nB5IO9qlkG2I7RnwCud8Oo+85xtgd2xoLUD4dXY8olmGdFaG35kNMOOP2ls6buju0tPjmG/820yn+1kefbpRqnNc+G2whrRncwLWbagp9ANDmyFN7vhzR7znNoJVQET3sylvKG1ZYXoWzSfn2bZkpllyw1Ry3VgvNhD6vqzDftcbJX5PEfLM0erpPYlTz6zygKaoijPsYHytVDuCeK2oHIdnCyHt7stM1wAJa6M6b3ZSziQY8N7d+4vhQYVXGyEphhZ359l6H+tRea3rbA8q2+T1NYGcMUqC9i7nnP5S0CXApc74dBmKHECkcu3gYYQuLgbrnSZ51I7tEbf9d2lyhNOl01o2qJk/mCWoffNZpkvWm55zk5vqW2NpNgqC9jjz7vbFsOxXLjaJbnSCrpEKF4Gola4FHo3wOWWCc29XGkD3UapE/qXlsOQBt7rNNR1Rsn6cKZh/nKzzJfYT95fz7lyqSu2Y3xQze+ssoC93lwrfAFO5MH1TkPe3gMdYVAklvAClNnDkQx4v31CcyofKp1kXei6VXClwbiXoDtS6ka0hvl3m2S+1G5yn0DM3L1W6lqCOKawVrQH8NeShXA0FT7qmJw3KqDJC4ROUOcCJ7OgyXsiV+8Or5eZ7iHoi5Da4xrD/PuNMl9ua9o7qJaaquXc7ovl91ZbwL5gdNsXwIAK/t5hnvP5sMsZhF5P9TI4IQ7UbtnfEyQ9Qn9v/lqjzFctncTXDofiZL1sEQxGE66wZhyKwadiPuxaLodZOsSHbTCaCrW2MBgB1xose67shG5fEHMEpyZZgMjvsDHMv1MHHd6yVrkIdGFsV1g7gIfq7bhVPQ9eK7R8GD1T+Y1/0AzDsbBjIYj+dUtgNFku8V7d9QZZr7WB603wagH0B0HNXd8uG8b2q+7j9wV0SgZ3PA/tq6b2KLBIO5zPhr12IPrunAeDwXC1fnK9WIDQ7ZgntXdu3/V1reGdEyr+rLifcSqeXzXYcLvuWRhNmNnhL1VAjzuIXoJOV3hru3nP5eoJ/e750O7Ep/1+jByJYp7i24ojEWjqnwXBhc3TP7j4W3AkXPr3zIXmJXAuY2pPlZfTpKfHjY+vavmJ4ruKw4HoGuZA41w4FT+1ixeac2nQugiEt+lZGImQD+upLq9PfPQ+B4aUVCu+6xj2Z1/LHGh+Bnod4fV804v4WzH0OUmtYNAdrlRN75Ejeghv2wLGz1jr3d1MYySUtJ7F3Gp7GgTdC2EkEM7EwYV0OJ8MR/ygTVz407DPBl7Lnv7T5kPxllt8QPI0DPtwWPEgxYkX+dmILz26JdzseBJMcTIMPmyZ/uHFo2rEV/bQ2fDlSRW/UTyocToMp1Ffmo96cfyIG5eG3XlrYAk3u5+A/cvgau00f/PNcNwXhH/fXMbPRLJa8X2Ll0N59KANn/c+DgPPw8Uk+Ohrb3Am4+2tcEj8d/k46OYyfi6MGMX3Nc6E8scRRz7u/wsIhhbBuXC4VADX6uCjVri+B94phQvxcNRB6u5oF3PjTChrFD+EOBtIzuEFfLX/MbDEobmMnVrDgTPqB+j7wNYItDx8Ppiw0268MrKYz4eeYfzgY3B4DmMjC7lx0oVLL/vz0gXlffy+32zMxmzMxmzMhkLE/wB0D3c/kOHNbgAAAABJRU5ErkJggg==",$C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIIElEQVR4nO1Ze2xbZxU3hfHaYA8GFYMNNFhVFdhKXn7E9vU7jp340dTpaOK3c+1rx++4LQyRCrQHCAltFInx0FgHY4O1k9BKJ3UvtA42lLIKovqe88XrVrpuqgq0TdXHuuVD1+m9vY7tNm2cdpP6k35/3HN+53znnHvv59wvCsUVXMGlB9ngU8O6NYdg/Zq3YN2aP5RLrk/NJ668fo3hzfG+TyouJ/65Ye31sG7wdVg3SCWWfN85XxyUBh8RtHzJN7kv7/vEpam2AaA0oIOSj8rJl3z7J1j2KkUT7CkOfl2uL5dWDykuFybzvhv4sYH3oLSaynmuovgxX6FGX1ylV1xOQHFgO4wNUDn54sCuZnp+bODHcu1U0fu55lqvnS+t9u3Z4PnMojWwp+BZxhe8J6C4ispZzq8yNtJDwbtZ0hVW/beRhvp8H+aLqx4WdXzR+4RiMcEXvD+AopfKyRc8TzVsoOh5WtIVPDvrilcoPgQF76/m5oOi17mgIiuZ/qWV9b5rG/l2F61X83n3v6HgoSL5gmeGH+u/va7ZvOcfki7v3lTXYN59rzyPSJL1qC+6+HLWbeBz7hOQ91A+535hT877+bqFs55vCf45fLKugZxnv+jn8+6o3Ic5T6JBDqHRA8JjddENQN71NOTdVGLO/RbmPUzdrc+7d8p1fN49Uy562iXN+PgSyLveEf0k19cmrZFz6+S+szlc7/IFt1mxEGDW9QDmXLSGWddpyLpKQuGibirjaYds/3tztH8W/eWU66az8f2nMG3/WDV/2vtFyLnerlsj56LCGoqFghTcN0O2/w3M9tMG3Cp/NyDbv3muhqTdmlmfSynZM/2vCra9QebjmOl/pWHuTN8W+YAWhL1Z93WQ6fstZvtoHTN9FT7T1ynoKpm+WyDjPF6rcT4j+DDTN3A2xvlQ1Zbte7BJTsC0/dOKVoOkHX5MO45ixklrmHacgoyzWH0X0s575/oh69Bj2snJbFlMO4fq8mScFDLOE3ymfgdrXRNJ21dx1PEiph20jqOObZi2fwVGHQfldhh1/BFGHd+VrtOO72PaMd0wR6o3oVhsVHeU0Z4MjvYew3QvlRPSvftw1P7yHNthSPf+bK62LnbU/rjiUmJ22vbncdROW8BDk3nbDc3Wmkwy1/CcvRPT9gik7EFxF1swhOeeT/WkMGk/hik7vWgm7ZxsMJ8FrseJSfs4puxbINkzBSn7jFwPKftzipa/G8menZjqoRdKSNpOYsq2HpO232OqpzLPuF80LYZPWE3AWTfyCWsKE7a1fMLaC0mrck/KvIxnmRuFd6Dpu8HZxiBpO4FJG205Ods0cNbtmLRtgLjpC00bgITlIHJWei5CwnIEEpZ9kLBMImfdgQnrw5iw3AOcOQ2c9Xfniz8/LaeAs0wgZ/k5JC0jJNXT9vw485H5PQ6c1QcJy3HkLPRSERJmYSDbgbPcBUmrfl9etbDvZaFb4TbxrG15mbV0AGe2QNzkhYTpTuDMLCZMOeRM6zFu+h7EzfcJxLjpQYibN0PCvAsTZjovxs3TGDf/EhPmAcIZNWXW8g3gzLeKrERNS+c9+VaAZ5nlGDe+iHETbSWBNR5B1lgB1vQ3ZE39i1H4jRg3bkLWeBrjRjpvsobdEDduhLjxBYgbT8w3DlhDpiWFCz8owBpLwBr/h6xQ0CyBNU4Aa9gltzUjsMYfirl4ltHCiPHbOGLYBqzhcPM4w38W/ANGWMaHI0wFRwxUJMQMx3HEsA5jhqhkjzGH5JqGjDH3z92ehS8xiBvvgBiThhHmcYwZDlTXGGEmCMvYL7p4YA1KiDEv4QhDaxhj/jIV198mTBFHmFOzNv00jjD5Om1D6h+d9K346LnWJiHdzRf9nSBsbRjVPQAx/QzG9FQkxPRHMMpwQmJh18CY/k2ZL4Ax/Xj1Oqo/gDHd/fJYjOmfwahuv3Qd1e0oRzTzOmO9IEBU14VRHY9RHa1hRLtNmIp4yzGifVb0QUT3iGDHiO7RM9cTFdZyLUS0b8tyHOXD3VrBJ4ubmEqomx56XTBITOfGSPdpjGqpjIcwqh2W6zDafbfoh4iWiJOEiHaiao9ot83qtGF5LohqnxP+2sSIdovMzlfY7lta0gBEND/BSDeV8bGp4doJkYjGBZHuGcEPYc1JEtK1SXclrJk+Y/911TauWALh7r/W5tQmBTuGu38k2iCi2ccH1csX3kBYeysJqZ/AsPqnEFHXnZJNhZS3YUhzmIQ1tMqgJi01Fuj+mmjHsPpu0Y5h7QoSUp+UYkLq6XJQ+eXqeiFVXPKF1AenglrpeKbl2D18+9UYUv2LhNVUIIZVT8p3CYgoQ6KPBFVSY9Xmwsq7JF+4GvusGDsV0XSQkKpyxneEhFTSOVJLgUH1YySkFiZFMah6/Y212utr/CHVJtFPAqpBuW+Cbb+KhFSvSv7ZHNI38d4gcx2G1FurvqB6Y8uLJ35lgQRV9AyPwbBSWacJql4WNRBQ1/0/AIKalSSgPCnlCSiPvhZRf6nmBzOgGqxElUtbWvyUv7ODBJTvkKCSkqDyFAa6bHM1woQx2HX8jIZW/J3LGuUiQWVR1Myy9lFbFGCg6zck0EUx0PkuBrpWN9JAsHOloBGJQ10ND6vouGIJCXTtkLT+rvsWvQEy1OEiw52vEH+Hv5kG/Z0J4u+kAtHfcfxc+cp3fvMmHO7YSvwdT8Fw1x2K9wOIv/0h4u+gs2x/TfFBAxluGyPD7VQgDrW9pPigYdK34hoy1PYnXNv2dzK8snpKfQVXoHh/4v86mz9hukw44gAAAABJRU5ErkJggg==",Ve={plus_icon:GC,bulb_icon:OC,compass_icon:VC,gallery_icon:zC,mic_icon:FC,user_icon:JC,message_icon:YC,code_icon:XC,gemini_icon:KC,chatgpt_icon:QC,claude_icon:$C};let WC,ZC;function jC(){return{geminiUrl:WC,vertexUrl:ZC}}function e1(i,e,n,o){var l,u;if(!i?.baseUrl){const d=jC();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:n:(u=d.geminiUrl)!==null&&u!==void 0?u:o}return i.baseUrl}class oi{}function ee(i,e){const n=/\{([^}]+)\}/g;return i.replace(n,(o,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(i,e,n){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in i))if(Array.isArray(n))i[p]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(n))for(let g=0;g<y.length;g++){const _=y[g];f(_,e.slice(u+1),n[g])}else for(const g of y)f(g,e.slice(u+1),n)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];f(y[0],e.slice(u+1),n);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const o=e[e.length-1],l=i[o];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(i,n):i[o]=n}function c(i,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let o=0;o<e.length;o++){if(typeof i!="object"||i===null)return n;const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in i){const d=i[u];return Array.isArray(d)?d.map(p=>c(p,e.slice(o+1),n)):n}else return n}else i=i[l]}return i}catch(o){if(o instanceof TypeError)return n;throw o}}function t1(i,e){for(const[n,o]of Object.entries(e)){const l=n.split("."),u=o.split("."),d=new Set;let p=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}Ad(i,l,u,0,d)}}function Ad(i,e,n,o,l){if(o>=e.length||typeof i!="object"||i===null)return;const u=e[o];if(u.endsWith("[]")){const d=u.slice(0,-2),p=i;if(d in p&&Array.isArray(p[d]))for(const y of p[d])Ad(y,e,n,o+1,l)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,p=Object.keys(d).filter(g=>!g.startsWith("_")&&!l.has(g)),y={};for(const g of p)y[g]=d[g];for(const[g,_]of Object.entries(y)){const v=[];for(const T of n.slice(o))T==="*"?v.push(g):v.push(T);f(d,v,_)}for(const g of p)delete d[g]}}else{const d=i;u in d&&Ad(d[u],e,n,o+1,l)}}function eh(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function n1(i){const e={},n=c(i,["operationName"]);n!=null&&f(e,["operationName"],n);const o=c(i,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function i1(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],o1(d)),e}function s1(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],a1(d)),e}function o1(i){const e={},n=c(i,["generatedSamples"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>l1(d))),f(e,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(i,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function a1(i){const e={},n=c(i,["videos"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>r1(d))),f(e,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(i,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function l1(i){const e={},n=c(i,["video"]);return n!=null&&f(e,["video"],p1(n)),e}function r1(i){const e={},n=c(i,["_self"]);return n!=null&&f(e,["video"],m1(n)),e}function u1(i){const e={},n=c(i,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function c1(i){const e={},n=c(i,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function f1(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],d1(d)),e}function d1(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["parent"]);o!=null&&f(e,["parent"],o);const l=c(i,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function Sv(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],h1(d)),e}function h1(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["parent"]);o!=null&&f(e,["parent"],o);const l=c(i,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function p1(i){const e={},n=c(i,["uri"]);n!=null&&f(e,["uri"],n);const o=c(i,["encodedVideo"]);o!=null&&f(e,["videoBytes"],eh(o));const l=c(i,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function m1(i){const e={},n=c(i,["gcsUri"]);n!=null&&f(e,["uri"],n);const o=c(i,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],eh(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}var $y;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($y||($y={}));var Wy;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Wy||(Wy={}));var Zy;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Zy||(Zy={}));var qi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(qi||(qi={}));var jy;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(jy||(jy={}));var e_;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(e_||(e_={}));var t_;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(t_||(t_={}));var n_;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(n_||(n_={}));var i_;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(i_||(i_={}));var s_;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(s_||(s_={}));var o_;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(o_||(o_={}));var a_;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(a_||(a_={}));var l_;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(l_||(l_={}));var r_;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(r_||(r_={}));var u_;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(u_||(u_={}));var c_;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(c_||(c_={}));var f_;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(f_||(f_={}));var d_;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(d_||(d_={}));var h_;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(h_||(h_={}));var nu;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(nu||(nu={}));var p_;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(p_||(p_={}));var m_;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(m_||(m_={}));var g_;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(g_||(g_={}));var Ed;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ed||(Ed={}));var y_;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(y_||(y_={}));var __;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(__||(__={}));var v_;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(v_||(v_={}));var S_;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(S_||(S_={}));var T_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(T_||(T_={}));var A_;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(A_||(A_={}));var E_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(E_||(E_={}));var C_;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(C_||(C_={}));var w_;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(w_||(w_={}));var M_;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(M_||(M_={}));var R_;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(R_||(R_={}));var b_;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b_||(b_={}));var x_;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(x_||(x_={}));var N_;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(N_||(N_={}));var I_;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(I_||(I_={}));var D_;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(D_||(D_={}));var U_;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(U_||(U_={}));var k_;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(k_||(k_={}));var P_;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(P_||(P_={}));var L_;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(L_||(L_={}));var q_;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(q_||(q_={}));var B_;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(B_||(B_={}));var H_;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(H_||(H_={}));var G_;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(G_||(G_={}));var O_;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(O_||(O_={}));var V_;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(V_||(V_={}));var z_;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(z_||(z_={}));var F_;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(F_||(F_={}));var J_;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(J_||(J_={}));var Y_;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Y_||(Y_={}));var lo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(lo||(lo={}));class Cd{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ma{get text(){var e,n,o,l,u,d,p,y;if(((l=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",_=!1;const v=[];for(const T of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,N]of Object.entries(T))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(N!==null||N!==void 0)&&v.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;_=!0,g+=T.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?g:void 0}get data(){var e,n,o,l,u,d,p,y;if(((l=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const _=[];for(const v of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[T,E]of Object.entries(v))T!=="inlineData"&&(E!==null||E!==void 0)&&_.push(T);v.inlineData&&typeof v.inlineData.data=="string"&&(g+=atob(v.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,n,o,l,u,d,p,y;if(((l=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if(g?.length!==0)return g}get executableCode(){var e,n,o,l,u,d,p,y,g;if(((l=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if(_?.length!==0)return(g=_?.[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,n,o,l,u,d,p,y,g;if(((l=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if(_?.length!==0)return(g=_?.[0])===null||g===void 0?void 0:g.output}}class X_{}class K_{}class g1{}class y1{}class _1{}class v1{}class Q_{}class $_{}class W_{}class S1{}class iu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new iu;let l;const u=e;return n?l=s1(u):l=i1(u),Object.assign(o,l),o}}class Z_{}class j_{}class e0{}class T1{}class A1{}class E1{}class th{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new th,u=f1(e);return Object.assign(o,u),o}}class C1{}class w1{}class M1{}class t0{}class R1{get text(){var e,n,o;let l="",u=!1;const d=[];for(const p of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,l+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,n,o;let l="";const u=[];for(const d of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[p,y]of Object.entries(d))p!=="inlineData"&&y!==null&&u.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class b1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new nh,u=Sv(e);return Object.assign(o,u),o}}function Ue(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tv(i,e){const n=Ue(i,e);return n?n.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:n.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${n}`:n:""}function Av(i){return Array.isArray(i)?i.map(e=>su(e)):[su(i)]}function su(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Ev(i){const e=su(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cv(i){const e=su(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n0(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function wv(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>n0(e)):[n0(i)]}function wd(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function i0(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function s0(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Mt(i){if(i==null)throw new Error("ContentUnion is required");return wd(i)?i:{role:"user",parts:wv(i)}}function ih(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Mt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(i.isVertexAI()){const n=Mt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Mt(n)):[Mt(e)]}function yn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(i0(i)||s0(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(i)]}const e=[],n=[],o=wd(i[0]);for(const l of i){const u=wd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(i0(l)||s0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return o||e.push({role:"user",parts:wv(n)}),e}function x1(i,e){i.includes("null")&&(e.nullable=!0);const n=i.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(qi).includes(n[0].toUpperCase())?n[0].toUpperCase():qi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(qi).includes(o.toUpperCase())?o.toUpperCase():qi.TYPE_UNSPECIFIED})}}function uo(i){const e={},n=["items"],o=["anyOf"],l=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,i=u[1]):u[1].type==="null"&&(e.nullable=!0,i=u[0])),i.type instanceof Array&&x1(i.type,e);for(const[d,p]of Object.entries(i))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(qi).includes(p.toUpperCase())?p.toUpperCase():qi.TYPE_UNSPECIFIED}else if(n.includes(d))e[d]=uo(p);else if(o.includes(d)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(uo(g))}e[d]=y}else if(l.includes(d)){const y={};for(const[g,_]of Object.entries(p))y[g]=uo(_);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=p}return e}function sh(i){return uo(i)}function oh(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function ah(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function po(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=uo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=uo(e.response));return i}function mo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of i)e.push(n);return e}function N1(i,e,n,o=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===o;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:l?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ai(i,e){if(typeof e!="string")throw new Error("name must be a string");return N1(i,e,"cachedContents")}function Mv(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Bi(i){return eh(i)}function I1(i){return i!=null&&typeof i=="object"&&"name"in i}function D1(i){return i!=null&&typeof i=="object"&&"video"in i}function U1(i){return i!=null&&typeof i=="object"&&"uri"in i}function Rv(i){var e;let n;if(I1(i)&&(n=i.name),!(U1(i)&&(n=i.uri,n===void 0))&&!(D1(i)&&(n=(e=i.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof i=="string"&&(n=i),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function bv(i,e){let n;return i.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function xv(i){for(const e of["models","tunedModels","publisherModels"])if(k1(i,e))return i[e];return[]}function k1(i,e){return i!==null&&typeof i=="object"&&e in i}function P1(i,e={}){const n=i,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function L1(i,e={}){const n=[],o=new Set;for(const l of i){const u=l.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const d=P1(l,e);d.functionDeclarations&&n.push(...d.functionDeclarations)}return{functionDeclarations:n}}function Nv(i,e){let n;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,l=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(i.isVertexAI()){if(l>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function q1(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Iv(i){if(typeof i!="object"||i===null)return{};const e=i,n=e.inlinedResponses;if(typeof n!="object"||n===null)return i;const l=n.inlinedResponses;if(!Array.isArray(l)||l.length===0)return i;let u=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function go(i,e){const n=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Dv(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function B1(i){const e={},n=c(i,["responsesFile"]);n!=null&&f(e,["fileName"],n);const o=c(i,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>_w(d))),f(e,["inlinedResponses"],u)}const l=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function H1(i){const e={},n=c(i,["predictionsFormat"]);n!=null&&f(e,["format"],n);const o=c(i,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function G1(i){const e={},n=c(i,["format"]);n!=null&&f(e,["predictionsFormat"],n);const o=c(i,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const l=c(i,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zr(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const l=c(i,["metadata","state"]);l!=null&&f(e,["state"],Dv(l));const u=c(i,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(i,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const p=c(i,["metadata","updateTime"]);p!=null&&f(e,["updateTime"],p);const y=c(i,["metadata","model"]);y!=null&&f(e,["model"],y);const g=c(i,["metadata","output"]);return g!=null&&f(e,["dest"],B1(Iv(g))),e}function Md(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["displayName"]);o!=null&&f(e,["displayName"],o);const l=c(i,["state"]);l!=null&&f(e,["state"],Dv(l));const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["createTime"]);d!=null&&f(e,["createTime"],d);const p=c(i,["startTime"]);p!=null&&f(e,["startTime"],p);const y=c(i,["endTime"]);y!=null&&f(e,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(e,["updateTime"],g);const _=c(i,["model"]);_!=null&&f(e,["model"],_);const v=c(i,["inputConfig"]);v!=null&&f(e,["src"],O1(v));const T=c(i,["outputConfig"]);T!=null&&f(e,["dest"],H1(Iv(T)));const E=c(i,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function O1(i){const e={},n=c(i,["instancesFormat"]);n!=null&&f(e,["format"],n);const o=c(i,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function V1(i,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(e,["fileName"]);o!=null&&f(n,["fileName"],o);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>yw(i,d))),f(n,["requests","requests"],u)}return n}function z1(i){const e={},n=c(i,["format"]);n!=null&&f(e,["instancesFormat"],n);const o=c(i,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const l=c(i,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function F1(i){const e={},n=c(i,["data"]);if(n!=null&&f(e,["data"],n),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function J1(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function Y1(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function X1(i){const e={},n=c(i,["content"]);n!=null&&f(e,["content"],n);const o=c(i,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],K1(o));const l=c(i,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(i,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const _=c(i,["safetyRatings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const v=c(i,["urlContextMetadata"]);return v!=null&&f(e,["urlContextMetadata"],v),e}function K1(i){const e={},n=c(i,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["citations"],o)}return e}function Uv(i){const e={},n=c(i,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>ww(u))),f(e,["parts"],l)}const o=c(i,["role"]);return o!=null&&f(e,["role"],o),e}function Q1(i,e){const n={},o=c(i,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $1(i,e){const n={},o=c(i,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(i,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],G1(q1(l))),n}function o0(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["src"]);l!=null&&f(n,["batch","inputConfig"],V1(i,Nv(i,l)));const u=c(e,["config"]);return u!=null&&Q1(u,n),n}function W1(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["model"],Ue(i,o));const l=c(e,["src"]);l!=null&&f(n,["inputConfig"],z1(Nv(i,l)));const u=c(e,["config"]);return u!=null&&$1(u,n),n}function Z1(i,e){const n={},o=c(i,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),n}function j1(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["src"]);l!=null&&f(n,["batch","inputConfig"],aw(i,l));const u=c(e,["config"]);return u!=null&&Z1(u,n),n}function ew(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function tw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function nw(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function iw(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function sw(i,e){const n={},o=c(e,["contents"]);if(o!=null){let u=ih(i,o);Array.isArray(u)&&(u=u.map(d=>d)),f(n,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(f(n,["_self"],ow(l,n)),t1(n,{"requests[].*":"requests[].request.*"})),n}function ow(i,e){const n={},o=c(i,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const l=c(i,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aw(i,e){const n={},o=c(e,["fileName"]);o!=null&&f(n,["file_name"],o);const l=c(e,["inlinedRequests"]);return l!=null&&f(n,["requests"],sw(i,l)),n}function lw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(i,["fileUri"]);n!=null&&f(e,["fileUri"],n);const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function rw(i){const e={},n=c(i,["id"]);n!=null&&f(e,["id"],n);const o=c(i,["args"]);o!=null&&f(e,["args"],o);const l=c(i,["name"]);if(l!=null&&f(e,["name"],l),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uw(i){const e={},n=c(i,["mode"]);n!=null&&f(e,["mode"],n);const o=c(i,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cw(i,e,n){const o={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],Uv(Mt(l)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const p=c(e,["topK"]);p!=null&&f(o,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const _=c(e,["stopSequences"]);_!=null&&f(o,["stopSequences"],_);const v=c(e,["responseLogprobs"]);v!=null&&f(o,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(o,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const N=c(e,["frequencyPenalty"]);N!=null&&f(o,["frequencyPenalty"],N);const b=c(e,["seed"]);b!=null&&f(o,["seed"],b);const J=c(e,["responseMimeType"]);J!=null&&f(o,["responseMimeType"],J);const F=c(e,["responseSchema"]);F!=null&&f(o,["responseSchema"],sh(F));const B=c(e,["responseJsonSchema"]);if(B!=null&&f(o,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=c(e,["safetySettings"]);if(n!==void 0&&O!=null){let ye=O;Array.isArray(ye)&&(ye=ye.map(Qe=>Mw(Qe))),f(n,["safetySettings"],ye)}const K=c(e,["tools"]);if(n!==void 0&&K!=null){let ye=mo(K);Array.isArray(ye)&&(ye=ye.map(Qe=>bw(po(Qe)))),f(n,["tools"],ye)}const W=c(e,["toolConfig"]);if(n!==void 0&&W!=null&&f(n,["toolConfig"],Rw(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=c(e,["cachedContent"]);n!==void 0&&Z!=null&&f(n,["cachedContent"],ai(i,Z));const Y=c(e,["responseModalities"]);Y!=null&&f(o,["responseModalities"],Y);const ue=c(e,["mediaResolution"]);ue!=null&&f(o,["mediaResolution"],ue);const $=c(e,["speechConfig"]);if($!=null&&f(o,["speechConfig"],oh($)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=c(e,["thinkingConfig"]);oe!=null&&f(o,["thinkingConfig"],oe);const de=c(e,["imageConfig"]);return de!=null&&f(o,["imageConfig"],gw(de)),o}function fw(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>X1(g))),f(e,["candidates"],y)}const l=c(i,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(i,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function dw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function hw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],go(i,o)),n}function pw(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(i,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function mw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(i,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function gw(i){const e={},n=c(i,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const o=c(i,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yw(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["request","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let p=yn(l);Array.isArray(p)&&(p=p.map(y=>Uv(y))),f(n,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&f(n,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(n,["request","generationConfig"],cw(i,d,c(n,["request"],{}))),n}function _w(i){const e={},n=c(i,["response"]);n!=null&&f(e,["response"],fw(n));const o=c(i,["error"]);return o!=null&&f(e,["error"],o),e}function vw(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Sw(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(i,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),n}function Tw(i){const e={},n=c(i,["config"]);return n!=null&&vw(n,e),e}function Aw(i){const e={},n=c(i,["config"]);return n!=null&&Sw(n,e),e}function Ew(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>zr(d))),f(e,["batchJobs"],u)}return e}function Cw(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Md(d))),f(e,["batchJobs"],u)}return e}function ww(i){const e={},n=c(i,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const o=c(i,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(i,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],lw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],rw(d));const p=c(i,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],F1(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const _=c(i,["thought"]);_!=null&&f(e,["thought"],_);const v=c(i,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const T=c(i,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function Mw(i){const e={},n=c(i,["category"]);if(n!=null&&f(e,["category"],n),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(i,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function Rw(i){const e={},n=c(i,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],uw(n));const o=c(i,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function bw(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(v=>v)),f(e,["functionDeclarations"],_)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=c(i,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],pw(p));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],mw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}var si;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(si||(si={}));class ds{constructor(e,n,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,l)}init(e,n,o){var l,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let xw=class extends oi{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ds(si.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=o0(this.apiClient,e),o=n._url,l=ee("{model}:batchGenerateContent",o),p=n.batch.inputConfig.requests,y=p.requests,g=[];for(const _ of y){const v=Object.assign({},_);if(v.systemInstruction){const T=v.systemInstruction;delete v.systemInstruction;const E=v.request;E.systemInstruction=T,v.request=E}g.push(v)}return p.requests=g,delete n.config,delete n._url,delete n._query,{path:l,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},l=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${l}`),o.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${l}`;else if(d)o.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=W1(this.apiClient,e);return p=ee("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>Md(_))}else{const g=o0(this.apiClient,e);return p=ee("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>zr(_))}}async createEmbeddingsInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=j1(this.apiClient,e);return u=ee("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>zr(y))}}async get(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=hw(this.apiClient,e);return p=ee("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>Md(_))}else{const g=dw(this.apiClient,e);return p=ee("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>zr(_))}}async cancel(e){var n,o,l,u;let d="",p={};if(this.apiClient.isVertexAI()){const y=Y1(this.apiClient,e);d=ee("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=J1(this.apiClient,e);d=ee("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Aw(e);return p=ee("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=Cw(_),T=new t0;return Object.assign(T,v),T})}else{const g=Tw(e);return p=ee("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=Ew(_),T=new t0;return Object.assign(T,v),T})}}async delete(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=tw(this.apiClient,e);return p=ee("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>iw(_))}else{const g=ew(this.apiClient,e);return p=ee("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>nw(_))}}};function Nw(i){const e={},n=c(i,["data"]);if(n!=null&&f(e,["data"],n),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function a0(i){const e={},n=c(i,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>jw(u))),f(e,["parts"],l)}const o=c(i,["role"]);return o!=null&&f(e,["role"],o),e}function Iw(i,e){const n={},o=c(i,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(i,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let _=yn(d);Array.isArray(_)&&(_=_.map(v=>a0(v))),f(e,["contents"],_)}const p=c(i,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],a0(Mt(p)));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(v=>tM(v))),f(e,["tools"],_)}const g=c(i,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],eM(g)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Dw(i,e){const n={},o=c(i,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(i,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let v=yn(d);Array.isArray(v)&&(v=v.map(T=>T)),f(e,["contents"],v)}const p=c(i,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],Mt(p));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>nM(T))),f(e,["tools"],v)}const g=c(i,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const _=c(i,["kmsKeyName"]);return e!==void 0&&_!=null&&f(e,["encryption_spec","kmsKeyName"],_),n}function Uw(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["model"],Tv(i,o));const l=c(e,["config"]);return l!=null&&Iw(l,n),n}function kw(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["model"],Tv(i,o));const l=c(e,["config"]);return l!=null&&Dw(l,n),n}function Pw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],ai(i,o)),n}function Lw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],ai(i,o)),n}function qw(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function Bw(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function Hw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(i,["fileUri"]);n!=null&&f(e,["fileUri"],n);const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Gw(i){const e={},n=c(i,["id"]);n!=null&&f(e,["id"],n);const o=c(i,["args"]);o!=null&&f(e,["args"],o);const l=c(i,["name"]);if(l!=null&&f(e,["name"],l),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ow(i){const e={},n=c(i,["mode"]);n!=null&&f(e,["mode"],n);const o=c(i,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Vw(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(i,["description"]);n!=null&&f(e,["description"],n);const o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const p=c(i,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function zw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],ai(i,o)),n}function Fw(i,e){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],ai(i,o)),n}function Jw(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(i,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function Yw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(i,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function Xw(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function Kw(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function Qw(i){const e={},n=c(i,["config"]);return n!=null&&Xw(n,e),e}function $w(i){const e={},n=c(i,["config"]);return n!=null&&Kw(n,e),e}function Ww(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Zw(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function jw(i){const e={},n=c(i,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const o=c(i,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(i,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Hw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Gw(d));const p=c(i,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],Nw(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const _=c(i,["thought"]);_!=null&&f(e,["thought"],_);const v=c(i,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const T=c(i,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function eM(i){const e={},n=c(i,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],Ow(n));const o=c(i,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function tM(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(v=>v)),f(e,["functionDeclarations"],_)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=c(i,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],Jw(p));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],Yw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function nM(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>Vw(T))),f(e,["functionDeclarations"],v)}const o=c(i,["retrieval"]);o!=null&&f(e,["retrieval"],o);const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const p=c(i,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const _=c(i,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function iM(i,e){const n={},o=c(i,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(i,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function sM(i,e){const n={},o=c(i,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(i,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function oM(i,e){const n={},o=c(e,["name"]);o!=null&&f(n,["_url","name"],ai(i,o));const l=c(e,["config"]);return l!=null&&iM(l,n),n}function aM(i,e){const n={},o=c(e,["name"]);o!=null&&f(n,["_url","name"],ai(i,o));const l=c(e,["config"]);return l!=null&&sM(l,n),n}class lM extends oi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ds(si.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=kw(this.apiClient,e);return p=ee("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>_)}else{const g=Uw(this.apiClient,e);return p=ee("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>_)}}async get(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Fw(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>_)}else{const g=zw(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>_)}}async delete(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Lw(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=Bw(_),T=new j_;return Object.assign(T,v),T})}else{const g=Pw(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=qw(_),T=new j_;return Object.assign(T,v),T})}}async update(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=aM(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>_)}else{const g=oM(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>_)}}async listInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=$w(e);return p=ee("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=Zw(_),T=new e0;return Object.assign(T,v),T})}else{const g=Qw(e);return p=ee("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=Ww(_),T=new e0;return Object.assign(T,v),T})}}}function l0(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(i){return this instanceof Ke?(this.v=i,this):new Ke(i)}function co(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(E){return function(N){return Promise.resolve(N).then(E,v)}}function p(E,N){o[E]&&(l[E]=function(b){return new Promise(function(J,F){u.push([E,b,J,F])>1||y(E,b)})},N&&(l[E]=N(l[E])))}function y(E,N){try{g(o[E](N))}catch(b){T(u[0][3],b)}}function g(E){E.value instanceof Ke?Promise.resolve(E.value.v).then(_,v):T(u[0][2],E)}function _(E){y("next",E)}function v(E){y("throw",E)}function T(E,N){E(N),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Fa(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof l0=="function"?l0(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(d){return new Promise(function(p,y){d=i[u](d),l(p,y,d.done,d.value)})}}function l(u,d,p,y){Promise.resolve(y).then(function(g){u({value:g,done:p})},d)}}function rM(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:kv(n)}function kv(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uM(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function r0(i){if(i===void 0||i.length===0)return[];const e=[],n=i.length;let o=0;for(;o<n;)if(i[o].role==="user")e.push(i[o]),o++;else{const l=[];let u=!0;for(;o<n&&i[o].role==="model";)l.push(i[o]),u&&!kv(i[o])&&(u=!1),o++;u?e.push(...l):e.pop()}return e}class cM{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let fM=class{constructor(e,n,o,l={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),uM(u)}async sendMessage(e){var n;await this.sendPromise;const o=Mt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,d,p;const y=await l,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,_=y.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let T=[];_!=null&&(T=(p=_.slice(v))!==null&&p!==void 0?p:[]);const E=g?[g]:[];this.recordHistory(o,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const o=Mt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,o)}getHistory(e=!1){const n=e?r0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,l;return co(this,arguments,function*(){var d,p,y,g;const _=[];try{for(var v=!0,T=Fa(e),E;E=yield Ke(T.next()),d=E.done,!d;v=!0){g=E.value,v=!1;const N=g;if(rM(N)){const b=(l=(o=N.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content;b!==void 0&&_.push(b)}yield yield Ke(N)}}catch(N){p={error:N}}finally{try{!v&&!d&&(y=T.return)&&(yield Ke(y.call(T)))}finally{if(p)throw p.error}}this.recordHistory(n,_)})}recordHistory(e,n,o){let l=[];n.length>0&&n.every(u=>u.role!==void 0)?l=n:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...r0(o)):this.history.push(e),this.history.push(...l)}};class _u extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_u.prototype)}}function dM(i){const e={},n=c(i,["file"]);return n!=null&&f(e,["file"],n),e}function hM(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function pM(i){const e={},n=c(i,["name"]);return n!=null&&f(e,["_url","file"],Rv(n)),e}function mM(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function gM(i){const e={},n=c(i,["name"]);return n!=null&&f(e,["_url","file"],Rv(n)),e}function yM(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function _M(i){const e={},n=c(i,["config"]);return n!=null&&yM(n,e),e}function vM(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}let SM=class extends oi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ds(si.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_M(e);return u=ee("files",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const g=vM(y),_=new C1;return Object.assign(_,g),_})}}async createInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=dM(e);return u=ee("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=hM(y),_=new w1;return Object.assign(_,g),_})}}async get(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gM(e);return u=ee("files/{file}",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pM(e);return u=ee("files/{file}",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const g=mM(y),_=new M1;return Object.assign(_,g),_})}}};function Fr(i){const e={},n=c(i,["data"]);if(n!=null&&f(e,["data"],n),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function TM(i){const e={},n=c(i,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>qM(u))),f(e,["parts"],l)}const o=c(i,["role"]);return o!=null&&f(e,["role"],o),e}function AM(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(i,["fileUri"]);n!=null&&f(e,["fileUri"],n);const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function EM(i){const e={},n=c(i,["id"]);n!=null&&f(e,["id"],n);const o=c(i,["args"]);o!=null&&f(e,["args"],o);const l=c(i,["name"]);if(l!=null&&f(e,["name"],l),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CM(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(i,["description"]);n!=null&&f(e,["description"],n);const o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const p=c(i,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function wM(i){const e={},n=c(i,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const o=c(i,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const l=c(i,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(i,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const _=c(i,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const v=c(i,["presencePenalty"]);v!=null&&f(e,["presencePenalty"],v);const T=c(i,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(i,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const N=c(i,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const b=c(i,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);const J=c(i,["routingConfig"]);J!=null&&f(e,["routingConfig"],J);const F=c(i,["seed"]);F!=null&&f(e,["seed"],F);const B=c(i,["speechConfig"]);B!=null&&f(e,["speechConfig"],Pv(B));const O=c(i,["stopSequences"]);O!=null&&f(e,["stopSequences"],O);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const W=c(i,["thinkingConfig"]);W!=null&&f(e,["thinkingConfig"],W);const Z=c(i,["topK"]);Z!=null&&f(e,["topK"],Z);const Y=c(i,["topP"]);if(Y!=null&&f(e,["topP"],Y),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function MM(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(i,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function RM(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(i,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function bM(i,e){const n={},o=c(i,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const l=c(i,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(i,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const _=c(i,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const v=c(i,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],ah(v));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(i,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=c(i,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],TM(Mt(N)));const b=c(i,["tools"]);if(e!==void 0&&b!=null){let Z=mo(b);Array.isArray(Z)&&(Z=Z.map(Y=>HM(po(Y)))),f(e,["setup","tools"],Z)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&f(e,["setup","sessionResumption"],BM(J));const F=c(i,["inputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","inputAudioTranscription"],F);const B=c(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const O=c(i,["realtimeInputConfig"]);e!==void 0&&O!=null&&f(e,["setup","realtimeInputConfig"],O);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const W=c(i,["proactivity"]);return e!==void 0&&W!=null&&f(e,["setup","proactivity"],W),n}function xM(i,e){const n={},o=c(i,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],wM(o));const l=c(i,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(i,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const _=c(i,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const v=c(i,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],Pv(ah(v)));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(i,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=c(i,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Mt(N));const b=c(i,["tools"]);if(e!==void 0&&b!=null){let Z=mo(b);Array.isArray(Z)&&(Z=Z.map(Y=>GM(po(Y)))),f(e,["setup","tools"],Z)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&f(e,["setup","sessionResumption"],J);const F=c(i,["inputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","inputAudioTranscription"],F);const B=c(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const O=c(i,["realtimeInputConfig"]);e!==void 0&&O!=null&&f(e,["setup","realtimeInputConfig"],O);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const W=c(i,["proactivity"]);return e!==void 0&&W!=null&&f(e,["setup","proactivity"],W),n}function NM(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["setup","model"],Ue(i,o));const l=c(e,["config"]);return l!=null&&f(n,["config"],bM(l,n)),n}function IM(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["setup","model"],Ue(i,o));const l=c(e,["config"]);return l!=null&&f(n,["config"],xM(l,n)),n}function DM(i){const e={},n=c(i,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function UM(i){const e={},n=c(i,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["weightedPrompts"],o)}return e}function kM(i){const e={},n=c(i,["media"]);if(n!=null){let g=Av(n);Array.isArray(g)&&(g=g.map(_=>Fr(_))),f(e,["mediaChunks"],g)}const o=c(i,["audio"]);o!=null&&f(e,["audio"],Fr(Cv(o)));const l=c(i,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(i,["video"]);u!=null&&f(e,["video"],Fr(Ev(u)));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const p=c(i,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function PM(i){const e={},n=c(i,["media"]);if(n!=null){let g=Av(n);Array.isArray(g)&&(g=g.map(_=>_)),f(e,["mediaChunks"],g)}const o=c(i,["audio"]);o!=null&&f(e,["audio"],Cv(o));const l=c(i,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(i,["video"]);u!=null&&f(e,["video"],Ev(u));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const p=c(i,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function LM(i){const e={},n=c(i,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const o=c(i,["serverContent"]);o!=null&&f(e,["serverContent"],o);const l=c(i,["toolCall"]);l!=null&&f(e,["toolCall"],l);const u=c(i,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(i,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],OM(d));const p=c(i,["goAway"]);p!=null&&f(e,["goAway"],p);const y=c(i,["sessionResumptionUpdate"]);return y!=null&&f(e,["sessionResumptionUpdate"],y),e}function qM(i){const e={},n=c(i,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const o=c(i,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(i,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],AM(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],EM(d));const p=c(i,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],Fr(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const _=c(i,["thought"]);_!=null&&f(e,["thought"],_);const v=c(i,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const T=c(i,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function BM(i){const e={},n=c(i,["handle"]);if(n!=null&&f(e,["handle"],n),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Pv(i){const e={},n=c(i,["languageCode"]);n!=null&&f(e,["languageCode"],n);const o=c(i,["voiceConfig"]);if(o!=null&&f(e,["voiceConfig"],o),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function HM(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(v=>v)),f(e,["functionDeclarations"],_)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=c(i,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],MM(p));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],RM(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function GM(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>CM(T))),f(e,["functionDeclarations"],v)}const o=c(i,["retrieval"]);o!=null&&f(e,["retrieval"],o);const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const p=c(i,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const _=c(i,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function OM(i){const e={},n=c(i,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const o=c(i,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const l=c(i,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(i,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const p=c(i,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const y=c(i,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(N=>N)),f(e,["promptTokensDetails"],E)}const g=c(i,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(N=>N)),f(e,["cacheTokensDetails"],E)}const _=c(i,["candidatesTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(N=>N)),f(e,["responseTokensDetails"],E)}const v=c(i,["toolUsePromptTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(N=>N)),f(e,["toolUsePromptTokensDetails"],E)}const T=c(i,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function VM(i){const e={},n=c(i,["data"]);if(n!=null&&f(e,["data"],n),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function zM(i){const e={},n=c(i,["content"]);n!=null&&f(e,["content"],n);const o=c(i,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],FM(o));const l=c(i,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(i,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const _=c(i,["safetyRatings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const v=c(i,["urlContextMetadata"]);return v!=null&&f(e,["urlContextMetadata"],v),e}function FM(i){const e={},n=c(i,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["citations"],o)}return e}function JM(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let u=yn(l);Array.isArray(u)&&(u=u.map(d=>d)),f(n,["contents"],u)}return n}function YM(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["tokensInfo"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["tokensInfo"],l)}return e}function XM(i){const e={},n=c(i,["values"]);n!=null&&f(e,["values"],n);const o=c(i,["statistics"]);return o!=null&&f(e,["statistics"],KM(o)),e}function KM(i){const e={},n=c(i,["truncated"]);n!=null&&f(e,["truncated"],n);const o=c(i,["token_count"]);return o!=null&&f(e,["tokenCount"],o),e}function vu(i){const e={},n=c(i,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>i2(u))),f(e,["parts"],l)}const o=c(i,["role"]);return o!=null&&f(e,["role"],o),e}function QM(i){const e={},n=c(i,["controlType"]);n!=null&&f(e,["controlType"],n);const o=c(i,["enableControlImageComputation"]);return o!=null&&f(e,["computeControl"],o),e}function $M(i){const e={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function WM(i,e){const n={},o=c(i,["systemInstruction"]);e!==void 0&&o!=null&&f(e,["systemInstruction"],Mt(o));const l=c(i,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>Gv(p))),f(e,["tools"],d)}const u=c(i,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],VR(u)),n}function ZM(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let d=yn(l);Array.isArray(d)&&(d=d.map(p=>vu(p))),f(n,["contents"],d)}const u=c(e,["config"]);return u!=null&&$M(u),n}function jM(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let d=yn(l);Array.isArray(d)&&(d=d.map(p=>p)),f(n,["contents"],d)}const u=c(e,["config"]);return u!=null&&WM(u,n),n}function eR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["totalTokens"]);o!=null&&f(e,["totalTokens"],o);const l=c(i,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function tR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["totalTokens"]);return o!=null&&f(e,["totalTokens"],o),e}function nR(i,e){const n={},o=c(e,["model"]);return o!=null&&f(n,["_url","name"],Ue(i,o)),n}function iR(i,e){const n={},o=c(e,["model"]);return o!=null&&f(n,["_url","name"],Ue(i,o)),n}function sR(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function oR(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function aR(i,e){const n={},o=c(i,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=c(i,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(i,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const v=c(i,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(i,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(i,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const N=c(i,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const b=c(i,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const J=c(i,["addWatermark"]);e!==void 0&&J!=null&&f(e,["parameters","addWatermark"],J);const F=c(i,["labels"]);e!==void 0&&F!=null&&f(e,["labels"],F);const B=c(i,["editMode"]);e!==void 0&&B!=null&&f(e,["parameters","editMode"],B);const O=c(i,["baseSteps"]);return e!==void 0&&O!=null&&f(e,["parameters","editConfig","baseSteps"],O),n}function lR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>u2(y))),f(n,["instances[0]","referenceImages"],p)}const d=c(e,["config"]);return d!=null&&aR(d,n),n}function rR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Su(u))),f(e,["generatedImages"],l)}return e}function uR(i,e){const n={},o=c(i,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const l=c(i,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cR(i,e){const n={},o=c(i,["taskType"]);e!==void 0&&o!=null&&f(e,["instances[]","task_type"],o);const l=c(i,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const u=c(i,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(i,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const p=c(i,["autoTruncate"]);return e!==void 0&&p!=null&&f(e,["parameters","autoTruncate"],p),n}function fR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let p=ih(i,l);Array.isArray(p)&&(p=p.map(y=>y)),f(n,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&uR(u,n);const d=c(e,["model"]);return d!==void 0&&f(n,["requests[]","model"],Ue(i,d)),n}function dR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let d=ih(i,l);Array.isArray(d)&&(d=d.map(p=>p)),f(n,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&cR(u,n),n}function hR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const l=c(i,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function pR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>XM(d))),f(e,["embeddings"],u)}const l=c(i,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function mR(i){const e={},n=c(i,["endpoint"]);n!=null&&f(e,["name"],n);const o=c(i,["deployedModelId"]);return o!=null&&f(e,["deployedModelId"],o),e}function gR(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(i,["fileUri"]);n!=null&&f(e,["fileUri"],n);const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function yR(i){const e={},n=c(i,["id"]);n!=null&&f(e,["id"],n);const o=c(i,["args"]);o!=null&&f(e,["args"],o);const l=c(i,["name"]);if(l!=null&&f(e,["name"],l),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _R(i){const e={},n=c(i,["mode"]);n!=null&&f(e,["mode"],n);const o=c(i,["allowedFunctionNames"]);if(o!=null&&f(e,["allowedFunctionNames"],o),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vR(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(i,["description"]);n!=null&&f(e,["description"],n);const o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const p=c(i,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function SR(i,e,n){const o={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],vu(Mt(l)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const p=c(e,["topK"]);p!=null&&f(o,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const _=c(e,["stopSequences"]);_!=null&&f(o,["stopSequences"],_);const v=c(e,["responseLogprobs"]);v!=null&&f(o,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(o,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const N=c(e,["frequencyPenalty"]);N!=null&&f(o,["frequencyPenalty"],N);const b=c(e,["seed"]);b!=null&&f(o,["seed"],b);const J=c(e,["responseMimeType"]);J!=null&&f(o,["responseMimeType"],J);const F=c(e,["responseSchema"]);F!=null&&f(o,["responseSchema"],sh(F));const B=c(e,["responseJsonSchema"]);if(B!=null&&f(o,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=c(e,["safetySettings"]);if(n!==void 0&&O!=null){let ye=O;Array.isArray(ye)&&(ye=ye.map(Qe=>c2(Qe))),f(n,["safetySettings"],ye)}const K=c(e,["tools"]);if(n!==void 0&&K!=null){let ye=mo(K);Array.isArray(ye)&&(ye=ye.map(Qe=>y2(po(Qe)))),f(n,["tools"],ye)}const W=c(e,["toolConfig"]);if(n!==void 0&&W!=null&&f(n,["toolConfig"],g2(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=c(e,["cachedContent"]);n!==void 0&&Z!=null&&f(n,["cachedContent"],ai(i,Z));const Y=c(e,["responseModalities"]);Y!=null&&f(o,["responseModalities"],Y);const ue=c(e,["mediaResolution"]);ue!=null&&f(o,["mediaResolution"],ue);const $=c(e,["speechConfig"]);if($!=null&&f(o,["speechConfig"],oh($)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=c(e,["thinkingConfig"]);oe!=null&&f(o,["thinkingConfig"],oe);const de=c(e,["imageConfig"]);return de!=null&&f(o,["imageConfig"],XR(de)),o}function TR(i,e,n){const o={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],Mt(l));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const p=c(e,["topK"]);p!=null&&f(o,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const _=c(e,["stopSequences"]);_!=null&&f(o,["stopSequences"],_);const v=c(e,["responseLogprobs"]);v!=null&&f(o,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(o,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const N=c(e,["frequencyPenalty"]);N!=null&&f(o,["frequencyPenalty"],N);const b=c(e,["seed"]);b!=null&&f(o,["seed"],b);const J=c(e,["responseMimeType"]);J!=null&&f(o,["responseMimeType"],J);const F=c(e,["responseSchema"]);F!=null&&f(o,["responseSchema"],sh(F));const B=c(e,["responseJsonSchema"]);B!=null&&f(o,["responseJsonSchema"],B);const O=c(e,["routingConfig"]);O!=null&&f(o,["routingConfig"],O);const K=c(e,["modelSelectionConfig"]);K!=null&&f(o,["modelConfig"],K);const W=c(e,["safetySettings"]);if(n!==void 0&&W!=null){let q=W;Array.isArray(q)&&(q=q.map(Q=>Q)),f(n,["safetySettings"],q)}const Z=c(e,["tools"]);if(n!==void 0&&Z!=null){let q=mo(Z);Array.isArray(q)&&(q=q.map(Q=>Gv(po(Q)))),f(n,["tools"],q)}const Y=c(e,["toolConfig"]);n!==void 0&&Y!=null&&f(n,["toolConfig"],Y);const ue=c(e,["labels"]);n!==void 0&&ue!=null&&f(n,["labels"],ue);const $=c(e,["cachedContent"]);n!==void 0&&$!=null&&f(n,["cachedContent"],ai(i,$));const oe=c(e,["responseModalities"]);oe!=null&&f(o,["responseModalities"],oe);const de=c(e,["mediaResolution"]);de!=null&&f(o,["mediaResolution"],de);const ye=c(e,["speechConfig"]);ye!=null&&f(o,["speechConfig"],Hv(oh(ye)));const Qe=c(e,["audioTimestamp"]);Qe!=null&&f(o,["audioTimestamp"],Qe);const je=c(e,["thinkingConfig"]);je!=null&&f(o,["thinkingConfig"],je);const nt=c(e,["imageConfig"]);return nt!=null&&f(o,["imageConfig"],KR(nt)),o}function u0(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let d=yn(l);Array.isArray(d)&&(d=d.map(p=>vu(p))),f(n,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(n,["generationConfig"],SR(i,u,n)),n}function c0(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["contents"]);if(l!=null){let d=yn(l);Array.isArray(d)&&(d=d.map(p=>p)),f(n,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(n,["generationConfig"],TR(i,u,n)),n}function f0(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>zM(g))),f(e,["candidates"],y)}const l=c(i,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(i,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function d0(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(_=>_)),f(e,["candidates"],g)}const l=c(i,["createTime"]);l!=null&&f(e,["createTime"],l);const u=c(i,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(i,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const p=c(i,["responseId"]);p!=null&&f(e,["responseId"],p);const y=c(i,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function AR(i,e){const n={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(i,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const l=c(i,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(i,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(i,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const p=c(i,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const y=c(i,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=c(i,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const _=c(i,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const v=c(i,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(i,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(i,["imageSize"]);if(e!==void 0&&E!=null&&f(e,["parameters","sampleImageSize"],E),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ER(i,e){const n={},o=c(i,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=c(i,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(i,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const v=c(i,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(i,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(i,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const N=c(i,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const b=c(i,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const J=c(i,["addWatermark"]);e!==void 0&&J!=null&&f(e,["parameters","addWatermark"],J);const F=c(i,["labels"]);e!==void 0&&F!=null&&f(e,["labels"],F);const B=c(i,["imageSize"]);e!==void 0&&B!=null&&f(e,["parameters","sampleImageSize"],B);const O=c(i,["enhancePrompt"]);return e!==void 0&&O!=null&&f(e,["parameters","enhancePrompt"],O),n}function CR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&AR(u,n),n}function wR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&ER(u,n),n}function MR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>BR(d))),f(e,["generatedImages"],u)}const l=c(i,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],qv(l)),e}function RR(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Su(d))),f(e,["generatedImages"],u)}const l=c(i,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],Bv(l)),e}function bR(i,e){const n={},o=c(i,["numberOfVideos"]);if(e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(i,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(i,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(i,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const p=c(i,["personGeneration"]);if(e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(i,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=c(i,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(i,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],Tu(_));const v=c(i,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>N2(E))),f(e,["instances[0]","referenceImages"],T)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xR(i,e){const n={},o=c(i,["numberOfVideos"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(i,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(i,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const p=c(i,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const y=c(i,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=c(i,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const v=c(i,["pubsubTopic"]);e!==void 0&&v!=null&&f(e,["parameters","pubsubTopic"],v);const T=c(i,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const E=c(i,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const N=c(i,["generateAudio"]);e!==void 0&&N!=null&&f(e,["parameters","generateAudio"],N);const b=c(i,["lastFrame"]);e!==void 0&&b!=null&&f(e,["instances[0]","lastFrame"],Cn(b));const J=c(i,["referenceImages"]);if(e!==void 0&&J!=null){let O=J;Array.isArray(O)&&(O=O.map(K=>I2(K))),f(e,["instances[0]","referenceImages"],O)}const F=c(i,["mask"]);e!==void 0&&F!=null&&f(e,["instances[0]","mask"],x2(F));const B=c(i,["compressionQuality"]);return e!==void 0&&B!=null&&f(e,["parameters","compressionQuality"],B),n}function NR(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],kR(d)),e}function IR(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],PR(d)),e}function DR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(n,["instances[0]","image"],Tu(u));const d=c(e,["video"]);d!=null&&f(n,["instances[0]","video"],Ov(d));const p=c(e,["source"]);p!=null&&LR(p,n);const y=c(e,["config"]);return y!=null&&bR(y,n),n}function UR(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(n,["instances[0]","image"],Cn(u));const d=c(e,["video"]);d!=null&&f(n,["instances[0]","video"],Vv(d));const p=c(e,["source"]);p!=null&&qR(p,n);const y=c(e,["config"]);return y!=null&&xR(y,n),n}function kR(i){const e={},n=c(i,["generatedSamples"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>GR(d))),f(e,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(i,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function PR(i){const e={},n=c(i,["videos"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>OR(d))),f(e,["generatedVideos"],u)}const o=c(i,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(i,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function LR(i,e){const n={},o=c(i,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const l=c(i,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Tu(l));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],Ov(u)),n}function qR(i,e){const n={},o=c(i,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const l=c(i,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Cn(l));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],Vv(u)),n}function BR(i){const e={},n=c(i,["_self"]);n!=null&&f(e,["image"],QR(n));const o=c(i,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const l=c(i,["_self"]);return l!=null&&f(e,["safetyAttributes"],qv(l)),e}function Su(i){const e={},n=c(i,["_self"]);n!=null&&f(e,["image"],Lv(n));const o=c(i,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const l=c(i,["_self"]);l!=null&&f(e,["safetyAttributes"],Bv(l));const u=c(i,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function HR(i){const e={},n=c(i,["_self"]);n!=null&&f(e,["mask"],Lv(n));const o=c(i,["labels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["labels"],l)}return e}function GR(i){const e={},n=c(i,["video"]);return n!=null&&f(e,["video"],R2(n)),e}function OR(i){const e={},n=c(i,["_self"]);return n!=null&&f(e,["video"],b2(n)),e}function VR(i){const e={},n=c(i,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const o=c(i,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const l=c(i,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(i,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const _=c(i,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const v=c(i,["presencePenalty"]);v!=null&&f(e,["presencePenalty"],v);const T=c(i,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(i,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const N=c(i,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const b=c(i,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);const J=c(i,["routingConfig"]);J!=null&&f(e,["routingConfig"],J);const F=c(i,["seed"]);F!=null&&f(e,["seed"],F);const B=c(i,["speechConfig"]);B!=null&&f(e,["speechConfig"],Hv(B));const O=c(i,["stopSequences"]);O!=null&&f(e,["stopSequences"],O);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const W=c(i,["thinkingConfig"]);W!=null&&f(e,["thinkingConfig"],W);const Z=c(i,["topK"]);Z!=null&&f(e,["topK"],Z);const Y=c(i,["topP"]);if(Y!=null&&f(e,["topP"],Y),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zR(i,e){const n={},o=c(e,["model"]);return o!=null&&f(n,["_url","name"],Ue(i,o)),n}function FR(i,e){const n={},o=c(e,["model"]);return o!=null&&f(n,["_url","name"],Ue(i,o)),n}function JR(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(i,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function YR(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(i,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function XR(i){const e={},n=c(i,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const o=c(i,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function KR(i){const e={},n=c(i,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const o=c(i,["imageSize"]);o!=null&&f(e,["imageSize"],o);const l=c(i,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(i,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function QR(i){const e={},n=c(i,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Bi(n));const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Lv(i){const e={},n=c(i,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const o=c(i,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],Bi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Tu(i){const e={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(i,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Bi(n));const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Cn(i){const e={},n=c(i,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const o=c(i,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],Bi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function $R(i,e,n){const o={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const u=c(e,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const d=c(e,["filter"]);n!==void 0&&d!=null&&f(n,["_query","filter"],d);const p=c(e,["queryBase"]);return n!==void 0&&p!=null&&f(n,["_url","models_url"],bv(i,p)),o}function WR(i,e,n){const o={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const u=c(e,["pageToken"]);n!==void 0&&u!=null&&f(n,["_query","pageToken"],u);const d=c(e,["filter"]);n!==void 0&&d!=null&&f(n,["_query","filter"],d);const p=c(e,["queryBase"]);return n!==void 0&&p!=null&&f(n,["_url","models_url"],bv(i,p)),o}function ZR(i,e){const n={},o=c(e,["config"]);return o!=null&&$R(i,o,n),n}function jR(i,e){const n={},o=c(e,["config"]);return o!=null&&WR(i,o,n),n}function e2(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["_self"]);if(l!=null){let u=xv(l);Array.isArray(u)&&(u=u.map(d=>Rd(d))),f(e,["models"],u)}return e}function t2(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["_self"]);if(l!=null){let u=xv(l);Array.isArray(u)&&(u=u.map(d=>bd(d))),f(e,["models"],u)}return e}function n2(i){const e={},n=c(i,["maskMode"]);n!=null&&f(e,["maskMode"],n);const o=c(i,["segmentationClasses"]);o!=null&&f(e,["maskClasses"],o);const l=c(i,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function Rd(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["displayName"]);o!=null&&f(e,["displayName"],o);const l=c(i,["description"]);l!=null&&f(e,["description"],l);const u=c(i,["version"]);u!=null&&f(e,["version"],u);const d=c(i,["_self"]);d!=null&&f(e,["tunedModelInfo"],_2(d));const p=c(i,["inputTokenLimit"]);p!=null&&f(e,["inputTokenLimit"],p);const y=c(i,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=c(i,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const _=c(i,["temperature"]);_!=null&&f(e,["temperature"],_);const v=c(i,["maxTemperature"]);v!=null&&f(e,["maxTemperature"],v);const T=c(i,["topP"]);T!=null&&f(e,["topP"],T);const E=c(i,["topK"]);E!=null&&f(e,["topK"],E);const N=c(i,["thinking"]);return N!=null&&f(e,["thinking"],N),e}function bd(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["displayName"]);o!=null&&f(e,["displayName"],o);const l=c(i,["description"]);l!=null&&f(e,["description"],l);const u=c(i,["versionId"]);u!=null&&f(e,["version"],u);const d=c(i,["deployedModels"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(T=>mR(T))),f(e,["endpoints"],v)}const p=c(i,["labels"]);p!=null&&f(e,["labels"],p);const y=c(i,["_self"]);y!=null&&f(e,["tunedModelInfo"],v2(y));const g=c(i,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const _=c(i,["checkpoints"]);if(_!=null){let v=_;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["checkpoints"],v)}return e}function i2(i){const e={},n=c(i,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const o=c(i,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(i,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],gR(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],yR(d));const p=c(i,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],VM(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const _=c(i,["thought"]);_!=null&&f(e,["thought"],_);const v=c(i,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const T=c(i,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function s2(i){const e={},n=c(i,["productImage"]);return n!=null&&f(e,["image"],Cn(n)),e}function o2(i,e){const n={},o=c(i,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const l=c(i,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const u=c(i,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(i,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const p=c(i,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const y=c(i,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=c(i,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const _=c(i,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const v=c(i,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const T=c(i,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const E=c(i,["labels"]);return e!==void 0&&E!=null&&f(e,["labels"],E),n}function a2(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["source"]);l!=null&&r2(l,n);const u=c(e,["config"]);return u!=null&&o2(u,n),n}function l2(i){const e={},n=c(i,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Su(l))),f(e,["generatedImages"],o)}return e}function r2(i,e){const n={},o=c(i,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const l=c(i,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],Cn(l));const u=c(i,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>s2(p))),f(e,["instances[0]","productImages"],d)}return n}function u2(i){const e={},n=c(i,["referenceImage"]);n!=null&&f(e,["referenceImage"],Cn(n));const o=c(i,["referenceId"]);o!=null&&f(e,["referenceId"],o);const l=c(i,["referenceType"]);l!=null&&f(e,["referenceType"],l);const u=c(i,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],n2(u));const d=c(i,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],QM(d));const p=c(i,["styleImageConfig"]);p!=null&&f(e,["styleImageConfig"],p);const y=c(i,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function qv(i){const e={},n=c(i,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const o=c(i,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const l=c(i,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function Bv(i){const e={},n=c(i,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const o=c(i,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const l=c(i,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function c2(i){const e={},n=c(i,["category"]);if(n!=null&&f(e,["category"],n),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(i,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function f2(i){const e={},n=c(i,["image"]);return n!=null&&f(e,["image"],Cn(n)),e}function d2(i,e){const n={},o=c(i,["mode"]);e!==void 0&&o!=null&&f(e,["parameters","mode"],o);const l=c(i,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const u=c(i,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(i,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const p=c(i,["binaryColorThreshold"]);e!==void 0&&p!=null&&f(e,["parameters","binaryColorThreshold"],p);const y=c(i,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),n}function h2(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["source"]);l!=null&&m2(l,n);const u=c(e,["config"]);return u!=null&&d2(u,n),n}function p2(i){const e={},n=c(i,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>HR(l))),f(e,["generatedMasks"],o)}return e}function m2(i,e){const n={},o=c(i,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const l=c(i,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Cn(l));const u=c(i,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],f2(u)),n}function Hv(i){const e={},n=c(i,["languageCode"]);n!=null&&f(e,["languageCode"],n);const o=c(i,["voiceConfig"]);if(o!=null&&f(e,["voiceConfig"],o),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function g2(i){const e={},n=c(i,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],_R(n));const o=c(i,["retrievalConfig"]);return o!=null&&f(e,["retrievalConfig"],o),e}function y2(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(v=>v)),f(e,["functionDeclarations"],_)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=c(i,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],JR(p));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],YR(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Gv(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>vR(T))),f(e,["functionDeclarations"],v)}const o=c(i,["retrieval"]);o!=null&&f(e,["retrieval"],o);const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const p=c(i,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const _=c(i,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function _2(i){const e={},n=c(i,["baseModel"]);n!=null&&f(e,["baseModel"],n);const o=c(i,["createTime"]);o!=null&&f(e,["createTime"],o);const l=c(i,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function v2(i){const e={},n=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const o=c(i,["createTime"]);o!=null&&f(e,["createTime"],o);const l=c(i,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function S2(i,e){const n={},o=c(i,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(i,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),n}function T2(i,e){const n={},o=c(i,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(i,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),n}function A2(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","name"],Ue(i,o));const l=c(e,["config"]);return l!=null&&S2(l,n),n}function E2(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["config"]);return l!=null&&T2(l,n),n}function C2(i,e){const n={},o=c(i,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=c(i,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const u=c(i,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(i,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const p=c(i,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const y=c(i,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=c(i,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const _=c(i,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const v=c(i,["labels"]);e!==void 0&&v!=null&&f(e,["labels"],v);const T=c(i,["numberOfImages"]);e!==void 0&&T!=null&&f(e,["parameters","sampleCount"],T);const E=c(i,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),n}function w2(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["_url","model"],Ue(i,o));const l=c(e,["image"]);l!=null&&f(n,["instances[0]","image"],Cn(l));const u=c(e,["upscaleFactor"]);u!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&C2(d,n),n}function M2(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Su(u))),f(e,["generatedImages"],l)}return e}function R2(i){const e={},n=c(i,["uri"]);n!=null&&f(e,["uri"],n);const o=c(i,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Bi(o));const l=c(i,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function b2(i){const e={},n=c(i,["gcsUri"]);n!=null&&f(e,["uri"],n);const o=c(i,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Bi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function x2(i){const e={},n=c(i,["image"]);n!=null&&f(e,["_self"],Cn(n));const o=c(i,["maskMode"]);return o!=null&&f(e,["maskMode"],o),e}function N2(i){const e={},n=c(i,["image"]);n!=null&&f(e,["image"],Tu(n));const o=c(i,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function I2(i){const e={},n=c(i,["image"]);n!=null&&f(e,["image"],Cn(n));const o=c(i,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function Ov(i){const e={},n=c(i,["uri"]);n!=null&&f(e,["uri"],n);const o=c(i,["videoBytes"]);o!=null&&f(e,["encodedVideo"],Bi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function Vv(i){const e={},n=c(i,["uri"]);n!=null&&f(e,["gcsUri"],n);const o=c(i,["videoBytes"]);o!=null&&f(e,["bytesBase64Encoded"],Bi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}const D2="Content-Type",U2="X-Server-Timeout",k2="User-Agent",xd="x-goog-api-client",P2="1.30.0",L2=`google-genai-sdk/${P2}`,q2="v1beta1",B2="v1beta",h0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class H2{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:q2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:B2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const l=[this.getRequestUrlInternal(n)];return o&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))l.searchParams.append(d,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(n))typeof u=="object"?o[l]=Object.assign(Object.assign({},o[l]),u):u!==void 0&&(o[l]=u);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,l){if(n&&n.timeout||l){const u=new AbortController,d=u.signal;if(n.timeout&&n?.timeout>0){const p=setTimeout(()=>u.abort(),n.timeout);p&&typeof p.unref=="function"&&p.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return n&&n.extraBody!==null&&G2(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async l=>(await p0(l),new Cd(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async l=>(await p0(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return co(this,arguments,function*(){const l=(n=e?.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:y}=yield Ke(l.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y,{stream:!0});try{const v=JSON.parse(g);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),E=T.status,N=T.code,b=`got status: ${E}. ${JSON.stringify(v)}`;if(N>=400&&N<600)throw new _u({message:b,status:N})}}catch(v){if(v.name==="ApiError")throw v}d+=g;let _=d.match(h0);for(;_;){const v=_[1];try{const T=new Response(v,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ke(new Cd(T)),d=d.slice(_[0].length),_=d.match(h0)}catch(T){throw new Error(`exception parsing stream chunk ${v}. ${T}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=L2+" "+this.clientOptions.userAgentExtra;return e[k2]=n,e[xd]=n,e[D2]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))o.append(l,u);e.timeout&&e.timeout>0&&o.append(U2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);l.sizeBytes=String(d.size);const p=(o=n?.mimeType)!==null&&o!==void 0?o:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;const y={file:l},g=this.getFileName(e),_=ee("upload/v1beta/files",y._url),v=await this.fetchUploadUrl(_,l.sizeBytes,l.mimeType,g,y,n?.httpOptions);return u.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,o){var l;const u=this.clientOptions.uploader,d=await u.stat(n),p=String(d.size),y=(l=o?.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,_=this.getFileName(n),v={};o?.customMetadata&&(v.customMetadata=o.customMetadata),o?.chunkingConfig&&(v.chunkingConfig=o.chunkingConfig);const T=await this.fetchUploadUrl(g,p,y,_,v,o?.httpOptions);return u.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,l,u,d){var p;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},l?{"X-Goog-Upload-File-Name":l}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!g?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(p=g?.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function p0(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const n=i.status;let o;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const l=JSON.stringify(o);throw n>=400&&n<600?new _u({message:l,status:n}):new Error(l)}}function G2(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))n=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,d){const p=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],_=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&_&&typeof _=="object"&&!Array.isArray(_)?p[y]=o(_,g):(_&&g&&typeof _!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const l=o(n,e);i.body=JSON.stringify(l)}const O2="mcp_used/unknown";let V2=!1;function zv(i){for(const e of i)if(z2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return V2}function Fv(i){var e;const n=(e=i[xd])!==null&&e!==void 0?e:"";i[xd]=(n+` ${O2}`).trimStart()}function z2(i){return i!==null&&typeof i=="object"&&i instanceof lh}function F2(i,e=100){return co(this,arguments,function*(){let o,l=0;for(;l<e;){const u=yield Ke(i.listTools({cursor:o}));for(const d of u.tools)yield yield Ke(d),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class lh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new lh(e,n)}async initialize(){var e,n,o,l;if(this.mcpTools.length>0)return;const u={},d=[];for(const _ of this.mcpClients)try{for(var p=!0,y=(n=void 0,Fa(F2(_))),g;g=await y.next(),e=g.done,!e;p=!0){l=g.value,p=!1;const v=l;d.push(v);const T=v.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=_}}catch(v){n={error:v}}finally{try{!p&&!e&&(o=y.return)&&await o.call(y)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),L1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await l.callTool({name:o.name,arguments:o.args},void 0,u);n.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return n}}async function J2(i,e,n){const o=new b1;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),Object.assign(o,l),e(o)}class Y2{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=Q2(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const _=new Promise(O=>{g=O}),v=e.callbacks,T=function(){g({})},E=this.apiClient,N={onopen:T,onmessage:O=>{J2(E,v.onmessage,O)},onerror:(n=v?.onerror)!==null&&n!==void 0?n:function(O){},onclose:(o=v?.onclose)!==null&&o!==void 0?o:function(O){}},b=this.webSocketFactory.create(y,K2(d),N);b.connect(),await _;const B={setup:{model:Ue(this.apiClient,e.model)}};return b.send(JSON.stringify(B)),new X2(b,this.apiClient)}}class X2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=UM(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=DM(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(lo.PLAY)}pause(){this.sendPlaybackControl(lo.PAUSE)}stop(){this.sendPlaybackControl(lo.STOP)}resetContext(){this.sendPlaybackControl(lo.RESET_CONTEXT)}close(){this.conn.close()}}function K2(i){const e={};return i.forEach((n,o)=>{e[o]=n}),e}function Q2(i){const e=new Headers;for(const[n,o]of Object.entries(i))e.append(n,o);return e}const $2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function W2(i,e,n){const o=new R1;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const u=JSON.parse(l);if(i.isVertexAI()){const d=LM(u);Object.assign(o,d)}else Object.assign(o,u);e(o)}class Z2{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Y2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,l,u,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let _;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&zv(e.config.tools)&&Fv(v);const T=nb(v);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,_);else{const $=this.apiClient.getApiKey();let oe="BidiGenerateContent",de="key";$?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",de="access_token"),_=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${oe}?${de}=${$}`}let E=()=>{};const N=new Promise($=>{E=$}),b=e.callbacks,J=function(){var $;($=b?.onopen)===null||$===void 0||$.call(b),E({})},F=this.apiClient,B={onopen:J,onmessage:$=>{W2(F,b.onmessage,$)},onerror:(n=b?.onerror)!==null&&n!==void 0?n:function($){},onclose:(o=b?.onclose)!==null&&o!==void 0?o:function($){}},O=this.webSocketFactory.create(_,tb(T),B);O.connect(),await N;let K=Ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const $=this.apiClient.getProject(),oe=this.apiClient.getLocation();K=`projects/${$}/locations/${oe}/`+K}let W={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nu.AUDIO]}:e.config.responseModalities=[nu.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],Y=[];for(const $ of Z)if(this.isCallableTool($)){const oe=$;Y.push(await oe.tool())}else Y.push($);Y.length>0&&(e.config.tools=Y);const ue={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=IM(this.apiClient,ue):W=NM(this.apiClient,ue),delete W.config,O.send(JSON.stringify(W)),new eb(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const j2={turnComplete:!0};class eb{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=yn(n.turns),e.isVertexAI()||(o=o.map(l=>vu(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error($2)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},j2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:PM(e)}:n={realtimeInput:kM(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function tb(i){const e={};return i.forEach((n,o)=>{e[o]=n}),e}function nb(i){const e=new Headers;for(const[n,o]of Object.entries(i))e.append(n,o);return e}const m0=10;function g0(i){var e,n,o;if(!((e=i?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(n=i?.tools)!==null&&n!==void 0?n:[])if(fo(d)){l=!0;break}if(!l)return!0;const u=(o=i?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function fo(i){return"callTool"in i&&typeof i.callTool=="function"}function ib(i){var e,n,o;return(o=(n=(e=i.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>fo(l)))!==null&&o!==void 0?o:!1}function y0(i){var e;const n=[];return!((e=i?.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((o,l)=>{if(fo(o))return;const u=o;u.functionDeclarations&&u.functionDeclarations.length>0&&n.push(l)}),n}function _0(i){var e;return!(!((e=i?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let sb=class extends oi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,l,u,d,p;const y=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ib(n)||g0(n.config))return await this.generateContentInternal(y);const g=y0(n);if(g.length>0){const b=g.map(J=>`tools[${J}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let _,v;const T=yn(y.contents),E=(u=(l=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:m0;let N=0;for(;N<E&&(_=await this.generateContentInternal(y),!(!_.functionCalls||_.functionCalls.length===0));){const b=_.candidates[0].content,J=[];for(const F of(p=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(fo(F)){const O=await F.callTool(_.functionCalls);J.push(...O)}N++,v={role:"user",parts:J},y.contents=yn(y.contents),y.contents.push(b),y.contents.push(v),_0(y.config)&&(T.push(b),T.push(v))}return _0(y.config)&&(_.automaticFunctionCallingHistory=T),_},this.generateContentStream=async n=>{var o,l,u,d,p;if(this.maybeMoveToResponseJsonSchem(n),g0(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const y=y0(n);if(y.length>0){const v=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(l=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,_=(p=(d=n?.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var l;let u;const d=[];if(o?.generatedImages)for(const y of o.generatedImages)y&&y?.safetyAttributes&&((l=y?.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y?.safetyAttributes:d.push(y);let p;return u?p={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},p}),this.list=async n=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new ds(si.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(l)},this.generateVideos=async n=>{var o,l,u,d,p,y;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((l=n.video)===null||l===void 0)&&l.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(p=n.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,l;const u=(n=e.config)===null||n===void 0?void 0:n.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>fo(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&zv(e.config.tools)){const y=(l=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Fv(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var n,o,l;const u=new Map;for(const d of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(fo(d)){const p=d,y=await p.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var n,o,l;const u=(l=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:m0;let d=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(g,_,v){var T,E;return co(this,arguments,function*(){for(var N,b,J,F;p<u;){d&&(p++,d=!1);const W=yield Ke(g.processParamsMaybeAddMcpUsage(v)),Z=yield Ke(g.generateContentStreamInternal(W)),Y=[],ue=[];try{for(var B=!0,O=(b=void 0,Fa(Z)),K;K=yield Ke(O.next()),N=K.done,!N;B=!0){F=K.value,B=!1;const $=F;if(yield yield Ke($),$.candidates&&(!((T=$.candidates[0])===null||T===void 0)&&T.content)){ue.push($.candidates[0].content);for(const oe of(E=$.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(p<u&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(oe.functionCall.name)){const de=yield Ke(_.get(oe.functionCall.name).callTool([oe.functionCall]));Y.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch($){b={error:$}}finally{try{!B&&!N&&(J=O.return)&&(yield Ke(J.call(O)))}finally{if(b)throw b.error}}if(Y.length>0){d=!0;const $=new ma;$.candidates=[{content:{role:"user",parts:Y}}],yield yield Ke($);const oe=[];oe.push(...ue),oe.push({role:"user",parts:Y});const de=yn(v.contents).concat(oe);v.contents=de}else break}})})(this,y,e)}async generateContentInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=c0(this.apiClient,e);return p=ee("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=d0(_),T=new ma;return Object.assign(T,v),T})}else{const g=u0(this.apiClient,e);return p=ee("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=f0(_),T=new ma;return Object.assign(T,v),T})}}async generateContentStreamInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=c0(this.apiClient,e);return p=ee("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(v){return co(this,arguments,function*(){var T,E,N,b;try{for(var J=!0,F=Fa(v),B;B=yield Ke(F.next()),T=B.done,!T;J=!0){b=B.value,J=!1;const O=b,K=d0(yield Ke(O.json()));K.sdkHttpResponse={headers:O.headers};const W=new ma;Object.assign(W,K),yield yield Ke(W)}}catch(O){E={error:O}}finally{try{!J&&!T&&(N=F.return)&&(yield Ke(N.call(F)))}finally{if(E)throw E.error}}})})}else{const g=u0(this.apiClient,e);return p=ee("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(v){return co(this,arguments,function*(){var T,E,N,b;try{for(var J=!0,F=Fa(v),B;B=yield Ke(F.next()),T=B.done,!T;J=!0){b=B.value,J=!1;const O=b,K=f0(yield Ke(O.json()));K.sdkHttpResponse={headers:O.headers};const W=new ma;Object.assign(W,K),yield yield Ke(W)}}catch(O){E={error:O}}finally{try{!J&&!T&&(N=F.return)&&(yield Ke(N.call(F)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=dR(this.apiClient,e);return p=ee("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=pR(_),T=new X_;return Object.assign(T,v),T})}else{const g=fR(this.apiClient,e);return p=ee("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=hR(_),T=new X_;return Object.assign(T,v),T})}}async generateImagesInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=wR(this.apiClient,e);return p=ee("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=RR(_),T=new K_;return Object.assign(T,v),T})}else{const g=CR(this.apiClient,e);return p=ee("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=MR(_),T=new K_;return Object.assign(T,v),T})}}async editImageInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=lR(this.apiClient,e);return u=ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const g=rR(y),_=new g1;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=w2(this.apiClient,e);return u=ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const g=M2(y),_=new y1;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=a2(this.apiClient,e);return u=ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=l2(y),_=new _1;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=h2(this.apiClient,e);return u=ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=p2(y),_=new v1;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=FR(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>bd(_))}else{const g=zR(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>Rd(_))}}async listInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=jR(this.apiClient,e);return p=ee("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=t2(_),T=new Q_;return Object.assign(T,v),T})}else{const g=ZR(this.apiClient,e);return p=ee("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=e2(_),T=new Q_;return Object.assign(T,v),T})}}async update(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=E2(this.apiClient,e);return p=ee("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>bd(_))}else{const g=A2(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>Rd(_))}}async delete(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=iR(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=oR(_),T=new $_;return Object.assign(T,v),T})}else{const g=nR(this.apiClient,e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=sR(_),T=new $_;return Object.assign(T,v),T})}}async countTokens(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=jM(this.apiClient,e);return p=ee("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=tR(_),T=new W_;return Object.assign(T,v),T})}else{const g=ZM(this.apiClient,e);return p=ee("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=eR(_),T=new W_;return Object.assign(T,v),T})}}async computeTokens(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=JM(this.apiClient,e);return u=ee("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const g=YM(y),_=new S1;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=UR(this.apiClient,e);return p=ee("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d.then(_=>{const v=IR(_),T=new iu;return Object.assign(T,v),T})}else{const g=DR(this.apiClient,e);return p=ee("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d.then(_=>{const v=NR(_),T=new iu;return Object.assign(T,v),T})}}};class ob extends oi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=c1(e);return p=ee("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),d}else{const g=u1(e);return p=ee("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json()),d}}async fetchPredictVideosOperationInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=n1(e);return u=ee("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}function ab(i){const e={},n=c(i,["data"]);if(n!=null&&f(e,["data"],n),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function lb(i){const e={},n=c(i,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>gb(u))),f(e,["parts"],l)}const o=c(i,["role"]);return o!=null&&f(e,["role"],o),e}function rb(i,e,n){const o={},l=c(e,["expireTime"]);n!==void 0&&l!=null&&f(n,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);n!==void 0&&u!=null&&f(n,["newSessionExpireTime"],u);const d=c(e,["uses"]);n!==void 0&&d!=null&&f(n,["uses"],d);const p=c(e,["liveConnectConstraints"]);n!==void 0&&p!=null&&f(n,["bidiGenerateContentSetup"],mb(i,p));const y=c(e,["lockAdditionalFields"]);return n!==void 0&&y!=null&&f(n,["fieldMask"],y),o}function ub(i,e){const n={},o=c(e,["config"]);return o!=null&&f(n,["config"],rb(i,o,n)),n}function cb(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(i,["fileUri"]);n!=null&&f(e,["fileUri"],n);const o=c(i,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function fb(i){const e={},n=c(i,["id"]);n!=null&&f(e,["id"],n);const o=c(i,["args"]);o!=null&&f(e,["args"],o);const l=c(i,["name"]);if(l!=null&&f(e,["name"],l),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function db(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(i,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function hb(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(i,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function pb(i,e){const n={},o=c(i,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const l=c(i,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(i,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const _=c(i,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const v=c(i,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],ah(v));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(i,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=c(i,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],lb(Mt(N)));const b=c(i,["tools"]);if(e!==void 0&&b!=null){let Z=mo(b);Array.isArray(Z)&&(Z=Z.map(Y=>_b(po(Y)))),f(e,["setup","tools"],Z)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&f(e,["setup","sessionResumption"],yb(J));const F=c(i,["inputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","inputAudioTranscription"],F);const B=c(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const O=c(i,["realtimeInputConfig"]);e!==void 0&&O!=null&&f(e,["setup","realtimeInputConfig"],O);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const W=c(i,["proactivity"]);return e!==void 0&&W!=null&&f(e,["setup","proactivity"],W),n}function mb(i,e){const n={},o=c(e,["model"]);o!=null&&f(n,["setup","model"],Ue(i,o));const l=c(e,["config"]);return l!=null&&f(n,["config"],pb(l,n)),n}function gb(i){const e={},n=c(i,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const o=c(i,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(i,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],cb(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],fb(d));const p=c(i,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],ab(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const _=c(i,["thought"]);_!=null&&f(e,["thought"],_);const v=c(i,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const T=c(i,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function yb(i){const e={},n=c(i,["handle"]);if(n!=null&&f(e,["handle"],n),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _b(i){const e={},n=c(i,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(v=>v)),f(e,["functionDeclarations"],_)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=c(i,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],db(p));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],hb(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function vb(i){const e=[];for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const o=i[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(u=>`${n}.${u}`);e.push(...l)}else e.push(n)}return e.join(",")}function Sb(i,e){let n=null;const o=i.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,n=u):delete i.bidiGenerateContentSetup}else o!==void 0&&delete i.bidiGenerateContentSetup;const l=i.fieldMask;if(n){const u=vb(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)u?i.fieldMask=u:delete i.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];l.length>0&&(p=l.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?i.fieldMask=l.join(","):delete i.fieldMask;return i}class Tb extends oi{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=ub(this.apiClient,e);u=ee("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const y=Sb(p,e.config);return l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}}function Ab(i,e){const n={},o=c(i,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),n}function Eb(i){const e={},n=c(i,["config"]);return n!=null&&Ab(n,e),e}function Cb(i,e){const n={},o=c(i,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),n}function wb(i){const e={},n=c(i,["name"]);n!=null&&f(e,["_url","name"],n);const o=c(i,["config"]);return o!=null&&Cb(o,e),e}function Mb(i){const e={},n=c(i,["name"]);return n!=null&&f(e,["_url","name"],n),e}function Rb(i,e){const n={},o=c(i,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const l=c(i,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),n}function bb(i){const e={},n=c(i,["name"]);n!=null&&f(e,["name"],n);const o=c(i,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(i,["done"]);l!=null&&f(e,["done"],l);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],Nb(d)),e}function xb(i){const e={},n=c(i,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const o=c(i,["fileName"]);o!=null&&f(e,["fileName"],o);const l=c(i,["config"]);return l!=null&&Rb(l,e),e}function Nb(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["parent"]);o!=null&&f(e,["parent"],o);const l=c(i,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function Ib(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function Db(i){const e={},n=c(i,["config"]);return n!=null&&Ib(n,e),e}function Ub(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function kb(i,e){const n={},o=c(i,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(i,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),f(e,["customMetadata"],p)}const d=c(i,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),n}function Pb(i){const e={},n=c(i,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const o=c(i,["config"]);return o!=null&&kb(o,e),e}function Lb(i){const e={},n=c(i,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function qb(i,e){const n={},o=c(i,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),n}function Bb(i){const e={},n=c(i,["name"]);n!=null&&f(e,["_url","name"],n);const o=c(i,["config"]);return o!=null&&qb(o,e),e}function Hb(i){const e={},n=c(i,["name"]);return n!=null&&f(e,["_url","name"],n),e}function Gb(i,e){const n={},o=c(i,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(i,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function Ob(i){const e={},n=c(i,["parent"]);n!=null&&f(e,["_url","parent"],n);const o=c(i,["config"]);return o!=null&&Gb(o,e),e}function Vb(i){const e={},n=c(i,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const o=c(i,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(i,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}class zb extends oi{constructor(e){super(),this.apiClient=e,this.list=async n=>new ds(si.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Hb(e);return u=ee("{name}",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var n,o;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Bb(e);l=ee("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ob(e);return u=ee("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=Vb(y),_=new T1;return Object.assign(_,g),_})}}}class Fb extends oi{constructor(e,n=new zb(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new ds(si.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Eb(e);return u=ee("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Mb(e);return u=ee("{name}",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var n,o;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=wb(e);l=ee("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Db(e);return u=ee("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=Ub(y),_=new A1;return Object.assign(_,g),_})}}async uploadToFileSearchStoreInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Pb(e);return u=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=Lb(y),_=new E1;return Object.assign(_,g),_})}}async importFile(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xb(e);return u=ee("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=bb(y),_=new th;return Object.assign(_,g),_})}}}function Jb(i,e){const n={},o=c(i,["name"]);return o!=null&&f(n,["_url","name"],o),n}function Yb(i,e){const n={},o=c(i,["name"]);return o!=null&&f(n,["_url","name"],o),n}function Xb(i,e,n){const o={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(i,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(i,["learningRateMultiplier"]);if(d!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(i,["batchSize"]);e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(i,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Kb(i,e,n){const o={};let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const E=c(i,["validationDataset"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec"],v0(E))}else if(l==="PREFERENCE_TUNING"){const E=c(i,["validationDataset"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec"],v0(E))}const u=c(i,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(i,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let p=c(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=c(i,["epochCount"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(p==="PREFERENCE_TUNING"){const E=c(i,["epochCount"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=c(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(i,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(i,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let g=c(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=c(i,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(g==="PREFERENCE_TUNING"){const E=c(i,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let _=c(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const E=c(i,["adapterSize"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(_==="PREFERENCE_TUNING"){const E=c(i,["adapterSize"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=c(i,["labels"]);e!==void 0&&v!=null&&f(e,["labels"],v);const T=c(i,["beta"]);return e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),o}function Qb(i,e){const n={},o=c(i,["baseModel"]);o!=null&&f(n,["baseModel"],o);const l=c(i,["preTunedModel"]);l!=null&&f(n,["preTunedModel"],l);const u=c(i,["trainingDataset"]);u!=null&&ax(u);const d=c(i,["config"]);return d!=null&&Xb(d,n),n}function $b(i,e){const n={},o=c(i,["baseModel"]);o!=null&&f(n,["baseModel"],o);const l=c(i,["preTunedModel"]);l!=null&&f(n,["preTunedModel"],l);const u=c(i,["trainingDataset"]);u!=null&&lx(u,n,e);const d=c(i,["config"]);return d!=null&&Kb(d,n,e),n}function Wb(i,e){const n={},o=c(i,["name"]);return o!=null&&f(n,["_url","name"],o),n}function Zb(i,e){const n={},o=c(i,["name"]);return o!=null&&f(n,["_url","name"],o),n}function jb(i,e,n){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function ex(i,e,n){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function tx(i,e){const n={},o=c(i,["config"]);return o!=null&&jb(o,n),n}function nx(i,e){const n={},o=c(i,["config"]);return o!=null&&ex(o,n),n}function ix(i,e){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const u=c(i,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Jv(p))),f(n,["tuningJobs"],d)}return n}function sx(i,e){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const u=c(i,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Nd(p))),f(n,["tuningJobs"],d)}return n}function ox(i,e){const n={},o=c(i,["name"]);o!=null&&f(n,["model"],o);const l=c(i,["name"]);return l!=null&&f(n,["endpoint"],l),n}function ax(i,e){const n={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(i,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),f(n,["examples","examples"],l)}return n}function lx(i,e,n){const o={};let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Jv(i,e){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(n,["name"],l);const u=c(i,["state"]);u!=null&&f(n,["state"],Mv(u));const d=c(i,["createTime"]);d!=null&&f(n,["createTime"],d);const p=c(i,["tuningTask","startTime"]);p!=null&&f(n,["startTime"],p);const y=c(i,["tuningTask","completeTime"]);y!=null&&f(n,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(n,["updateTime"],g);const _=c(i,["description"]);_!=null&&f(n,["description"],_);const v=c(i,["baseModel"]);v!=null&&f(n,["baseModel"],v);const T=c(i,["_self"]);return T!=null&&f(n,["tunedModel"],ox(T)),n}function Nd(i,e){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(n,["name"],l);const u=c(i,["state"]);u!=null&&f(n,["state"],Mv(u));const d=c(i,["createTime"]);d!=null&&f(n,["createTime"],d);const p=c(i,["startTime"]);p!=null&&f(n,["startTime"],p);const y=c(i,["endTime"]);y!=null&&f(n,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(n,["updateTime"],g);const _=c(i,["error"]);_!=null&&f(n,["error"],_);const v=c(i,["description"]);v!=null&&f(n,["description"],v);const T=c(i,["baseModel"]);T!=null&&f(n,["baseModel"],T);const E=c(i,["tunedModel"]);E!=null&&f(n,["tunedModel"],E);const N=c(i,["preTunedModel"]);N!=null&&f(n,["preTunedModel"],N);const b=c(i,["supervisedTuningSpec"]);b!=null&&f(n,["supervisedTuningSpec"],b);const J=c(i,["preferenceOptimizationSpec"]);J!=null&&f(n,["preferenceOptimizationSpec"],J);const F=c(i,["tuningDataStats"]);F!=null&&f(n,["tuningDataStats"],F);const B=c(i,["encryptionSpec"]);B!=null&&f(n,["encryptionSpec"],B);const O=c(i,["partnerModelTuningSpec"]);O!=null&&f(n,["partnerModelTuningSpec"],O);const K=c(i,["customBaseModel"]);K!=null&&f(n,["customBaseModel"],K);const W=c(i,["experiment"]);W!=null&&f(n,["experiment"],W);const Z=c(i,["labels"]);Z!=null&&f(n,["labels"],Z);const Y=c(i,["outputUri"]);Y!=null&&f(n,["outputUri"],Y);const ue=c(i,["pipelineJob"]);ue!=null&&f(n,["pipelineJob"],ue);const $=c(i,["serviceAccount"]);$!=null&&f(n,["serviceAccount"],$);const oe=c(i,["tunedModelDisplayName"]);oe!=null&&f(n,["tunedModelDisplayName"],oe);const de=c(i,["veoTuningSpec"]);return de!=null&&f(n,["veoTuningSpec"],de),n}function rx(i,e){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(n,["name"],l);const u=c(i,["metadata"]);u!=null&&f(n,["metadata"],u);const d=c(i,["done"]);d!=null&&f(n,["done"],d);const p=c(i,["error"]);return p!=null&&f(n,["error"],p),n}function v0(i,e){const n={},o=c(i,["gcsUri"]);o!=null&&f(n,["validationDatasetUri"],o);const l=c(i,["vertexDatasetResource"]);return l!=null&&f(n,["validationDatasetUri"],l),n}class ux extends oi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ds(si.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const l={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(l.checkpointId=n.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},n),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},n);return await this.tuneInternal(l)}else{const l=Object.assign({},n),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Ed.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Zb(e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>Nd(_))}else{const g=Wb(e);return p=ee("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>Jv(_))}}async listInternal(e){var n,o,l,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=nx(e);return p=ee("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=sx(_),T=new Z_;return Object.assign(T,v),T})}else{const g=tx(e);return p=ee("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(_=>_.json().then(v=>{const T=v;return T.sdkHttpResponse={headers:_.headers},T})),d.then(_=>{const v=ix(_),T=new Z_;return Object.assign(T,v),T})}}async cancel(e){var n,o,l,u;let d="",p={};if(this.apiClient.isVertexAI()){const y=Yb(e);d=ee("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=Jb(e);d=ee("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const p=$b(e,e);return u=ee("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>Nd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Qb(e);return u=ee("tunedModels",p._url),d=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>rx(y))}}}class cx{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fx=1024*1024*8,dx=3,hx=1e3,px=2,ou="x-goog-upload-status";async function mx(i,e,n){var o;const l=await Yv(i,e,n),u=await l?.json();if(((o=l?.headers)===null||o===void 0?void 0:o[ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function gx(i,e,n){var o;const l=await Yv(i,e,n),u=await l?.json();if(((o=l?.headers)===null||o===void 0?void 0:o[ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Sv(u),p=new nh;return Object.assign(p,d),p}async function Yv(i,e,n){var o,l;let u=0,d=0,p=new Cd(new Response),y="upload";for(u=i.size;d<u;){const g=Math.min(fx,u-d),_=i.slice(d,d+g);d+g>=u&&(y+=", finalize");let v=0,T=hx;for(;v<dx&&(p=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((o=p?.headers)===null||o===void 0)&&o[ou]));)v++,await _x(T),T=T*px;if(d+=g,((l=p?.headers)===null||l===void 0?void 0:l[ou])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function yx(i){return{size:i.size,type:i.type}}function _x(i){return new Promise(e=>setTimeout(e,i))}class vx{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mx(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gx(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yx(e)}}class Sx{create(e,n,o){return new Tx(e,n,o)}}class Tx{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const S0="x-goog-api-key";class Ax{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(S0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(S0,this.apiKey)}}}const Ex="gl-node/";class Cx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=e1(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const l=new Ax(this.apiKey);this.apiClient=new H2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Ex+"web",uploader:new vx,downloader:new cx}),this.models=new sb(this.apiClient),this.live=new Z2(this.apiClient,l,new Sx),this.batches=new xw(this.apiClient),this.chats=new cM(this.models,this.apiClient),this.caches=new lM(this.apiClient),this.files=new SM(this.apiClient),this.operations=new ob(this.apiClient),this.authTokens=new Tb(this.apiClient),this.tunings=new ux(this.apiClient),this.fileSearchStores=new Fb(this.apiClient)}}const wx=localStorage.getItem("Gemini Key"),Mx=wx?.replace(/["\\]/g,""),Rx=localStorage.getItem("Model"),bx=Rx?.replace(/["\\]/g,"");async function xx(i){const e=new Cx({apiKey:Mx});try{const n=await e.models.generateContent({model:bx,contents:i,config:{logging_config:{log_client_interaction:!1}}});return console.log(n.text),n.text}catch(n){console.error("Error generating content:",n)}}const Nx=async i=>await xx(i);function me(i,e,n,o,l){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,n),n}function U(i,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:e.get(i)}let Xv=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return Xv=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),n=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};function Id(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Dd=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class fe extends Error{}let Ht=class Ud extends fe{constructor(e,n,o,l){super(`${Ud.makeMessage(e,n,o)}`),this.status=e,this.headers=l,this.requestID=l?.get("x-request-id"),this.error=n;const u=n;this.code=u?.code,this.param=u?.param,this.type=u?.type}static makeMessage(e,n,o){const l=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,n,o,l){if(!e||!l)return new Au({message:o,cause:Dd(n)});const u=n?.error;return e===400?new Kv(e,u,o,l):e===401?new Qv(e,u,o,l):e===403?new $v(e,u,o,l):e===404?new Wv(e,u,o,l):e===409?new Zv(e,u,o,l):e===422?new jv(e,u,o,l):e===429?new eS(e,u,o,l):e>=500?new tS(e,u,o,l):new Ud(e,u,o,l)}},gn=class extends Ht{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Au=class extends Ht{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},rh=class extends Au{constructor({message:e}={}){super({message:e??"Request timed out."})}},Kv=class extends Ht{},Qv=class extends Ht{},$v=class extends Ht{},Wv=class extends Ht{},Zv=class extends Ht{},jv=class extends Ht{},eS=class extends Ht{},tS=class extends Ht{};class nS extends fe{constructor(){super("Could not parse response content as the length limit was reached")}}class iS extends fe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Da extends Error{constructor(e){super(e)}}const Ix=/^[a-z][a-z0-9+.-]*:/i,Dx=i=>Ix.test(i);let Bt=i=>(Bt=Array.isArray,Bt(i)),T0=Bt;function sS(i){return typeof i!="object"?{}:i??{}}function Ux(i){if(!i)return!0;for(const e in i)return!1;return!0}function kx(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function od(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}const Px=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fe(`${i} must be an integer`);if(e<0)throw new fe(`${i} must be a positive integer`);return e},Lx=i=>{try{return JSON.parse(i)}catch{return}},Wa=i=>new Promise(e=>setTimeout(e,i)),no="6.10.0",qx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Bx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Hx=()=>{const i=Bx();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":E0(Deno.build.os),"X-Stainless-Arch":A0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":E0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":A0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Gx();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Gx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const o=n.exec(navigator.userAgent);if(o){const l=o[1]||0,u=o[2]||0,d=o[3]||0;return{browser:e,version:`${l}.${u}.${d}`}}}return null}const A0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",E0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let C0;const Ox=()=>C0??(C0=Hx());function Vx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oS(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function aS(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return oS({start(){},async pull(n){const{done:o,value:l}=await e.next();o?n.close():n.enqueue(l)},async cancel(){await e.return?.()}})}function lS(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zx(i){if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await i[Symbol.asyncIterator]().return?.();return}const e=i.getReader(),n=e.cancel();e.releaseLock(),await n}const Fx=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),rS="RFC3986",uS=i=>String(i),w0={RFC1738:i=>String(i).replace(/%20/g,"+"),RFC3986:uS},Jx="RFC1738";let kd=(i,e)=>(kd=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),kd(i,e));const Dn=(()=>{const i=[];for(let e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i})(),ad=1024,Yx=(i,e,n,o,l)=>{if(i.length===0)return i;let u=i;if(typeof i=="symbol"?u=Symbol.prototype.toString.call(i):typeof i!="string"&&(u=String(i)),n==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});let d="";for(let p=0;p<u.length;p+=ad){const y=u.length>=ad?u.slice(p,p+ad):u,g=[];for(let _=0;_<y.length;++_){let v=y.charCodeAt(_);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||l===Jx&&(v===40||v===41)){g[g.length]=y.charAt(_);continue}if(v<128){g[g.length]=Dn[v];continue}if(v<2048){g[g.length]=Dn[192|v>>6]+Dn[128|v&63];continue}if(v<55296||v>=57344){g[g.length]=Dn[224|v>>12]+Dn[128|v>>6&63]+Dn[128|v&63];continue}_+=1,v=65536+((v&1023)<<10|y.charCodeAt(_)&1023),g[g.length]=Dn[240|v>>18]+Dn[128|v>>12&63]+Dn[128|v>>6&63]+Dn[128|v&63]}d+=g.join("")}return d};function Xx(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))}function M0(i,e){if(Bt(i)){const n=[];for(let o=0;o<i.length;o+=1)n.push(e(i[o]));return n}return e(i)}const cS={brackets(i){return String(i)+"[]"},comma:"comma",indices(i,e){return String(i)+"["+e+"]"},repeat(i){return String(i)}},fS=function(i,e){Array.prototype.push.apply(i,Bt(e)?e:[e])};let R0;const dt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Yx,encodeValuesOnly:!1,format:rS,formatter:uS,indices:!1,serializeDate(i){return(R0??(R0=Function.prototype.call.bind(Date.prototype.toISOString)))(i)},skipNulls:!1,strictNullHandling:!1};function Kx(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="symbol"||typeof i=="bigint"}const ld={};function dS(i,e,n,o,l,u,d,p,y,g,_,v,T,E,N,b,J,F){let B=i,O=F,K=0,W=!1;for(;(O=O.get(ld))!==void 0&&!W;){const oe=O.get(i);if(K+=1,typeof oe<"u"){if(oe===K)throw new RangeError("Cyclic object value");W=!0}typeof O.get(ld)>"u"&&(K=0)}if(typeof g=="function"?B=g(e,B):B instanceof Date?B=T?.(B):n==="comma"&&Bt(B)&&(B=M0(B,function(oe){return oe instanceof Date?T?.(oe):oe})),B===null){if(u)return y&&!b?y(e,dt.encoder,J,"key",E):e;B=""}if(Kx(B)||Xx(B)){if(y){const oe=b?e:y(e,dt.encoder,J,"key",E);return[N?.(oe)+"="+N?.(y(B,dt.encoder,J,"value",E))]}return[N?.(e)+"="+N?.(String(B))]}const Z=[];if(typeof B>"u")return Z;let Y;if(n==="comma"&&Bt(B))b&&y&&(B=M0(B,y)),Y=[{value:B.length>0?B.join(",")||null:void 0}];else if(Bt(g))Y=g;else{const oe=Object.keys(B);Y=_?oe.sort(_):oe}const ue=p?String(e).replace(/\./g,"%2E"):String(e),$=o&&Bt(B)&&B.length===1?ue+"[]":ue;if(l&&Bt(B)&&B.length===0)return $+"[]";for(let oe=0;oe<Y.length;++oe){const de=Y[oe],ye=typeof de=="object"&&typeof de.value<"u"?de.value:B[de];if(d&&ye===null)continue;const Qe=v&&p?de.replace(/\./g,"%2E"):de,je=Bt(B)?typeof n=="function"?n($,Qe):$:$+(v?"."+Qe:"["+Qe+"]");F.set(i,K);const nt=new WeakMap;nt.set(ld,F),fS(Z,dS(ye,je,n,o,l,u,d,p,n==="comma"&&b&&Bt(B)?null:y,g,_,v,T,E,N,b,J,nt))}return Z}function Qx(i=dt){if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.encodeDotInKeys<"u"&&typeof i.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(i.encoder!==null&&typeof i.encoder<"u"&&typeof i.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=i.charset||dt.charset;if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=rS;if(typeof i.format<"u"){if(!kd(w0,i.format))throw new TypeError("Unknown format option provided.");n=i.format}const o=w0[n];let l=dt.filter;(typeof i.filter=="function"||Bt(i.filter))&&(l=i.filter);let u;if(i.arrayFormat&&i.arrayFormat in cS?u=i.arrayFormat:"indices"in i?u=i.indices?"indices":"repeat":u=dt.arrayFormat,"commaRoundTrip"in i&&typeof i.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof i.allowDots>"u"?i.encodeDotInKeys?!0:dt.allowDots:!!i.allowDots;return{addQueryPrefix:typeof i.addQueryPrefix=="boolean"?i.addQueryPrefix:dt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:dt.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:dt.charsetSentinel,commaRoundTrip:!!i.commaRoundTrip,delimiter:typeof i.delimiter>"u"?dt.delimiter:i.delimiter,encode:typeof i.encode=="boolean"?i.encode:dt.encode,encodeDotInKeys:typeof i.encodeDotInKeys=="boolean"?i.encodeDotInKeys:dt.encodeDotInKeys,encoder:typeof i.encoder=="function"?i.encoder:dt.encoder,encodeValuesOnly:typeof i.encodeValuesOnly=="boolean"?i.encodeValuesOnly:dt.encodeValuesOnly,filter:l,format:n,formatter:o,serializeDate:typeof i.serializeDate=="function"?i.serializeDate:dt.serializeDate,skipNulls:typeof i.skipNulls=="boolean"?i.skipNulls:dt.skipNulls,sort:typeof i.sort=="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:dt.strictNullHandling}}function $x(i,e={}){let n=i;const o=Qx(e);let l,u;typeof o.filter=="function"?(u=o.filter,n=u("",n)):Bt(o.filter)&&(u=o.filter,l=u);const d=[];if(typeof n!="object"||n===null)return"";const p=cS[o.arrayFormat],y=p==="comma"&&o.commaRoundTrip;l||(l=Object.keys(n)),o.sort&&l.sort(o.sort);const g=new WeakMap;for(let T=0;T<l.length;++T){const E=l[T];o.skipNulls&&n[E]===null||fS(d,dS(n[E],E,p,y,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,g))}const _=d.join(o.delimiter);let v=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),_.length>0?v+_:""}function Wx(i){let e=0;for(const l of i)e+=l.length;const n=new Uint8Array(e);let o=0;for(const l of i)n.set(l,o),o+=l.length;return n}let b0;function uh(i){let e;return(b0??(e=new globalThis.TextEncoder,b0=e.encode.bind(e)))(i)}let x0;function N0(i){let e;return(x0??(e=new globalThis.TextDecoder,x0=e.decode.bind(e)))(i)}var Zt,jt;let Eu=class{constructor(){Zt.set(this,void 0),jt.set(this,void 0),me(this,Zt,new Uint8Array),me(this,jt,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?uh(e):e;me(this,Zt,Wx([U(this,Zt,"f"),n]));const o=[];let l;for(;(l=Zx(U(this,Zt,"f"),U(this,jt,"f")))!=null;){if(l.carriage&&U(this,jt,"f")==null){me(this,jt,l.index);continue}if(U(this,jt,"f")!=null&&(l.index!==U(this,jt,"f")+1||l.carriage)){o.push(N0(U(this,Zt,"f").subarray(0,U(this,jt,"f")-1))),me(this,Zt,U(this,Zt,"f").subarray(U(this,jt,"f"))),me(this,jt,null);continue}const u=U(this,jt,"f")!==null?l.preceding-1:l.preceding,d=N0(U(this,Zt,"f").subarray(0,u));o.push(d),me(this,Zt,U(this,Zt,"f").subarray(l.index)),me(this,jt,null)}return o}flush(){return U(this,Zt,"f").length?this.decode(`
`):[]}};Zt=new WeakMap,jt=new WeakMap;Eu.NEWLINE_CHARS=new Set([`
`,"\r"]);Eu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Zx(i,e){for(let l=e??0;l<i.length;l++){if(i[l]===10)return{preceding:l,index:l+1,carriage:!1};if(i[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function jx(i){for(let o=0;o<i.length-1;o++){if(i[o]===10&&i[o+1]===10||i[o]===13&&i[o+1]===13)return o+2;if(i[o]===13&&i[o+1]===10&&o+3<i.length&&i[o+2]===13&&i[o+3]===10)return o+4}return-1}const au={off:0,error:200,warn:300,info:400,debug:500},I0=(i,e,n)=>{if(i){if(kx(au,i))return i;Tt(n).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(au))}`)}};function Ua(){}function Sr(i,e,n){return!e||au[i]>au[n]?Ua:e[i].bind(e)}const eN={error:Ua,warn:Ua,info:Ua,debug:Ua};let D0=new WeakMap;function Tt(i){const e=i.logger,n=i.logLevel??"off";if(!e)return eN;const o=D0.get(e);if(o&&o[0]===n)return o[1];const l={error:Sr("error",e,n),warn:Sr("warn",e,n),info:Sr("info",e,n),debug:Sr("debug",e,n)};return D0.set(e,[n,l]),l}const as=i=>(i.options&&(i.options={...i.options},delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);var ga;let Ka=class ka{constructor(e,n,o){this.iterator=e,ga.set(this,void 0),this.controller=n,me(this,ga,o)}static fromSSEResponse(e,n,o){let l=!1;const u=o?Tt(o):console;async function*d(){if(l)throw new fe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let p=!1;try{for await(const y of tN(e,n))if(!p){if(y.data.startsWith("[DONE]")){p=!0;continue}if(y.event===null||!y.event.startsWith("thread.")){let g;try{g=JSON.parse(y.data)}catch(_){throw u.error("Could not parse message into JSON:",y.data),u.error("From chunk:",y.raw),_}if(g&&g.error)throw new Ht(void 0,g.error,void 0,e.headers);yield g}else{let g;try{g=JSON.parse(y.data)}catch(_){throw console.error("Could not parse message into JSON:",y.data),console.error("From chunk:",y.raw),_}if(y.event=="error")throw new Ht(void 0,g.error,g.message,void 0);yield{event:y.event,data:g}}}p=!0}catch(y){if(Id(y))return;throw y}finally{p||n.abort()}}return new ka(d,n,o)}static fromReadableStream(e,n,o){let l=!1;async function*u(){const p=new Eu,y=lS(e);for await(const g of y)for(const _ of p.decode(g))yield _;for(const g of p.flush())yield g}async function*d(){if(l)throw new fe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let p=!1;try{for await(const y of u())p||y&&(yield JSON.parse(y));p=!0}catch(y){if(Id(y))return;throw y}finally{p||n.abort()}}return new ka(d,n,o)}[(ga=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=o.next();e.push(d),n.push(d)}return u.shift()}});return[new ka(()=>l(e),this.controller,U(this,ga,"f")),new ka(()=>l(n),this.controller,U(this,ga,"f"))]}toReadableStream(){const e=this;let n;return oS({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:l,done:u}=await n.next();if(u)return o.close();const d=uh(JSON.stringify(l)+`
`);o.enqueue(d)}catch(l){o.error(l)}},async cancel(){await n.return?.()}})}};async function*tN(i,e){if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fe("Attempted to iterate over a response with no body");const n=new iN,o=new Eu,l=lS(i.body);for await(const u of nN(l))for(const d of o.decode(u)){const p=n.decode(d);p&&(yield p)}for(const u of o.flush()){const d=n.decode(u);d&&(yield d)}}async function*nN(i){let e=new Uint8Array;for await(const n of i){if(n==null)continue;const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?uh(n):n;let l=new Uint8Array(e.length+o.length);l.set(e),l.set(o,e.length),e=l;let u;for(;(u=jx(e))!==-1;)yield e.slice(0,u),e=e.slice(u)}e.length>0&&(yield e)}let iN=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,l]=sN(e,":");return l.startsWith(" ")&&(l=l.substring(1)),n==="event"?this.event=l:n==="data"&&this.data.push(l),null}};function sN(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}async function hS(i,e){const{response:n,requestLogID:o,retryOfRequestLogID:l,startTime:u}=e,d=await(async()=>{if(e.options.stream)return Tt(i).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,i):Ka.fromSSEResponse(n,e.controller,i);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const y=n.headers.get("content-type")?.split(";")[0]?.trim();if(y?.includes("application/json")||y?.endsWith("+json")){const v=await n.json();return pS(v,n)}return await n.text()})();return Tt(i).debug(`[${o}] response parsed`,as({retryOfRequestLogID:l,url:n.url,status:n.status,body:d,durationMs:Date.now()-u})),d}function pS(i,e){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Pa;let mS=class gS extends Promise{constructor(e,n,o=hS){super(l=>{l(null)}),this.responsePromise=n,this.parseResponse=o,Pa.set(this,void 0),me(this,Pa,e)}_thenUnwrap(e){return new gS(U(this,Pa,"f"),this.responsePromise,async(n,o)=>pS(e(await this.parseResponse(n,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(U(this,Pa,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};Pa=new WeakMap;var Tr;let ch=class{constructor(e,n,o,l){Tr.set(this,void 0),me(this,Tr,e),this.options=l,this.response=n,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new fe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await U(this,Tr,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Tr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}},oN=class extends mS{constructor(e,n,o){super(e,n,async(l,u)=>new o(l,u.response,await hS(l,u),u.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}},Cu=class extends ch{constructor(e,n,o,l){super(e,n,o,l),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}};class lt extends ch{constructor(e,n,o,l){super(e,n,o,l),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...sS(this.options.query),after:n}}:null}}class lu extends ch{constructor(e,n,o,l){super(e,n,o,l),this.data=o.data||[],this.has_more=o.has_more||!1,this.last_id=o.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...sS(this.options.query),after:e}}:null}}const yS=()=>{if(typeof File>"u"){const{process:i}=globalThis,e=typeof i?.versions?.node=="string"&&parseInt(i.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ja(i,e,n){return yS(),new File(i,e??"unknown_file",n)}function Jr(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const fh=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",U0=async(i,e)=>Pd(i.body)?{...i,body:await _S(i.body,e)}:i,fs=async(i,e)=>({...i,body:await _S(i.body,e)}),k0=new WeakMap;function aN(i){const e=typeof i=="function"?i:i.fetch,n=k0.get(e);if(n)return n;const o=(async()=>{try{const l="Response"in e?e.Response:(await e("data:,")).constructor,u=new FormData;return u.toString()!==await new l(u).text()}catch{return!0}})();return k0.set(e,o),o}const _S=async(i,e)=>{if(!await aN(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(i||{}).map(([o,l])=>Ld(n,o,l))),n},vS=i=>i instanceof Blob&&"name"in i,lN=i=>typeof i=="object"&&i!==null&&(i instanceof Response||fh(i)||vS(i)),Pd=i=>{if(lN(i))return!0;if(Array.isArray(i))return i.some(Pd);if(i&&typeof i=="object"){for(const e in i)if(Pd(i[e]))return!0}return!1},Ld=async(i,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")i.append(e,String(n));else if(n instanceof Response)i.append(e,Ja([await n.blob()],Jr(n)));else if(fh(n))i.append(e,Ja([await new Response(aS(n)).blob()],Jr(n)));else if(vS(n))i.append(e,n,Jr(n));else if(Array.isArray(n))await Promise.all(n.map(o=>Ld(i,e+"[]",o)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,l])=>Ld(i,`${e}[${o}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},SS=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",rN=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&SS(i),uN=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function cN(i,e,n){if(yS(),i=await i,rN(i))return i instanceof File?i:Ja([await i.arrayBuffer()],i.name);if(uN(i)){const l=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),Ja(await qd(l),e,n)}const o=await qd(i);if(e||(e=Jr(i)),!n?.type){const l=o.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(n={...n,type:l})}return Ja(o,e,n)}async function qd(i){let e=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)e.push(i);else if(SS(i))e.push(i instanceof Blob?i:await i.arrayBuffer());else if(fh(i))for await(const n of i)e.push(...await qd(n));else{const n=i?.constructor?.name;throw new Error(`Unexpected data type: ${typeof i}${n?`; constructor: ${n}`:""}${fN(i)}`)}return e}function fN(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}let re=class{constructor(e){this._client=e}};function TS(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const P0=Object.freeze(Object.create(null)),dN=(i=TS)=>function(n,...o){if(n.length===1)return n[0];let l=!1;const u=[],d=n.reduce((_,v,T)=>{/[?#]/.test(v)&&(l=!0);const E=o[T];let N=(l?encodeURIComponent:i)(""+E);return T!==o.length&&(E==null||typeof E=="object"&&E.toString===Object.getPrototypeOf(Object.getPrototypeOf(E.hasOwnProperty??P0)??P0)?.toString)&&(N=E+"",u.push({start:_.length+v.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),_+v+(T===o.length?"":N)},""),p=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((_,v)=>_.start-v.start),u.length>0){let _=0;const v=u.reduce((T,E)=>{const N=" ".repeat(E.start-_),b="^".repeat(E.length);return _=E.start+E.length,T+N+b},"");throw new fe(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${d}
${v}`)}return d},X=dN(TS);let AS=class extends re{list(e,n={},o){return this._client.getAPIList(X`/chat/completions/${e}/messages`,lt,{query:n,...o})}};function ru(i){return i!==void 0&&"function"in i&&i.function!==void 0}function dh(i){return i?.$brand==="auto-parseable-response-format"}function Za(i){return i?.$brand==="auto-parseable-tool"}function hN(i,e){return!e||!ES(e)?{...i,choices:i.choices.map(n=>(CS(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:hh(i,e)}function hh(i,e){const n=i.choices.map(o=>{if(o.finish_reason==="length")throw new nS;if(o.finish_reason==="content_filter")throw new iS;return CS(o.message.tool_calls),{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:o.message.tool_calls?.map(l=>mN(e,l))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?pN(e,o.message.content):null}}});return{...i,choices:n}}function pN(i,e){return i.response_format?.type!=="json_schema"?null:i.response_format?.type==="json_schema"?"$parseRaw"in i.response_format?i.response_format.$parseRaw(e):JSON.parse(e):null}function mN(i,e){const n=i.tools?.find(o=>ru(o)&&o.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Za(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function gN(i,e){if(!i||!("tools"in i)||!i.tools)return!1;const n=i.tools?.find(o=>ru(o)&&o.function?.name===e.function.name);return ru(n)&&(Za(n)||n?.function.strict||!1)}function ES(i){return dh(i.response_format)?!0:i.tools?.some(e=>Za(e)||e.type==="function"&&e.function.strict===!0)??!1}function CS(i){for(const e of i||[])if(e.type!=="function")throw new fe(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function yN(i){for(const e of i??[]){if(e.type!=="function")throw new fe(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new fe(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const uu=i=>i?.role==="assistant",wS=i=>i?.role==="tool";var Bd,Yr,Xr,La,qa,Kr,Ba,ni,Ha,cu,fu,io,MS;class ph{constructor(){Bd.add(this),this.controller=new AbortController,Yr.set(this,void 0),Xr.set(this,()=>{}),La.set(this,()=>{}),qa.set(this,void 0),Kr.set(this,()=>{}),Ba.set(this,()=>{}),ni.set(this,{}),Ha.set(this,!1),cu.set(this,!1),fu.set(this,!1),io.set(this,!1),me(this,Yr,new Promise((e,n)=>{me(this,Xr,e,"f"),me(this,La,n,"f")})),me(this,qa,new Promise((e,n)=>{me(this,Kr,e,"f"),me(this,Ba,n,"f")})),U(this,Yr,"f").catch(()=>{}),U(this,qa,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},U(this,Bd,"m",MS).bind(this))},0)}_connected(){this.ended||(U(this,Xr,"f").call(this),this._emit("connect"))}get ended(){return U(this,Ha,"f")}get errored(){return U(this,cu,"f")}get aborted(){return U(this,fu,"f")}abort(){this.controller.abort()}on(e,n){return(U(this,ni,"f")[e]||(U(this,ni,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=U(this,ni,"f")[e];if(!o)return this;const l=o.findIndex(u=>u.listener===n);return l>=0&&o.splice(l,1),this}once(e,n){return(U(this,ni,"f")[e]||(U(this,ni,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{me(this,io,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){me(this,io,!0),await U(this,qa,"f")}_emit(e,...n){if(U(this,Ha,"f"))return;e==="end"&&(me(this,Ha,!0),U(this,Kr,"f").call(this));const o=U(this,ni,"f")[e];if(o&&(U(this,ni,"f")[e]=o.filter(l=>!l.once),o.forEach(({listener:l})=>l(...n))),e==="abort"){const l=n[0];!U(this,io,"f")&&!o?.length&&Promise.reject(l),U(this,La,"f").call(this,l),U(this,Ba,"f").call(this,l),this._emit("end");return}if(e==="error"){const l=n[0];!U(this,io,"f")&&!o?.length&&Promise.reject(l),U(this,La,"f").call(this,l),U(this,Ba,"f").call(this,l),this._emit("end")}}_emitFinal(){}}Yr=new WeakMap,Xr=new WeakMap,La=new WeakMap,qa=new WeakMap,Kr=new WeakMap,Ba=new WeakMap,ni=new WeakMap,Ha=new WeakMap,cu=new WeakMap,fu=new WeakMap,io=new WeakMap,Bd=new WeakSet,MS=function(e){if(me(this,cu,!0),e instanceof Error&&e.name==="AbortError"&&(e=new gn),e instanceof gn)return me(this,fu,!0),this._emit("abort",e);if(e instanceof fe)return this._emit("error",e);if(e instanceof Error){const n=new fe(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new fe(String(e)))};function _N(i){return typeof i.parse=="function"}var xt,Hd,du,Gd,Od,Vd,RS,bS;const vN=10;class xS extends ph{constructor(){super(...arguments),xt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),wS(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(uu(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionToolCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new fe("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),U(this,xt,"m",Hd).call(this)}async finalMessage(){return await this.done(),U(this,xt,"m",du).call(this)}async finalFunctionToolCall(){return await this.done(),U(this,xt,"m",Gd).call(this)}async finalFunctionToolCallResult(){return await this.done(),U(this,xt,"m",Od).call(this)}async totalUsage(){return await this.done(),U(this,xt,"m",Vd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=U(this,xt,"m",du).call(this);n&&this._emit("finalMessage",n);const o=U(this,xt,"m",Hd).call(this);o&&this._emit("finalContent",o);const l=U(this,xt,"m",Gd).call(this);l&&this._emit("finalFunctionToolCall",l);const u=U(this,xt,"m",Od).call(this);u!=null&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",U(this,xt,"m",Vd).call(this))}async _createChatCompletion(e,n,o){const l=o?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),U(this,xt,"m",RS).call(this,n);const u=await e.chat.completions.create({...n,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(hh(u,n))}async _runChatCompletion(e,n,o){for(const l of n.messages)this._addMessage(l,!1);return await this._createChatCompletion(e,n,o)}async _runTools(e,n,o){const l="tool",{tool_choice:u="auto",stream:d,...p}=n,y=typeof u!="string"&&u.type==="function"&&u?.function?.name,{maxChatCompletions:g=vN}=o||{},_=n.tools.map(E=>{if(Za(E)){if(!E.$callback)throw new fe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),v={};for(const E of _)E.type==="function"&&(v[E.function.name||E.function.function.name]=E.function);const T="tools"in n?_.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of n.messages)this._addMessage(E,!1);for(let E=0;E<g;++E){const b=(await this._createChatCompletion(e,{...p,tool_choice:u,tools:T,messages:[...this.messages]},o)).choices[0]?.message;if(!b)throw new fe("missing message in ChatCompletion response");if(!b.tool_calls?.length)return;for(const J of b.tool_calls){if(J.type!=="function")continue;const F=J.id,{name:B,arguments:O}=J.function,K=v[B];if(K){if(y&&y!==B){const ue=`Invalid tool_call: ${JSON.stringify(B)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:l,tool_call_id:F,content:ue});continue}}else{const ue=`Invalid tool_call: ${JSON.stringify(B)}. Available options are: ${Object.keys(v).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:l,tool_call_id:F,content:ue});continue}let W;try{W=_N(K)?await K.parse(O):O}catch(ue){const $=ue instanceof Error?ue.message:String(ue);this._addMessage({role:l,tool_call_id:F,content:$});continue}const Z=await K.function(W,this),Y=U(this,xt,"m",bS).call(this,Z);if(this._addMessage({role:l,tool_call_id:F,content:Y}),y)return}}}}xt=new WeakSet,Hd=function(){return U(this,xt,"m",du).call(this).content??null},du=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(uu(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new fe("stream ended without producing a ChatCompletionMessage with role=assistant")},Gd=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(uu(n)&&n?.tool_calls?.length)return n.tool_calls.filter(o=>o.type==="function").at(-1)?.function}},Od=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(wS(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(o=>o.role==="assistant"&&o.tool_calls?.some(l=>l.type==="function"&&l.id===n.tool_call_id)))return n.content}},Vd=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},RS=function(e){if(e.n!=null&&e.n>1)throw new fe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},bS=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class mh extends xS{static runTools(e,n,o){const l=new mh,u={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(e,n,u)),l}_addMessage(e,n=!0){super._addMessage(e,n),uu(e)&&e.content&&this._emit("content",e.content)}}const NS=1,IS=2,DS=4,US=8,kS=16,PS=32,LS=64,qS=128,BS=256,HS=qS|BS,GS=kS|PS|HS|LS,OS=NS|IS|GS,VS=DS|US,SN=OS|VS,mt={STR:NS,NUM:IS,ARR:DS,OBJ:US,NULL:kS,BOOL:PS,NAN:LS,INFINITY:qS,MINUS_INFINITY:BS,INF:HS,SPECIAL:GS,ATOM:OS,COLLECTION:VS,ALL:SN};class TN extends Error{}class AN extends Error{}function EN(i,e=mt.ALL){if(typeof i!="string")throw new TypeError(`expecting str, got ${typeof i}`);if(!i.trim())throw new Error(`${i} is empty`);return CN(i.trim(),e)}const CN=(i,e)=>{const n=i.length;let o=0;const l=T=>{throw new TN(`${T} at position ${o}`)},u=T=>{throw new AN(`${T} at position ${o}`)},d=()=>(v(),o>=n&&l("Unexpected end of input"),i[o]==='"'?p():i[o]==="{"?y():i[o]==="["?g():i.substring(o,o+4)==="null"||mt.NULL&e&&n-o<4&&"null".startsWith(i.substring(o))?(o+=4,null):i.substring(o,o+4)==="true"||mt.BOOL&e&&n-o<4&&"true".startsWith(i.substring(o))?(o+=4,!0):i.substring(o,o+5)==="false"||mt.BOOL&e&&n-o<5&&"false".startsWith(i.substring(o))?(o+=5,!1):i.substring(o,o+8)==="Infinity"||mt.INFINITY&e&&n-o<8&&"Infinity".startsWith(i.substring(o))?(o+=8,1/0):i.substring(o,o+9)==="-Infinity"||mt.MINUS_INFINITY&e&&1<n-o&&n-o<9&&"-Infinity".startsWith(i.substring(o))?(o+=9,-1/0):i.substring(o,o+3)==="NaN"||mt.NAN&e&&n-o<3&&"NaN".startsWith(i.substring(o))?(o+=3,NaN):_()),p=()=>{const T=o;let E=!1;for(o++;o<n&&(i[o]!=='"'||E&&i[o-1]==="\\");)E=i[o]==="\\"?!E:!1,o++;if(i.charAt(o)=='"')try{return JSON.parse(i.substring(T,++o-Number(E)))}catch(N){u(String(N))}else if(mt.STR&e)try{return JSON.parse(i.substring(T,o-Number(E))+'"')}catch{return JSON.parse(i.substring(T,i.lastIndexOf("\\"))+'"')}l("Unterminated string literal")},y=()=>{o++,v();const T={};try{for(;i[o]!=="}";){if(v(),o>=n&&mt.OBJ&e)return T;const E=p();v(),o++;try{const N=d();Object.defineProperty(T,E,{value:N,writable:!0,enumerable:!0,configurable:!0})}catch(N){if(mt.OBJ&e)return T;throw N}v(),i[o]===","&&o++}}catch{if(mt.OBJ&e)return T;l("Expected '}' at end of object")}return o++,T},g=()=>{o++;const T=[];try{for(;i[o]!=="]";)T.push(d()),v(),i[o]===","&&o++}catch{if(mt.ARR&e)return T;l("Expected ']' at end of array")}return o++,T},_=()=>{if(o===0){i==="-"&&mt.NUM&e&&l("Not sure what '-' is");try{return JSON.parse(i)}catch(E){if(mt.NUM&e)try{return i[i.length-1]==="."?JSON.parse(i.substring(0,i.lastIndexOf("."))):JSON.parse(i.substring(0,i.lastIndexOf("e")))}catch{}u(String(E))}}const T=o;for(i[o]==="-"&&o++;i[o]&&!",]}".includes(i[o]);)o++;o==n&&!(mt.NUM&e)&&l("Unterminated number literal");try{return JSON.parse(i.substring(T,o))}catch{i.substring(T,o)==="-"&&mt.NUM&e&&l("Not sure what '-' is");try{return JSON.parse(i.substring(T,i.lastIndexOf("e")))}catch(N){u(String(N))}}},v=()=>{for(;o<n&&` 
\r	`.includes(i[o]);)o++};return d()},L0=i=>EN(i,mt.ALL^mt.NUM);var ct,jn,Ws,Di,rd,Ar,ud,cd,fd,Er,dd,q0;class Qa extends xS{constructor(e){super(),ct.add(this),jn.set(this,void 0),Ws.set(this,void 0),Di.set(this,void 0),me(this,jn,e),me(this,Ws,[])}get currentChatCompletionSnapshot(){return U(this,Di,"f")}static fromReadableStream(e){const n=new Qa(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,o){const l=new Qa(n);return l._run(()=>l._runChatCompletion(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createChatCompletion(e,n,o){super._createChatCompletion;const l=o?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),U(this,ct,"m",rd).call(this);const u=await e.chat.completions.create({...n,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const d of u)U(this,ct,"m",ud).call(this,d);if(u.controller.signal?.aborted)throw new gn;return this._addChatCompletion(U(this,ct,"m",Er).call(this))}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),U(this,ct,"m",rd).call(this),this._connected();const l=Ka.fromReadableStream(e,this.controller);let u;for await(const d of l)u&&u!==d.id&&this._addChatCompletion(U(this,ct,"m",Er).call(this)),U(this,ct,"m",ud).call(this,d),u=d.id;if(l.controller.signal?.aborted)throw new gn;return this._addChatCompletion(U(this,ct,"m",Er).call(this))}[(jn=new WeakMap,Ws=new WeakMap,Di=new WeakMap,ct=new WeakSet,rd=function(){this.ended||me(this,Di,void 0)},Ar=function(n){let o=U(this,Ws,"f")[n.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},U(this,Ws,"f")[n.index]=o,o)},ud=function(n){if(this.ended)return;const o=U(this,ct,"m",q0).call(this,n);this._emit("chunk",n,o);for(const l of n.choices){const u=o.choices[l.index];l.delta.content!=null&&u.message?.role==="assistant"&&u.message?.content&&(this._emit("content",l.delta.content,u.message.content),this._emit("content.delta",{delta:l.delta.content,snapshot:u.message.content,parsed:u.message.parsed})),l.delta.refusal!=null&&u.message?.role==="assistant"&&u.message?.refusal&&this._emit("refusal.delta",{delta:l.delta.refusal,snapshot:u.message.refusal}),l.logprobs?.content!=null&&u.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:l.logprobs?.content,snapshot:u.logprobs?.content??[]}),l.logprobs?.refusal!=null&&u.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:l.logprobs?.refusal,snapshot:u.logprobs?.refusal??[]});const d=U(this,ct,"m",Ar).call(this,u);u.finish_reason&&(U(this,ct,"m",fd).call(this,u),d.current_tool_call_index!=null&&U(this,ct,"m",cd).call(this,u,d.current_tool_call_index));for(const p of l.delta.tool_calls??[])d.current_tool_call_index!==p.index&&(U(this,ct,"m",fd).call(this,u),d.current_tool_call_index!=null&&U(this,ct,"m",cd).call(this,u,d.current_tool_call_index)),d.current_tool_call_index=p.index;for(const p of l.delta.tool_calls??[]){const y=u.message.tool_calls?.[p.index];y?.type&&(y?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:y.function?.name,index:p.index,arguments:y.function.arguments,parsed_arguments:y.function.parsed_arguments,arguments_delta:p.function?.arguments??""}):(y?.type,void 0))}}},cd=function(n,o){if(U(this,ct,"m",Ar).call(this,n).done_tool_calls.has(o))return;const u=n.message.tool_calls?.[o];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const d=U(this,jn,"f")?.tools?.find(p=>ru(p)&&p.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:o,arguments:u.function.arguments,parsed_arguments:Za(d)?d.$parseRaw(u.function.arguments):d?.function.strict?JSON.parse(u.function.arguments):null})}else u.type},fd=function(n){const o=U(this,ct,"m",Ar).call(this,n);if(n.message.content&&!o.content_done){o.content_done=!0;const l=U(this,ct,"m",dd).call(this);this._emit("content.done",{content:n.message.content,parsed:l?l.$parseRaw(n.message.content):null})}n.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Er=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=U(this,Di,"f");if(!n)throw new fe("request ended without sending any chunks");return me(this,Di,void 0),me(this,Ws,[]),wN(n,U(this,jn,"f"))},dd=function(){const n=U(this,jn,"f")?.response_format;return dh(n)?n:null},q0=function(n){var o,l,u,d;let p=U(this,Di,"f");const{choices:y,...g}=n;p?Object.assign(p,g):p=me(this,Di,{...g,choices:[]});for(const{delta:_,finish_reason:v,index:T,logprobs:E=null,...N}of n.choices){let b=p.choices[T];if(b||(b=p.choices[T]={finish_reason:v,index:T,message:{},logprobs:E,...N}),E)if(!b.logprobs)b.logprobs=Object.assign({},E);else{const{content:Z,refusal:Y,...ue}=E;Object.assign(b.logprobs,ue),Z&&((o=b.logprobs).content??(o.content=[]),b.logprobs.content.push(...Z)),Y&&((l=b.logprobs).refusal??(l.refusal=[]),b.logprobs.refusal.push(...Y))}if(v&&(b.finish_reason=v,U(this,jn,"f")&&ES(U(this,jn,"f")))){if(v==="length")throw new nS;if(v==="content_filter")throw new iS}if(Object.assign(b,N),!_)continue;const{content:J,refusal:F,function_call:B,role:O,tool_calls:K,...W}=_;if(Object.assign(b.message,W),F&&(b.message.refusal=(b.message.refusal||"")+F),O&&(b.message.role=O),B&&(b.message.function_call?(B.name&&(b.message.function_call.name=B.name),B.arguments&&((u=b.message.function_call).arguments??(u.arguments=""),b.message.function_call.arguments+=B.arguments)):b.message.function_call=B),J&&(b.message.content=(b.message.content||"")+J,!b.message.refusal&&U(this,ct,"m",dd).call(this)&&(b.message.parsed=L0(b.message.content))),K){b.message.tool_calls||(b.message.tool_calls=[]);for(const{index:Z,id:Y,type:ue,function:$,...oe}of K){const de=(d=b.message.tool_calls)[Z]??(d[Z]={});Object.assign(de,oe),Y&&(de.id=Y),ue&&(de.type=ue),$&&(de.function??(de.function={name:$.name??"",arguments:""})),$?.name&&(de.function.name=$.name),$?.arguments&&(de.function.arguments+=$.arguments,gN(U(this,jn,"f"),de)&&(de.function.parsed_arguments=L0(de.function.arguments)))}}}return p},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("chunk",l=>{const u=n.shift();u?u.resolve(l):e.push(l)}),this.on("end",()=>{o=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),this.on("error",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,d)=>n.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ka(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function wN(i,e){const{id:n,choices:o,created:l,model:u,system_fingerprint:d,...p}=i,y={...p,id:n,choices:o.map(({message:g,finish_reason:_,index:v,logprobs:T,...E})=>{if(!_)throw new fe(`missing finish_reason for choice ${v}`);const{content:N=null,function_call:b,tool_calls:J,...F}=g,B=g.role;if(!B)throw new fe(`missing role for choice ${v}`);if(b){const{arguments:O,name:K}=b;if(O==null)throw new fe(`missing function_call.arguments for choice ${v}`);if(!K)throw new fe(`missing function_call.name for choice ${v}`);return{...E,message:{content:N,function_call:{arguments:O,name:K},role:B,refusal:g.refusal??null},finish_reason:_,index:v,logprobs:T}}return J?{...E,index:v,finish_reason:_,logprobs:T,message:{...F,role:B,content:N,refusal:g.refusal??null,tool_calls:J.map((O,K)=>{const{function:W,type:Z,id:Y,...ue}=O,{arguments:$,name:oe,...de}=W||{};if(Y==null)throw new fe(`missing choices[${v}].tool_calls[${K}].id
${Cr(i)}`);if(Z==null)throw new fe(`missing choices[${v}].tool_calls[${K}].type
${Cr(i)}`);if(oe==null)throw new fe(`missing choices[${v}].tool_calls[${K}].function.name
${Cr(i)}`);if($==null)throw new fe(`missing choices[${v}].tool_calls[${K}].function.arguments
${Cr(i)}`);return{...ue,id:Y,type:Z,function:{...de,name:oe,arguments:$}}})}}:{...E,message:{...F,content:N,role:B,refusal:g.refusal??null},finish_reason:_,index:v,logprobs:T}}),created:l,model:u,object:"chat.completion",...d?{system_fingerprint:d}:{}};return hN(y,e)}function Cr(i){return JSON.stringify(i)}class hu extends Qa{static fromReadableStream(e){const n=new hu(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,o){const l=new hu(n),u={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(e,n,u)),l}}let gh=class extends re{constructor(){super(...arguments),this.messages=new AS(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(X`/chat/completions/${e}`,n)}update(e,n,o){return this._client.post(X`/chat/completions/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/chat/completions",lt,{query:e,...n})}delete(e,n){return this._client.delete(X`/chat/completions/${e}`,n)}parse(e,n){return yN(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(o=>hh(o,e))}runTools(e,n){return e.stream?hu.runTools(this._client,e,n):mh.runTools(this._client,e,n)}stream(e,n){return Qa.createChatCompletion(this._client,e,n)}};gh.Messages=AS;class yh extends re{constructor(){super(...arguments),this.completions=new gh(this._client)}}yh.Completions=gh;const zS=Symbol("brand.privateNullableHeaders");function*MN(i){if(!i)return;if(zS in i){const{values:o,nulls:l}=i;yield*o.entries();for(const u of l)yield[u,null];return}let e=!1,n;i instanceof Headers?n=i.entries():T0(i)?n=i:(e=!0,n=Object.entries(i??{}));for(let o of n){const l=o[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=T0(o[1])?o[1]:[o[1]];let d=!1;for(const p of u)p!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,p])}}const ie=i=>{const e=new Headers,n=new Set;for(const o of i){const l=new Set;for(const[u,d]of MN(o)){const p=u.toLowerCase();l.has(p)||(e.delete(u),l.add(p)),d===null?(e.delete(u),n.add(p)):(e.append(u,d),n.delete(p))}}return{[zS]:!0,values:e,nulls:n}};class FS extends re{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:ie([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class JS extends re{create(e,n){return this._client.post("/audio/transcriptions",fs({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class YS extends re{create(e,n){return this._client.post("/audio/translations",fs({body:e,...n,__metadata:{model:e.model}},this._client))}}class ja extends re{constructor(){super(...arguments),this.transcriptions=new JS(this._client),this.translations=new YS(this._client),this.speech=new FS(this._client)}}ja.Transcriptions=JS;ja.Translations=YS;ja.Speech=FS;let XS=class extends re{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(X`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",lt,{query:e,...n})}cancel(e,n){return this._client.post(X`/batches/${e}/cancel`,n)}};class KS extends re{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/assistants/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(X`/assistants/${e}`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",lt,{query:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(X`/assistants/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let QS=class extends re{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class $S extends re{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let wu=class extends re{constructor(){super(...arguments),this.sessions=new QS(this._client),this.transcriptionSessions=new $S(this._client)}};wu.Sessions=QS;wu.TranscriptionSessions=$S;class WS extends re{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(X`/chatkit/sessions/${e}/cancel`,{...n,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let ZS=class extends re{retrieve(e,n){return this._client.get(X`/chatkit/threads/${e}`,{...n,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",lu,{query:e,...n,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(X`/chatkit/threads/${e}`,{...n,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},o){return this._client.getAPIList(X`/chatkit/threads/${e}/items`,lu,{query:n,...o,headers:ie([{"OpenAI-Beta":"chatkit_beta=v1"},o?.headers])})}};class Mu extends re{constructor(){super(...arguments),this.sessions=new WS(this._client),this.threads=new ZS(this._client)}}Mu.Sessions=WS;Mu.Threads=ZS;let jS=class extends re{create(e,n,o){return this._client.post(X`/threads/${e}/messages`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{thread_id:l}=n;return this._client.get(X`/threads/${l}/messages/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:l,...u}=n;return this._client.post(X`/threads/${l}/messages/${e}`,{body:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(X`/threads/${e}/messages`,lt,{query:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{thread_id:l}=n;return this._client.delete(X`/threads/${l}/messages/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}};class eT extends re{retrieve(e,n,o){const{thread_id:l,run_id:u,...d}=n;return this._client.get(X`/threads/${l}/runs/${u}/steps/${e}`,{query:d,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n,o){const{thread_id:l,...u}=n;return this._client.getAPIList(X`/threads/${l}/runs/${e}/steps`,lt,{query:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}const RN=i=>{if(typeof Buffer<"u"){const e=Buffer.from(i,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(i),n=e.length,o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=e.charCodeAt(l);return Array.from(new Float32Array(o.buffer))}};var bN={};const Zs=i=>{if(typeof globalThis.process<"u")return bN?.[i]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(i)?.trim()};var At,us,zd,Un,Qr,An,cs,ro,rs,pu,nn,$r,Wr,Ya,Ga,Oa,B0,H0,G0,O0,V0,z0,F0;class Xa extends ph{constructor(){super(...arguments),At.add(this),zd.set(this,[]),Un.set(this,{}),Qr.set(this,{}),An.set(this,void 0),cs.set(this,void 0),ro.set(this,void 0),rs.set(this,void 0),pu.set(this,void 0),nn.set(this,void 0),$r.set(this,void 0),Wr.set(this,void 0),Ya.set(this,void 0)}[(zd=new WeakMap,Un=new WeakMap,Qr=new WeakMap,An=new WeakMap,cs=new WeakMap,ro=new WeakMap,rs=new WeakMap,pu=new WeakMap,nn=new WeakMap,$r=new WeakMap,Wr=new WeakMap,Ya=new WeakMap,At=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",l=>{const u=n.shift();u?u.resolve(l):e.push(l)}),this.on("end",()=>{o=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),this.on("error",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,d)=>n.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new us;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const l=Ka.fromReadableStream(e,this.controller);for await(const u of l)U(this,At,"m",Ga).call(this,u);if(l.controller.signal?.aborted)throw new gn;return this._addRun(U(this,At,"m",Oa).call(this))}toReadableStream(){return new Ka(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,o,l){const u=new us;return u._run(()=>u._runToolAssistantStream(e,n,o,{...l,headers:{...l?.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createToolAssistantStream(e,n,o,l){const u=l?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const d={...o,stream:!0},p=await e.submitToolOutputs(n,d,{...l,signal:this.controller.signal});this._connected();for await(const y of p)U(this,At,"m",Ga).call(this,y);if(p.controller.signal?.aborted)throw new gn;return this._addRun(U(this,At,"m",Oa).call(this))}static createThreadAssistantStream(e,n,o){const l=new us;return l._run(()=>l._threadAssistantStream(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),l}static createAssistantStream(e,n,o,l){const u=new us;return u._run(()=>u._runAssistantStream(e,n,o,{...l,headers:{...l?.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return U(this,$r,"f")}currentRun(){return U(this,Wr,"f")}currentMessageSnapshot(){return U(this,An,"f")}currentRunStepSnapshot(){return U(this,Ya,"f")}async finalRunSteps(){return await this.done(),Object.values(U(this,Un,"f"))}async finalMessages(){return await this.done(),Object.values(U(this,Qr,"f"))}async finalRun(){if(await this.done(),!U(this,cs,"f"))throw Error("Final run was not received.");return U(this,cs,"f")}async _createThreadAssistantStream(e,n,o){const l=o?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const u={...n,stream:!0},d=await e.createAndRun(u,{...o,signal:this.controller.signal});this._connected();for await(const p of d)U(this,At,"m",Ga).call(this,p);if(d.controller.signal?.aborted)throw new gn;return this._addRun(U(this,At,"m",Oa).call(this))}async _createAssistantStream(e,n,o,l){const u=l?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const d={...o,stream:!0},p=await e.create(n,d,{...l,signal:this.controller.signal});this._connected();for await(const y of p)U(this,At,"m",Ga).call(this,y);if(p.controller.signal?.aborted)throw new gn;return this._addRun(U(this,At,"m",Oa).call(this))}static accumulateDelta(e,n){for(const[o,l]of Object.entries(n)){if(!e.hasOwnProperty(o)){e[o]=l;continue}let u=e[o];if(u==null){e[o]=l;continue}if(o==="index"||o==="type"){e[o]=l;continue}if(typeof u=="string"&&typeof l=="string")u+=l;else if(typeof u=="number"&&typeof l=="number")u+=l;else if(od(u)&&od(l))u=this.accumulateDelta(u,l);else if(Array.isArray(u)&&Array.isArray(l)){if(u.every(d=>typeof d=="string"||typeof d=="number")){u.push(...l);continue}for(const d of l){if(!od(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const p=d.index;if(p==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof p!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${p}`);const y=u[p];y==null?u.push(d):u[p]=this.accumulateDelta(y,d)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${l}, accValue: ${u}`);e[o]=u}return e}_addRun(e){return e}async _threadAssistantStream(e,n,o){return await this._createThreadAssistantStream(n,e,o)}async _runAssistantStream(e,n,o,l){return await this._createAssistantStream(n,e,o,l)}async _runToolAssistantStream(e,n,o,l){return await this._createToolAssistantStream(n,e,o,l)}}us=Xa,Ga=function(e){if(!this.ended)switch(me(this,$r,e),U(this,At,"m",G0).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":U(this,At,"m",F0).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,At,"m",H0).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":U(this,At,"m",B0).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Oa=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");if(!U(this,cs,"f"))throw Error("Final run has not been received");return U(this,cs,"f")},B0=function(e){const[n,o]=U(this,At,"m",V0).call(this,e,U(this,An,"f"));me(this,An,n),U(this,Qr,"f")[n.id]=n;for(const l of o){const u=n.content[l.index];u?.type=="text"&&this._emit("textCreated",u.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const l of e.data.delta.content){if(l.type=="text"&&l.text){let u=l.text,d=n.content[l.index];if(d&&d.type=="text")this._emit("textDelta",u,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(l.index!=U(this,ro,"f")){if(U(this,rs,"f"))switch(U(this,rs,"f").type){case"text":this._emit("textDone",U(this,rs,"f").text,U(this,An,"f"));break;case"image_file":this._emit("imageFileDone",U(this,rs,"f").image_file,U(this,An,"f"));break}me(this,ro,l.index)}me(this,rs,n.content[l.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(U(this,ro,"f")!==void 0){const l=e.data.content[U(this,ro,"f")];if(l)switch(l.type){case"image_file":this._emit("imageFileDone",l.image_file,U(this,An,"f"));break;case"text":this._emit("textDone",l.text,U(this,An,"f"));break}}U(this,An,"f")&&this._emit("messageDone",e.data),me(this,An,void 0)}},H0=function(e){const n=U(this,At,"m",O0).call(this,e);switch(me(this,Ya,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const u of o.step_details.tool_calls)u.index==U(this,pu,"f")?this._emit("toolCallDelta",u,n.step_details.tool_calls[u.index]):(U(this,nn,"f")&&this._emit("toolCallDone",U(this,nn,"f")),me(this,pu,u.index),me(this,nn,n.step_details.tool_calls[u.index]),U(this,nn,"f")&&this._emit("toolCallCreated",U(this,nn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":me(this,Ya,void 0),e.data.step_details.type=="tool_calls"&&U(this,nn,"f")&&(this._emit("toolCallDone",U(this,nn,"f")),me(this,nn,void 0)),this._emit("runStepDone",e.data,n);break}},G0=function(e){U(this,zd,"f").push(e),this._emit("event",e)},O0=function(e){switch(e.event){case"thread.run.step.created":return U(this,Un,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=U(this,Un,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const l=us.accumulateDelta(n,o.delta);U(this,Un,"f")[e.data.id]=l}return U(this,Un,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":U(this,Un,"f")[e.data.id]=e.data;break}if(U(this,Un,"f")[e.data.id])return U(this,Un,"f")[e.data.id];throw new Error("No snapshot available")},V0=function(e,n){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let l=e.data;if(l.delta.content)for(const u of l.delta.content)if(u.index in n.content){let d=n.content[u.index];n.content[u.index]=U(this,At,"m",z0).call(this,u,d)}else n.content[u.index]=u,o.push(u);return[n,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},z0=function(e,n){return us.accumulateDelta(n,e)},F0=function(e){switch(me(this,Wr,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":me(this,cs,e.data),U(this,nn,"f")&&(this._emit("toolCallDone",U(this,nn,"f")),me(this,nn,void 0));break}};let _h=class extends re{constructor(){super(...arguments),this.steps=new eT(this._client)}create(e,n,o){const{include:l,...u}=n;return this._client.post(X`/threads/${e}/runs`,{query:{include:l},body:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}retrieve(e,n,o){const{thread_id:l}=n;return this._client.get(X`/threads/${l}/runs/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:l,...u}=n;return this._client.post(X`/threads/${l}/runs/${e}`,{body:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(X`/threads/${e}/runs`,lt,{query:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{thread_id:l}=n;return this._client.post(X`/threads/${l}/runs/${e}/cancel`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const l=await this.create(e,n,o);return await this.poll(l.id,{thread_id:e},o)}createAndStream(e,n,o){return Xa.createAssistantStream(e,this._client.beta.threads.runs,n,o)}async poll(e,n,o){const l=ie([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:d}=await this.retrieve(e,n,{...o,headers:{...o?.headers,...l}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let p=5e3;if(o?.pollIntervalMs)p=o.pollIntervalMs;else{const y=d.headers.get("openai-poll-after-ms");if(y){const g=parseInt(y);isNaN(g)||(p=g)}}await Wa(p);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(e,n,o){return Xa.createAssistantStream(e,this._client.beta.threads.runs,n,o)}submitToolOutputs(e,n,o){const{thread_id:l,...u}=n;return this._client.post(X`/threads/${l}/runs/${e}/submit_tool_outputs`,{body:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,o){const l=await this.submitToolOutputs(e,n,o);return await this.poll(l.id,n,o)}submitToolOutputsStream(e,n,o){return Xa.createToolAssistantStream(e,this._client.beta.threads.runs,n,o)}};_h.Steps=eT;class Ru extends re{constructor(){super(...arguments),this.runs=new _h(this._client),this.messages=new jS(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/threads/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(X`/threads/${e}`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n){return this._client.delete(X`/threads/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const o=await this.createAndRun(e,n);return await this.runs.poll(o.id,{thread_id:o.thread_id},n)}createAndRunStream(e,n){return Xa.createThreadAssistantStream(e,this._client.beta.threads,n)}}Ru.Runs=_h;Ru.Messages=jS;let yo=class extends re{constructor(){super(...arguments),this.realtime=new wu(this._client),this.chatkit=new Mu(this._client),this.assistants=new KS(this._client),this.threads=new Ru(this._client)}};yo.Realtime=wu;yo.ChatKit=Mu;yo.Assistants=KS;yo.Threads=Ru;let tT=class extends re{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}};class nT extends re{retrieve(e,n,o){const{container_id:l}=n;return this._client.get(X`/containers/${l}/files/${e}/content`,{...o,headers:ie([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}}let vh=class extends re{constructor(){super(...arguments),this.content=new nT(this._client)}create(e,n,o){return this._client.post(X`/containers/${e}/files`,fs({body:n,...o},this._client))}retrieve(e,n,o){const{container_id:l}=n;return this._client.get(X`/containers/${l}/files/${e}`,o)}list(e,n={},o){return this._client.getAPIList(X`/containers/${e}/files`,lt,{query:n,...o})}delete(e,n,o){const{container_id:l}=n;return this._client.delete(X`/containers/${l}/files/${e}`,{...o,headers:ie([{Accept:"*/*"},o?.headers])})}};vh.Content=nT;class Sh extends re{constructor(){super(...arguments),this.files=new vh(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(X`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",lt,{query:e,...n})}delete(e,n){return this._client.delete(X`/containers/${e}`,{...n,headers:ie([{Accept:"*/*"},n?.headers])})}}Sh.Files=vh;class iT extends re{create(e,n,o){const{include:l,...u}=n;return this._client.post(X`/conversations/${e}/items`,{query:{include:l},body:u,...o})}retrieve(e,n,o){const{conversation_id:l,...u}=n;return this._client.get(X`/conversations/${l}/items/${e}`,{query:u,...o})}list(e,n={},o){return this._client.getAPIList(X`/conversations/${e}/items`,lu,{query:n,...o})}delete(e,n,o){const{conversation_id:l}=n;return this._client.delete(X`/conversations/${l}/items/${e}`,o)}}class Th extends re{constructor(){super(...arguments),this.items=new iT(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(X`/conversations/${e}`,n)}update(e,n,o){return this._client.post(X`/conversations/${e}`,{body:n,...o})}delete(e,n){return this._client.delete(X`/conversations/${e}`,n)}}Th.Items=iT;class sT extends re{create(e,n){const o=!!e.encoding_format;let l=o?e.encoding_format:"base64";o&&Tt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const u=this._client.post("/embeddings",{body:{...e,encoding_format:l},...n});return o?u:(Tt(this._client).debug("embeddings/decoding base64 embeddings from base64"),u._thenUnwrap(d=>(d&&d.data&&d.data.forEach(p=>{const y=p.embedding;p.embedding=RN(y)}),d)))}}class oT extends re{retrieve(e,n,o){const{eval_id:l,run_id:u}=n;return this._client.get(X`/evals/${l}/runs/${u}/output_items/${e}`,o)}list(e,n,o){const{eval_id:l,...u}=n;return this._client.getAPIList(X`/evals/${l}/runs/${e}/output_items`,lt,{query:u,...o})}}class Ah extends re{constructor(){super(...arguments),this.outputItems=new oT(this._client)}create(e,n,o){return this._client.post(X`/evals/${e}/runs`,{body:n,...o})}retrieve(e,n,o){const{eval_id:l}=n;return this._client.get(X`/evals/${l}/runs/${e}`,o)}list(e,n={},o){return this._client.getAPIList(X`/evals/${e}/runs`,lt,{query:n,...o})}delete(e,n,o){const{eval_id:l}=n;return this._client.delete(X`/evals/${l}/runs/${e}`,o)}cancel(e,n,o){const{eval_id:l}=n;return this._client.post(X`/evals/${l}/runs/${e}`,o)}}Ah.OutputItems=oT;class Eh extends re{constructor(){super(...arguments),this.runs=new Ah(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(X`/evals/${e}`,n)}update(e,n,o){return this._client.post(X`/evals/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/evals",lt,{query:e,...n})}delete(e,n){return this._client.delete(X`/evals/${e}`,n)}}Eh.Runs=Ah;let aT=class extends re{create(e,n){return this._client.post("/files",fs({body:e,...n},this._client))}retrieve(e,n){return this._client.get(X`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",lt,{query:e,...n})}delete(e,n){return this._client.delete(X`/files/${e}`,n)}content(e,n){return this._client.get(X`/files/${e}/content`,{...n,headers:ie([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:o=1800*1e3}={}){const l=new Set(["processed","error","deleted"]),u=Date.now();let d=await this.retrieve(e);for(;!d.status||!l.has(d.status);)if(await Wa(n),d=await this.retrieve(e),Date.now()-u>o)throw new rh({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return d}};class lT extends re{}let rT=class extends re{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Ch extends re{constructor(){super(...arguments),this.graders=new rT(this._client)}}Ch.Graders=rT;class uT extends re{create(e,n,o){return this._client.getAPIList(X`/fine_tuning/checkpoints/${e}/permissions`,Cu,{body:n,method:"post",...o})}retrieve(e,n={},o){return this._client.get(X`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...o})}delete(e,n,o){const{fine_tuned_model_checkpoint:l}=n;return this._client.delete(X`/fine_tuning/checkpoints/${l}/permissions/${e}`,o)}}let wh=class extends re{constructor(){super(...arguments),this.permissions=new uT(this._client)}};wh.Permissions=uT;class cT extends re{list(e,n={},o){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/checkpoints`,lt,{query:n,...o})}}class Mh extends re{constructor(){super(...arguments),this.checkpoints=new cT(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(X`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",lt,{query:e,...n})}cancel(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},o){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/events`,lt,{query:n,...o})}pause(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/resume`,n)}}Mh.Checkpoints=cT;class _o extends re{constructor(){super(...arguments),this.methods=new lT(this._client),this.jobs=new Mh(this._client),this.checkpoints=new wh(this._client),this.alpha=new Ch(this._client)}}_o.Methods=lT;_o.Jobs=Mh;_o.Checkpoints=wh;_o.Alpha=Ch;class fT extends re{}class Rh extends re{constructor(){super(...arguments),this.graderModels=new fT(this._client)}}Rh.GraderModels=fT;class dT extends re{createVariation(e,n){return this._client.post("/images/variations",fs({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",fs({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}let hT=class extends re{retrieve(e,n){return this._client.get(X`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Cu,e)}delete(e,n){return this._client.delete(X`/models/${e}`,n)}};class pT extends re{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class mT extends re{accept(e,n,o){return this._client.post(X`/realtime/calls/${e}/accept`,{body:n,...o,headers:ie([{Accept:"*/*"},o?.headers])})}hangup(e,n){return this._client.post(X`/realtime/calls/${e}/hangup`,{...n,headers:ie([{Accept:"*/*"},n?.headers])})}refer(e,n,o){return this._client.post(X`/realtime/calls/${e}/refer`,{body:n,...o,headers:ie([{Accept:"*/*"},o?.headers])})}reject(e,n={},o){return this._client.post(X`/realtime/calls/${e}/reject`,{body:n,...o,headers:ie([{Accept:"*/*"},o?.headers])})}}class gT extends re{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class bu extends re{constructor(){super(...arguments),this.clientSecrets=new gT(this._client),this.calls=new mT(this._client)}}bu.ClientSecrets=gT;bu.Calls=mT;function xN(i,e){return!e||!IN(e)?{...i,output_parsed:null,output:i.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(o=>({...o,parsed:null}))}:n)}:yT(i,e)}function yT(i,e){const n=i.output.map(l=>{if(l.type==="function_call")return{...l,parsed_arguments:kN(e,l)};if(l.type==="message"){const u=l.content.map(d=>d.type==="output_text"?{...d,parsed:NN(e,d.text)}:d);return{...l,content:u}}return l}),o=Object.assign({},i,{output:n});return Object.getOwnPropertyDescriptor(i,"output_text")||Fd(o),Object.defineProperty(o,"output_parsed",{enumerable:!0,get(){for(const l of o.output)if(l.type==="message"){for(const u of l.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),o}function NN(i,e){return i.text?.format?.type!=="json_schema"?null:"$parseRaw"in i.text?.format?(i.text?.format).$parseRaw(e):JSON.parse(e)}function IN(i){return!!dh(i.text?.format)}function DN(i){return i?.$brand==="auto-parseable-tool"}function UN(i,e){return i.find(n=>n.type==="function"&&n.name===e)}function kN(i,e){const n=UN(i.tools??[],e.name);return{...e,...e,parsed_arguments:DN(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Fd(i){const e=[];for(const n of i.output)if(n.type==="message")for(const o of n.content)o.type==="output_text"&&e.push(o.text);i.output_text=e.join("")}var js,wr,Ui,Mr,J0,Y0,X0,K0;class bh extends ph{constructor(e){super(),js.add(this),wr.set(this,void 0),Ui.set(this,void 0),Mr.set(this,void 0),me(this,wr,e)}static createResponse(e,n,o){const l=new bh(n);return l._run(()=>l._createOrRetrieveResponse(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createOrRetrieveResponse(e,n,o){const l=o?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),U(this,js,"m",J0).call(this);let u,d=null;"response_id"in n?(u=await e.responses.retrieve(n.response_id,{stream:!0},{...o,signal:this.controller.signal,stream:!0}),d=n.starting_after??null):u=await e.responses.create({...n,stream:!0},{...o,signal:this.controller.signal}),this._connected();for await(const p of u)U(this,js,"m",Y0).call(this,p,d);if(u.controller.signal?.aborted)throw new gn;return U(this,js,"m",X0).call(this)}[(wr=new WeakMap,Ui=new WeakMap,Mr=new WeakMap,js=new WeakSet,J0=function(){this.ended||me(this,Ui,void 0)},Y0=function(n,o){if(this.ended)return;const l=(d,p)=>{(o==null||p.sequence_number>o)&&this._emit(d,p)},u=U(this,js,"m",K0).call(this,n);switch(l("event",n),n.type){case"response.output_text.delta":{const d=u.output[n.output_index];if(!d)throw new fe(`missing output at index ${n.output_index}`);if(d.type==="message"){const p=d.content[n.content_index];if(!p)throw new fe(`missing content at index ${n.content_index}`);if(p.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${p.type}`);l("response.output_text.delta",{...n,snapshot:p.text})}break}case"response.function_call_arguments.delta":{const d=u.output[n.output_index];if(!d)throw new fe(`missing output at index ${n.output_index}`);d.type==="function_call"&&l("response.function_call_arguments.delta",{...n,snapshot:d.arguments});break}default:l(n.type,n);break}},X0=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=U(this,Ui,"f");if(!n)throw new fe("request ended without sending any events");me(this,Ui,void 0);const o=PN(n,U(this,wr,"f"));return me(this,Mr,o),o},K0=function(n){let o=U(this,Ui,"f");if(!o){if(n.type!=="response.created")throw new fe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return o=me(this,Ui,n.response),o}switch(n.type){case"response.output_item.added":{o.output.push(n.item);break}case"response.content_part.added":{const l=o.output[n.output_index];if(!l)throw new fe(`missing output at index ${n.output_index}`);const u=l.type,d=n.part;u==="message"&&d.type!=="reasoning_text"?l.content.push(d):u==="reasoning"&&d.type==="reasoning_text"&&(l.content||(l.content=[]),l.content.push(d));break}case"response.output_text.delta":{const l=o.output[n.output_index];if(!l)throw new fe(`missing output at index ${n.output_index}`);if(l.type==="message"){const u=l.content[n.content_index];if(!u)throw new fe(`missing content at index ${n.content_index}`);if(u.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${u.type}`);u.text+=n.delta}break}case"response.function_call_arguments.delta":{const l=o.output[n.output_index];if(!l)throw new fe(`missing output at index ${n.output_index}`);l.type==="function_call"&&(l.arguments+=n.delta);break}case"response.reasoning_text.delta":{const l=o.output[n.output_index];if(!l)throw new fe(`missing output at index ${n.output_index}`);if(l.type==="reasoning"){const u=l.content?.[n.content_index];if(!u)throw new fe(`missing content at index ${n.content_index}`);if(u.type!=="reasoning_text")throw new fe(`expected content to be 'reasoning_text', got ${u.type}`);u.text+=n.delta}break}case"response.completed":{me(this,Ui,n.response);break}}return o},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",l=>{const u=n.shift();u?u.resolve(l):e.push(l)}),this.on("end",()=>{o=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),this.on("error",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,d)=>n.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=U(this,Mr,"f");if(!e)throw new fe("stream ended without producing a ChatCompletion");return e}}function PN(i,e){return xN(i,e)}class _T extends re{list(e,n={},o){return this._client.getAPIList(X`/responses/${e}/input_items`,lt,{query:n,...o})}}class vT extends re{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class xu extends re{constructor(){super(...arguments),this.inputItems=new _T(this._client),this.inputTokens=new vT(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Fd(o),o))}retrieve(e,n={},o){return this._client.get(X`/responses/${e}`,{query:n,...o,stream:n?.stream??!1})._thenUnwrap(l=>("object"in l&&l.object==="response"&&Fd(l),l))}delete(e,n){return this._client.delete(X`/responses/${e}`,{...n,headers:ie([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(o=>yT(o,e))}stream(e,n){return bh.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(X`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}xu.InputItems=_T;xu.InputTokens=vT;class ST extends re{create(e,n,o){return this._client.post(X`/uploads/${e}/parts`,fs({body:n,...o},this._client))}}class xh extends re{constructor(){super(...arguments),this.parts=new ST(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(X`/uploads/${e}/cancel`,n)}complete(e,n,o){return this._client.post(X`/uploads/${e}/complete`,{body:n,...o})}}xh.Parts=ST;const LN=async i=>{const e=await Promise.allSettled(i),n=e.filter(l=>l.status==="rejected");if(n.length){for(const l of n)console.error(l.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const l of e)l.status==="fulfilled"&&o.push(l.value);return o};class TT extends re{create(e,n,o){return this._client.post(X`/vector_stores/${e}/file_batches`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:l}=n;return this._client.get(X`/vector_stores/${l}/file_batches/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{vector_store_id:l}=n;return this._client.post(X`/vector_stores/${l}/file_batches/${e}/cancel`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const l=await this.create(e,n);return await this.poll(e,l.id,o)}listFiles(e,n,o){const{vector_store_id:l,...u}=n;return this._client.getAPIList(X`/vector_stores/${l}/file_batches/${e}/files`,lt,{query:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async poll(e,n,o){const l=ie([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:d}=await this.retrieve(n,{vector_store_id:e},{...o,headers:l}).withResponse();switch(u.status){case"in_progress":let p=5e3;if(o?.pollIntervalMs)p=o.pollIntervalMs;else{const y=d.headers.get("openai-poll-after-ms");if(y){const g=parseInt(y);isNaN(g)||(p=g)}}await Wa(p);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(e,{files:n,fileIds:o=[]},l){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=l?.maxConcurrency??5,d=Math.min(u,n.length),p=this._client,y=n.values(),g=[...o];async function _(T){for(let E of T){const N=await p.files.create({file:E,purpose:"assistants"},l);g.push(N.id)}}const v=Array(d).fill(y).map(_);return await LN(v),await this.createAndPoll(e,{file_ids:g})}}let AT=class extends re{create(e,n,o){return this._client.post(X`/vector_stores/${e}/files`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:l}=n;return this._client.get(X`/vector_stores/${l}/files/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{vector_store_id:l,...u}=n;return this._client.post(X`/vector_stores/${l}/files/${e}`,{body:u,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(X`/vector_stores/${e}/files`,lt,{query:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{vector_store_id:l}=n;return this._client.delete(X`/vector_stores/${l}/files/${e}`,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const l=await this.create(e,n,o);return await this.poll(e,l.id,o)}async poll(e,n,o){const l=ie([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const u=await this.retrieve(n,{vector_store_id:e},{...o,headers:l}).withResponse(),d=u.data;switch(d.status){case"in_progress":let p=5e3;if(o?.pollIntervalMs)p=o.pollIntervalMs;else{const y=u.response.headers.get("openai-poll-after-ms");if(y){const g=parseInt(y);isNaN(g)||(p=g)}}await Wa(p);break;case"failed":case"completed":return d}}}async upload(e,n,o){const l=await this._client.files.create({file:n,purpose:"assistants"},o);return this.create(e,{file_id:l.id},o)}async uploadAndPoll(e,n,o){const l=await this.upload(e,n,o);return await this.poll(e,l.id,o)}content(e,n,o){const{vector_store_id:l}=n;return this._client.getAPIList(X`/vector_stores/${l}/files/${e}/content`,Cu,{...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}};class Nu extends re{constructor(){super(...arguments),this.files=new AT(this._client),this.fileBatches=new TT(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/vector_stores/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(X`/vector_stores/${e}`,{body:n,...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",lt,{query:e,...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(X`/vector_stores/${e}`,{...n,headers:ie([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,o){return this._client.getAPIList(X`/vector_stores/${e}/search`,Cu,{body:n,method:"post",...o,headers:ie([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}Nu.Files=AT;Nu.FileBatches=TT;class ET extends re{create(e,n){return this._client.post("/videos",U0({body:e,...n},this._client))}retrieve(e,n){return this._client.get(X`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",lu,{query:e,...n})}delete(e,n){return this._client.delete(X`/videos/${e}`,n)}downloadContent(e,n={},o){return this._client.get(X`/videos/${e}/content`,{query:n,...o,headers:ie([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(e,n,o){return this._client.post(X`/videos/${e}/remix`,U0({body:n,...o},this._client))}}var so,CT,Zr;class wT extends re{constructor(){super(...arguments),so.add(this)}async unwrap(e,n,o=this._client.webhookSecret,l=300){return await this.verifySignature(e,n,o,l),JSON.parse(e)}async verifySignature(e,n,o=this._client.webhookSecret,l=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");U(this,so,"m",CT).call(this,o);const u=ie([n]).values,d=U(this,so,"m",Zr).call(this,u,"webhook-signature"),p=U(this,so,"m",Zr).call(this,u,"webhook-timestamp"),y=U(this,so,"m",Zr).call(this,u,"webhook-id"),g=parseInt(p,10);if(isNaN(g))throw new Da("Invalid webhook timestamp format");const _=Math.floor(Date.now()/1e3);if(_-g>l)throw new Da("Webhook timestamp is too old");if(g>_+l)throw new Da("Webhook timestamp is too new");const v=d.split(" ").map(b=>b.startsWith("v1,")?b.substring(3):b),T=o.startsWith("whsec_")?Buffer.from(o.replace("whsec_",""),"base64"):Buffer.from(o,"utf-8"),E=y?`${y}.${p}.${e}`:`${p}.${e}`,N=await crypto.subtle.importKey("raw",T,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const b of v)try{const J=Buffer.from(b,"base64");if(await crypto.subtle.verify("HMAC",N,J,new TextEncoder().encode(E)))return}catch{continue}throw new Da("The given webhook signature does not match the expected signature")}}so=new WeakSet,CT=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Zr=function(e,n){if(!e)throw new Error("Headers are required");const o=e.get(n);if(o==null)throw new Error(`Missing required header: ${n}`);return o};var Jd,Nh,jr,MT;class Ce{constructor({baseURL:e=Zs("OPENAI_BASE_URL"),apiKey:n=Zs("OPENAI_API_KEY"),organization:o=Zs("OPENAI_ORG_ID")??null,project:l=Zs("OPENAI_PROJECT_ID")??null,webhookSecret:u=Zs("OPENAI_WEBHOOK_SECRET")??null,...d}={}){if(Jd.add(this),jr.set(this,void 0),this.completions=new tT(this),this.chat=new yh(this),this.embeddings=new sT(this),this.files=new aT(this),this.images=new dT(this),this.audio=new ja(this),this.moderations=new pT(this),this.models=new hT(this),this.fineTuning=new _o(this),this.graders=new Rh(this),this.vectorStores=new Nu(this),this.webhooks=new wT(this),this.beta=new yo(this),this.batches=new XS(this),this.uploads=new xh(this),this.responses=new xu(this),this.realtime=new bu(this),this.conversations=new Th(this),this.evals=new Eh(this),this.containers=new Sh(this),this.videos=new ET(this),n===void 0)throw new fe("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const p={apiKey:n,organization:o,project:l,webhookSecret:u,...d,baseURL:e||"https://api.openai.com/v1"};if(!p.dangerouslyAllowBrowser&&qx())throw new fe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=p.baseURL,this.timeout=p.timeout??Nh.DEFAULT_TIMEOUT,this.logger=p.logger??console;const y="warn";this.logLevel=y,this.logLevel=I0(p.logLevel,"ClientOptions.logLevel",this)??I0(Zs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??y,this.fetchOptions=p.fetchOptions,this.maxRetries=p.maxRetries??2,this.fetch=p.fetch??Vx(),me(this,jr,Fx),this._options=p,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=o,this.project=l,this.webhookSecret=u}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return ie([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return $x(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${no}`}defaultIdempotencyKey(){return`stainless-node-retry-${Xv()}`}makeStatusError(e,n,o,l){return Ht.generate(e,n,o,l)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(o){throw o instanceof fe?o:new fe(`Failed to get token from 'apiKey' function: ${o.message}`,{cause:o})}if(typeof n!="string"||!n)throw new fe(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,o){const l=!U(this,Jd,"m",MT).call(this)&&o||this.baseURL,u=Dx(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return Ux(d)||(n={...d,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(l=>({method:e,path:n,...l})))}request(e,n=null){return new mS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){const l=await e,u=l.maxRetries??this.maxRetries;n==null&&(n=u),await this.prepareOptions(l);const{req:d,url:p,timeout:y}=await this.buildRequest(l,{retryCount:u-n});await this.prepareRequest(d,{url:p,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(Tt(this).debug(`[${g}] sending request`,as({retryOfRequestLogID:o,method:l.method,url:p,options:l,headers:d.headers})),l.signal?.aborted)throw new gn;const T=new AbortController,E=await this.fetchWithTimeout(p,d,y,T).catch(Dd),N=Date.now();if(E instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(l.signal?.aborted)throw new gn;const B=Id(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Tt(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${F}`),Tt(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${F})`,as({retryOfRequestLogID:o,url:p,durationMs:N-v,message:E.message})),this.retryRequest(l,n,o??g);throw Tt(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),Tt(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,as({retryOfRequestLogID:o,url:p,durationMs:N-v,message:E.message})),B?new rh:new Au({cause:E})}const b=[...E.headers.entries()].filter(([F])=>F==="x-request-id").map(([F,B])=>", "+F+": "+JSON.stringify(B)).join(""),J=`[${g}${_}${b}] ${d.method} ${p} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${N-v}ms`;if(!E.ok){const F=await this.shouldRetry(E);if(n&&F){const Y=`retrying, ${n} attempts remaining`;return await zx(E.body),Tt(this).info(`${J} - ${Y}`),Tt(this).debug(`[${g}] response error (${Y})`,as({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:N-v})),this.retryRequest(l,n,o??g,E.headers)}const B=F?"error; no more retries left":"error; not retryable";Tt(this).info(`${J} - ${B}`);const O=await E.text().catch(Y=>Dd(Y).message),K=Lx(O),W=K?void 0:O;throw Tt(this).debug(`[${g}] response error (${B})`,as({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:W,durationMs:Date.now()-v})),this.makeStatusError(E.status,K,W,E.headers)}return Tt(this).info(J),Tt(this).debug(`[${g}] response start`,as({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:N-v})),{response:E,options:l,controller:T,requestLogID:g,retryOfRequestLogID:o,startTime:v}}getAPIList(e,n,o){return this.requestAPIList(n,{method:"get",path:e,...o})}requestAPIList(e,n){const o=this.makeRequest(n,null,void 0);return new oN(this,o,e)}async fetchWithTimeout(e,n,o,l){const{signal:u,method:d,...p}=n||{};u&&u.addEventListener("abort",()=>l.abort());const y=setTimeout(()=>l.abort(),o),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_={signal:l.signal,...g?{duplex:"half"}:{},method:"GET",...p};d&&(_.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(y)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,l){let u;const d=l?.get("retry-after-ms");if(d){const y=parseFloat(d);Number.isNaN(y)||(u=y)}const p=l?.get("retry-after");if(p&&!u){const y=parseFloat(p);Number.isNaN(y)?u=Date.parse(p)-Date.now():u=y*1e3}if(!(u&&0<=u&&u<60*1e3)){const y=e.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,y)}return await Wa(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const u=n-e,d=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return d*p*1e3}async buildRequest(e,{retryCount:n=0}={}){const o={...e},{method:l,path:u,query:d,defaultBaseURL:p}=o,y=this.buildURL(u,d,p);"timeout"in o&&Px("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:o}),v=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:{method:l,headers:v,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"},..._&&{body:_},...this.fetchOptions??{},...o.fetchOptions??{}},url:y,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:l}){let u={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=ie([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Ox(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=ie([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:aS(e)}:U(this,jr,"f").call(this,{body:e,headers:o})}}Nh=Ce,jr=new WeakMap,Jd=new WeakSet,MT=function(){return this.baseURL!=="https://api.openai.com/v1"};Ce.OpenAI=Nh;Ce.DEFAULT_TIMEOUT=6e5;Ce.OpenAIError=fe;Ce.APIError=Ht;Ce.APIConnectionError=Au;Ce.APIConnectionTimeoutError=rh;Ce.APIUserAbortError=gn;Ce.NotFoundError=Wv;Ce.ConflictError=Zv;Ce.RateLimitError=eS;Ce.BadRequestError=Kv;Ce.AuthenticationError=Qv;Ce.InternalServerError=tS;Ce.PermissionDeniedError=$v;Ce.UnprocessableEntityError=jv;Ce.InvalidWebhookSignatureError=Da;Ce.toFile=cN;Ce.Completions=tT;Ce.Chat=yh;Ce.Embeddings=sT;Ce.Files=aT;Ce.Images=dT;Ce.Audio=ja;Ce.Moderations=pT;Ce.Models=hT;Ce.FineTuning=_o;Ce.Graders=Rh;Ce.VectorStores=Nu;Ce.Webhooks=wT;Ce.Beta=yo;Ce.Batches=XS;Ce.Uploads=xh;Ce.Responses=xu;Ce.Realtime=bu;Ce.Conversations=Th;Ce.Evals=Eh;Ce.Containers=Sh;Ce.Videos=ET;const qN=localStorage.getItem("GPT Key"),BN=qN?.replace(/["\\]/g,""),HN=localStorage.getItem("ModelGPT"),GN=HN?.replace(/["\\]/g,""),ON=async i=>{const e=new Ce({apiKey:BN,dangerouslyAllowBrowser:!0});try{return(await e.responses.create({model:GN,input:i})).output_text}catch(n){return console.error("Error en MainGPT:",n),"Error al generar la respuesta"}},VN=async i=>await ON(i);function te(i,e,n,o,l){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,n),n}function P(i,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:e.get(i)}let RT=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return RT=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),n=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};function $a(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Yd=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class Te extends Error{}class Rt extends Te{constructor(e,n,o,l){super(`${Rt.makeMessage(e,n,o)}`),this.status=e,this.headers=l,this.requestID=l?.get("request-id"),this.error=n}static makeMessage(e,n,o){const l=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,n,o,l){if(!e||!l)return new Iu({message:o,cause:Yd(n)});const u=n;return e===400?new xT(e,u,o,l):e===401?new NT(e,u,o,l):e===403?new IT(e,u,o,l):e===404?new DT(e,u,o,l):e===409?new UT(e,u,o,l):e===422?new kT(e,u,o,l):e===429?new PT(e,u,o,l):e>=500?new LT(e,u,o,l):new Rt(e,u,o,l)}}class En extends Rt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Iu extends Rt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class bT extends Iu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xT extends Rt{}class NT extends Rt{}class IT extends Rt{}class DT extends Rt{}class UT extends Rt{}class kT extends Rt{}class PT extends Rt{}class LT extends Rt{}const zN=/^[a-z][a-z0-9+.-]*:/i,FN=i=>zN.test(i);let Xd=i=>(Xd=Array.isArray,Xd(i)),Q0=Xd;function Kd(i){return typeof i!="object"?{}:i??{}}function JN(i){if(!i)return!0;for(const e in i)return!1;return!0}function YN(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const XN=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Te(`${i} must be an integer`);if(e<0)throw new Te(`${i} must be a positive integer`);return e},qT=i=>{try{return JSON.parse(i)}catch{return}},KN=i=>new Promise(e=>setTimeout(e,i)),oo="0.71.2",QN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function $N(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const WN=()=>{const i=$N();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":W0(Deno.build.os),"X-Stainless-Arch":$0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":W0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":$0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=ZN();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZN(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const o=n.exec(navigator.userAgent);if(o){const l=o[1]||0,u=o[2]||0,d=o[3]||0;return{browser:e,version:`${l}.${u}.${d}`}}}return null}const $0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",W0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Z0;const jN=()=>Z0??(Z0=WN());function eI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BT(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function HT(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return BT({start(){},async pull(n){const{done:o,value:l}=await e.next();o?n.close():n.enqueue(l)},async cancel(){await e.return?.()}})}function Ih(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tI(i){if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await i[Symbol.asyncIterator]().return?.();return}const e=i.getReader(),n=e.cancel();e.releaseLock(),await n}const nI=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function iI(i){let e=0;for(const l of i)e+=l.length;const n=new Uint8Array(e);let o=0;for(const l of i)n.set(l,o),o+=l.length;return n}let j0;function Dh(i){let e;return(j0??(e=new globalThis.TextEncoder,j0=e.encode.bind(e)))(i)}let ev;function tv(i){let e;return(ev??(e=new globalThis.TextDecoder,ev=e.decode.bind(e)))(i)}var en,tn;class el{constructor(){en.set(this,void 0),tn.set(this,void 0),te(this,en,new Uint8Array),te(this,tn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Dh(e):e;te(this,en,iI([P(this,en,"f"),n]));const o=[];let l;for(;(l=sI(P(this,en,"f"),P(this,tn,"f")))!=null;){if(l.carriage&&P(this,tn,"f")==null){te(this,tn,l.index);continue}if(P(this,tn,"f")!=null&&(l.index!==P(this,tn,"f")+1||l.carriage)){o.push(tv(P(this,en,"f").subarray(0,P(this,tn,"f")-1))),te(this,en,P(this,en,"f").subarray(P(this,tn,"f"))),te(this,tn,null);continue}const u=P(this,tn,"f")!==null?l.preceding-1:l.preceding,d=tv(P(this,en,"f").subarray(0,u));o.push(d),te(this,en,P(this,en,"f").subarray(l.index)),te(this,tn,null)}return o}flush(){return P(this,en,"f").length?this.decode(`
`):[]}}en=new WeakMap,tn=new WeakMap;el.NEWLINE_CHARS=new Set([`
`,"\r"]);el.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function sI(i,e){for(let l=e??0;l<i.length;l++){if(i[l]===10)return{preceding:l,index:l+1,carriage:!1};if(i[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function oI(i){for(let o=0;o<i.length-1;o++){if(i[o]===10&&i[o+1]===10||i[o]===13&&i[o+1]===13)return o+2;if(i[o]===13&&i[o+1]===10&&o+3<i.length&&i[o+2]===13&&i[o+3]===10)return o+4}return-1}const mu={off:0,error:200,warn:300,info:400,debug:500},nv=(i,e,n)=>{if(i){if(YN(mu,i))return i;Nt(n).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(mu))}`)}};function Va(){}function Rr(i,e,n){return!e||mu[i]>mu[n]?Va:e[i].bind(e)}const aI={error:Va,warn:Va,info:Va,debug:Va};let iv=new WeakMap;function Nt(i){const e=i.logger,n=i.logLevel??"off";if(!e)return aI;const o=iv.get(e);if(o&&o[0]===n)return o[1];const l={error:Rr("error",e,n),warn:Rr("warn",e,n),info:Rr("info",e,n),debug:Rr("debug",e,n)};return iv.set(e,[n,l]),l}const ls=i=>(i.options&&(i.options={...i.options},delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);var ya;class kn{constructor(e,n,o){this.iterator=e,ya.set(this,void 0),this.controller=n,te(this,ya,o)}static fromSSEResponse(e,n,o){let l=!1;const u=o?Nt(o):console;async function*d(){if(l)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let p=!1;try{for await(const y of lI(e,n)){if(y.event==="completion")try{yield JSON.parse(y.data)}catch(g){throw u.error("Could not parse message into JSON:",y.data),u.error("From chunk:",y.raw),g}if(y.event==="message_start"||y.event==="message_delta"||y.event==="message_stop"||y.event==="content_block_start"||y.event==="content_block_delta"||y.event==="content_block_stop")try{yield JSON.parse(y.data)}catch(g){throw u.error("Could not parse message into JSON:",y.data),u.error("From chunk:",y.raw),g}if(y.event!=="ping"&&y.event==="error")throw new Rt(void 0,qT(y.data)??y.data,void 0,e.headers)}p=!0}catch(y){if($a(y))return;throw y}finally{p||n.abort()}}return new kn(d,n,o)}static fromReadableStream(e,n,o){let l=!1;async function*u(){const p=new el,y=Ih(e);for await(const g of y)for(const _ of p.decode(g))yield _;for(const g of p.flush())yield g}async function*d(){if(l)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let p=!1;try{for await(const y of u())p||y&&(yield JSON.parse(y));p=!0}catch(y){if($a(y))return;throw y}finally{p||n.abort()}}return new kn(d,n,o)}[(ya=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=o.next();e.push(d),n.push(d)}return u.shift()}});return[new kn(()=>l(e),this.controller,P(this,ya,"f")),new kn(()=>l(n),this.controller,P(this,ya,"f"))]}toReadableStream(){const e=this;let n;return BT({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:l,done:u}=await n.next();if(u)return o.close();const d=Dh(JSON.stringify(l)+`
`);o.enqueue(d)}catch(l){o.error(l)}},async cancel(){await n.return?.()}})}}async function*lI(i,e){if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Te("Attempted to iterate over a response with no body");const n=new uI,o=new el,l=Ih(i.body);for await(const u of rI(l))for(const d of o.decode(u)){const p=n.decode(d);p&&(yield p)}for(const u of o.flush()){const d=n.decode(u);d&&(yield d)}}async function*rI(i){let e=new Uint8Array;for await(const n of i){if(n==null)continue;const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Dh(n):n;let l=new Uint8Array(e.length+o.length);l.set(e),l.set(o,e.length),e=l;let u;for(;(u=oI(e))!==-1;)yield e.slice(0,u),e=e.slice(u)}e.length>0&&(yield e)}class uI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,l]=cI(e,":");return l.startsWith(" ")&&(l=l.substring(1)),n==="event"?this.event=l:n==="data"&&this.data.push(l),null}}function cI(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}async function GT(i,e){const{response:n,requestLogID:o,retryOfRequestLogID:l,startTime:u}=e,d=await(async()=>{if(e.options.stream)return Nt(i).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):kn.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const y=n.headers.get("content-type")?.split(";")[0]?.trim();if(y?.includes("application/json")||y?.endsWith("+json")){const v=await n.json();return OT(v,n)}return await n.text()})();return Nt(i).debug(`[${o}] response parsed`,ls({retryOfRequestLogID:l,url:n.url,status:n.status,body:d,durationMs:Date.now()-u})),d}function OT(i,e){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var za;class Du extends Promise{constructor(e,n,o=GT){super(l=>{l(null)}),this.responsePromise=n,this.parseResponse=o,za.set(this,void 0),te(this,za,e)}_thenUnwrap(e){return new Du(P(this,za,"f"),this.responsePromise,async(n,o)=>OT(e(await this.parseResponse(n,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(P(this,za,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}za=new WeakMap;var br;class VT{constructor(e,n,o,l){br.set(this,void 0),te(this,br,e),this.options=l,this.response=n,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Te("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await P(this,br,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(br=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class fI extends Du{constructor(e,n,o){super(e,n,async(l,u)=>new o(l,u.response,await GT(l,u),u.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class tl extends VT{constructor(e,n,o,l){super(e,n,o,l),this.data=o.data||[],this.has_more=o.has_more||!1,this.first_id=o.first_id||null,this.last_id=o.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const n=this.first_id;return n?{...this.options,query:{...Kd(this.options.query),before_id:n}}:null}const e=this.last_id;return e?{...this.options,query:{...Kd(this.options.query),after_id:e}}:null}}class zT extends VT{constructor(e,n,o,l){super(e,n,o,l),this.data=o.data||[],this.has_more=o.has_more||!1,this.next_page=o.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.next_page;return e?{...this.options,query:{...Kd(this.options.query),page:e}}:null}}const FT=()=>{if(typeof File>"u"){const{process:i}=globalThis,e=typeof i?.versions?.node=="string"&&parseInt(i.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ho(i,e,n){return FT(),new File(i,e??"unknown_file",n)}function eu(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const JT=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",Uh=async(i,e)=>({...i,body:await hI(i.body,e)}),sv=new WeakMap;function dI(i){const e=typeof i=="function"?i:i.fetch,n=sv.get(e);if(n)return n;const o=(async()=>{try{const l="Response"in e?e.Response:(await e("data:,")).constructor,u=new FormData;return u.toString()!==await new l(u).text()}catch{return!0}})();return sv.set(e,o),o}const hI=async(i,e)=>{if(!await dI(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(i||{}).map(([o,l])=>Qd(n,o,l))),n},pI=i=>i instanceof Blob&&"name"in i,Qd=async(i,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")i.append(e,String(n));else if(n instanceof Response){let o={};const l=n.headers.get("Content-Type");l&&(o={type:l}),i.append(e,ho([await n.blob()],eu(n),o))}else if(JT(n))i.append(e,ho([await new Response(HT(n)).blob()],eu(n)));else if(pI(n))i.append(e,ho([n],eu(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(o=>Qd(i,e+"[]",o)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,l])=>Qd(i,`${e}[${o}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},YT=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",mI=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&YT(i),gI=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function yI(i,e,n){if(FT(),i=await i,e||(e=eu(i)),mI(i))return i instanceof File&&e==null&&n==null?i:ho([await i.arrayBuffer()],e??i.name,{type:i.type,lastModified:i.lastModified,...n});if(gI(i)){const l=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),ho(await $d(l),e,n)}const o=await $d(i);if(!n?.type){const l=o.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(n={...n,type:l})}return ho(o,e,n)}async function $d(i){let e=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)e.push(i);else if(YT(i))e.push(i instanceof Blob?i:await i.arrayBuffer());else if(JT(i))for await(const n of i)e.push(...await $d(n));else{const n=i?.constructor?.name;throw new Error(`Unexpected data type: ${typeof i}${n?`; constructor: ${n}`:""}${_I(i)}`)}return e}function _I(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}class wn{constructor(e){this._client=e}}const XT=Symbol.for("brand.privateNullableHeaders");function*vI(i){if(!i)return;if(XT in i){const{values:o,nulls:l}=i;yield*o.entries();for(const u of l)yield[u,null];return}let e=!1,n;i instanceof Headers?n=i.entries():Q0(i)?n=i:(e=!0,n=Object.entries(i??{}));for(let o of n){const l=o[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Q0(o[1])?o[1]:[o[1]];let d=!1;for(const p of u)p!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,p])}}const Ne=i=>{const e=new Headers,n=new Set;for(const o of i){const l=new Set;for(const[u,d]of vI(o)){const p=u.toLowerCase();l.has(p)||(e.delete(u),l.add(p)),d===null?(e.delete(u),n.add(p)):(e.append(u,d),n.delete(p))}}return{[XT]:!0,values:e,nulls:n}};function KT(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ov=Object.freeze(Object.create(null)),SI=(i=KT)=>function(n,...o){if(n.length===1)return n[0];let l=!1;const u=[],d=n.reduce((_,v,T)=>{/[?#]/.test(v)&&(l=!0);const E=o[T];let N=(l?encodeURIComponent:i)(""+E);return T!==o.length&&(E==null||typeof E=="object"&&E.toString===Object.getPrototypeOf(Object.getPrototypeOf(E.hasOwnProperty??ov)??ov)?.toString)&&(N=E+"",u.push({start:_.length+v.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),_+v+(T===o.length?"":N)},""),p=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((_,v)=>_.start-v.start),u.length>0){let _=0;const v=u.reduce((T,E)=>{const N=" ".repeat(E.start-_),b="^".repeat(E.length);return _=E.start+E.length,T+N+b},"");throw new Te(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${d}
${v}`)}return d},Et=SI(KT);class QT extends wn{list(e={},n){const{betas:o,...l}=e??{};return this._client.getAPIList("/v1/files",tl,{query:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"files-api-2025-04-14"].toString()},n?.headers])})}delete(e,n={},o){const{betas:l}=n??{};return this._client.delete(Et`/v1/files/${e}`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString()},o?.headers])})}download(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/files/${e}/content`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}retrieveMetadata(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/files/${e}`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString()},o?.headers])})}upload(e,n){const{betas:o,...l}=e;return this._client.post("/v1/files",Uh({body:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"files-api-2025-04-14"].toString()},n?.headers])},this._client))}}let $T=class extends wn{retrieve(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/models/${e}?beta=true`,{...o,headers:Ne([{...l?.toString()!=null?{"anthropic-beta":l?.toString()}:void 0},o?.headers])})}list(e={},n){const{betas:o,...l}=e??{};return this._client.getAPIList("/v1/models?beta=true",tl,{query:l,...n,headers:Ne([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},n?.headers])})}};const WT={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function av(i,e,n){return!e||!("parse"in(e.output_format??{}))?{...i,content:i.content.map(o=>{if(o.type==="text"){const l=Object.defineProperty({...o},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(l,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return o}),parsed_output:null}:ZT(i,e,n)}function ZT(i,e,n){let o=null;const l=i.content.map(u=>{if(u.type==="text"){const d=TI(e,u.text);o===null&&(o=d);const p=Object.defineProperty({...u},"parsed_output",{value:d,enumerable:!1});return Object.defineProperty(p,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),d},enumerable:!1})}return u});return{...i,content:l,parsed_output:o}}function TI(i,e){if(i.output_format?.type!=="json_schema")return null;try{return"parse"in i.output_format?i.output_format.parse(e):JSON.parse(e)}catch(n){throw new Te(`Failed to parse structured output: ${n}`)}}const AI=i=>{let e=0,n=[];for(;e<i.length;){let o=i[e];if(o==="\\"){e++;continue}if(o==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(o==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(o==="["){n.push({type:"paren",value:"["}),e++;continue}if(o==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(o===":"){n.push({type:"separator",value:":"}),e++;continue}if(o===","){n.push({type:"delimiter",value:","}),e++;continue}if(o==='"'){let p="",y=!1;for(o=i[++e];o!=='"';){if(e===i.length){y=!0;break}if(o==="\\"){if(e++,e===i.length){y=!0;break}p+=o+i[e],o=i[++e]}else p+=o,o=i[++e]}o=i[++e],y||n.push({type:"string",value:p});continue}if(o&&/\s/.test(o)){e++;continue}let u=/[0-9]/;if(o&&u.test(o)||o==="-"||o==="."){let p="";for(o==="-"&&(p+=o,o=i[++e]);o&&u.test(o)||o===".";)p+=o,o=i[++e];n.push({type:"number",value:p});continue}let d=/[a-z]/i;if(o&&d.test(o)){let p="";for(;o&&d.test(o)&&e!==i.length;)p+=o,o=i[++e];if(p=="true"||p=="false"||p==="null")n.push({type:"name",value:p});else{e++;continue}continue}e++}return n},ao=i=>{if(i.length===0)return i;let e=i[i.length-1];switch(e.type){case"separator":return i=i.slice(0,i.length-1),ao(i);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return i=i.slice(0,i.length-1),ao(i);case"string":let o=i[i.length-2];if(o?.type==="delimiter")return i=i.slice(0,i.length-1),ao(i);if(o?.type==="brace"&&o.value==="{")return i=i.slice(0,i.length-1),ao(i);break;case"delimiter":return i=i.slice(0,i.length-1),ao(i)}return i},EI=i=>{let e=[];return i.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?i.push({type:"brace",value:"}"}):n==="]"&&i.push({type:"paren",value:"]"})}),i},CI=i=>{let e="";return i.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},jT=i=>JSON.parse(CI(EI(ao(AI(i)))));var pn,ki,eo,_a,xr,va,Sa,Nr,Ta,ei,Aa,Ir,Dr,is,Ur,kr,Ea,hd,lv,Pr,pd,md,gd,rv;const uv="__json_buf";function cv(i){return i.type==="tool_use"||i.type==="server_tool_use"||i.type==="mcp_tool_use"}class gu{constructor(e,n){pn.add(this),this.messages=[],this.receivedMessages=[],ki.set(this,void 0),eo.set(this,null),this.controller=new AbortController,_a.set(this,void 0),xr.set(this,()=>{}),va.set(this,()=>{}),Sa.set(this,void 0),Nr.set(this,()=>{}),Ta.set(this,()=>{}),ei.set(this,{}),Aa.set(this,!1),Ir.set(this,!1),Dr.set(this,!1),is.set(this,!1),Ur.set(this,void 0),kr.set(this,void 0),Ea.set(this,void 0),Pr.set(this,o=>{if(te(this,Ir,!0),$a(o)&&(o=new En),o instanceof En)return te(this,Dr,!0),this._emit("abort",o);if(o instanceof Te)return this._emit("error",o);if(o instanceof Error){const l=new Te(o.message);return l.cause=o,this._emit("error",l)}return this._emit("error",new Te(String(o)))}),te(this,_a,new Promise((o,l)=>{te(this,xr,o,"f"),te(this,va,l,"f")})),te(this,Sa,new Promise((o,l)=>{te(this,Nr,o,"f"),te(this,Ta,l,"f")})),P(this,_a,"f").catch(()=>{}),P(this,Sa,"f").catch(()=>{}),te(this,eo,e),te(this,Ea,n?.logger??console)}get response(){return P(this,Ur,"f")}get request_id(){return P(this,kr,"f")}async withResponse(){te(this,is,!0);const e=await P(this,_a,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new gu(null);return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,o,{logger:l}={}){const u=new gu(n,{logger:l});for(const d of n.messages)u._addMessageParam(d);return te(u,eo,{...n,stream:!0}),u._run(()=>u._createMessage(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),u}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},P(this,Pr,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,o){const l=o?.signal;let u;l&&(l.aborted&&this.controller.abort(),u=this.controller.abort.bind(this.controller),l.addEventListener("abort",u));try{P(this,pn,"m",pd).call(this);const{response:d,data:p}=await e.create({...n,stream:!0},{...o,signal:this.controller.signal}).withResponse();this._connected(d);for await(const y of p)P(this,pn,"m",md).call(this,y);if(p.controller.signal?.aborted)throw new En;P(this,pn,"m",gd).call(this)}finally{l&&u&&l.removeEventListener("abort",u)}}_connected(e){this.ended||(te(this,Ur,e),te(this,kr,e?.headers.get("request-id")),P(this,xr,"f").call(this,e),this._emit("connect"))}get ended(){return P(this,Aa,"f")}get errored(){return P(this,Ir,"f")}get aborted(){return P(this,Dr,"f")}abort(){this.controller.abort()}on(e,n){return(P(this,ei,"f")[e]||(P(this,ei,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=P(this,ei,"f")[e];if(!o)return this;const l=o.findIndex(u=>u.listener===n);return l>=0&&o.splice(l,1),this}once(e,n){return(P(this,ei,"f")[e]||(P(this,ei,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{te(this,is,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){te(this,is,!0),await P(this,Sa,"f")}get currentMessage(){return P(this,ki,"f")}async finalMessage(){return await this.done(),P(this,pn,"m",hd).call(this)}async finalText(){return await this.done(),P(this,pn,"m",lv).call(this)}_emit(e,...n){if(P(this,Aa,"f"))return;e==="end"&&(te(this,Aa,!0),P(this,Nr,"f").call(this));const o=P(this,ei,"f")[e];if(o&&(P(this,ei,"f")[e]=o.filter(l=>!l.once),o.forEach(({listener:l})=>l(...n))),e==="abort"){const l=n[0];!P(this,is,"f")&&!o?.length&&Promise.reject(l),P(this,va,"f").call(this,l),P(this,Ta,"f").call(this,l),this._emit("end");return}if(e==="error"){const l=n[0];!P(this,is,"f")&&!o?.length&&Promise.reject(l),P(this,va,"f").call(this,l),P(this,Ta,"f").call(this,l),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",P(this,pn,"m",hd).call(this))}async _fromReadableStream(e,n){const o=n?.signal;let l;o&&(o.aborted&&this.controller.abort(),l=this.controller.abort.bind(this.controller),o.addEventListener("abort",l));try{P(this,pn,"m",pd).call(this),this._connected(null);const u=kn.fromReadableStream(e,this.controller);for await(const d of u)P(this,pn,"m",md).call(this,d);if(u.controller.signal?.aborted)throw new En;P(this,pn,"m",gd).call(this)}finally{o&&l&&o.removeEventListener("abort",l)}}[(ki=new WeakMap,eo=new WeakMap,_a=new WeakMap,xr=new WeakMap,va=new WeakMap,Sa=new WeakMap,Nr=new WeakMap,Ta=new WeakMap,ei=new WeakMap,Aa=new WeakMap,Ir=new WeakMap,Dr=new WeakMap,is=new WeakMap,Ur=new WeakMap,kr=new WeakMap,Ea=new WeakMap,Pr=new WeakMap,pn=new WeakSet,hd=function(){if(this.receivedMessages.length===0)throw new Te("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},lv=function(){if(this.receivedMessages.length===0)throw new Te("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(o=>o.type==="text").map(o=>o.text);if(n.length===0)throw new Te("stream ended without producing a content block with type=text");return n.join(" ")},pd=function(){this.ended||te(this,ki,void 0)},md=function(n){if(this.ended)return;const o=P(this,pn,"m",rv).call(this,n);switch(this._emit("streamEvent",n,o),n.type){case"content_block_delta":{const l=o.content.at(-1);switch(n.delta.type){case"text_delta":{l.type==="text"&&this._emit("text",n.delta.text,l.text||"");break}case"citations_delta":{l.type==="text"&&this._emit("citation",n.delta.citation,l.citations??[]);break}case"input_json_delta":{cv(l)&&l.input&&this._emit("inputJson",n.delta.partial_json,l.input);break}case"thinking_delta":{l.type==="thinking"&&this._emit("thinking",n.delta.thinking,l.thinking);break}case"signature_delta":{l.type==="thinking"&&this._emit("signature",l.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(o),this._addMessage(av(o,P(this,eo,"f"),{logger:P(this,Ea,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",o.content.at(-1));break}case"message_start":{te(this,ki,o);break}}},gd=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=P(this,ki,"f");if(!n)throw new Te("request ended without sending any chunks");return te(this,ki,void 0),av(n,P(this,eo,"f"),{logger:P(this,Ea,"f")})},rv=function(n){let o=P(this,ki,"f");if(n.type==="message_start"){if(o)throw new Te(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!o)throw new Te(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return o;case"message_delta":return o.container=n.delta.container,o.stop_reason=n.delta.stop_reason,o.stop_sequence=n.delta.stop_sequence,o.usage.output_tokens=n.usage.output_tokens,o.context_management=n.context_management,n.usage.input_tokens!=null&&(o.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(o.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(o.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(o.usage.server_tool_use=n.usage.server_tool_use),o;case"content_block_start":return o.content.push(n.content_block),o;case"content_block_delta":{const l=o.content.at(n.index);switch(n.delta.type){case"text_delta":{l?.type==="text"&&(o.content[n.index]={...l,text:(l.text||"")+n.delta.text});break}case"citations_delta":{l?.type==="text"&&(o.content[n.index]={...l,citations:[...l.citations??[],n.delta.citation]});break}case"input_json_delta":{if(l&&cv(l)){let u=l[uv]||"";u+=n.delta.partial_json;const d={...l};if(Object.defineProperty(d,uv,{value:u,enumerable:!1,writable:!0}),u)try{d.input=jT(u)}catch(p){const y=new Te(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${p}. JSON: ${u}`);P(this,Pr,"f").call(this,y)}o.content[n.index]=d}break}case"thinking_delta":{l?.type==="thinking"&&(o.content[n.index]={...l,thinking:l.thinking+n.delta.thinking});break}case"signature_delta":{l?.type==="thinking"&&(o.content[n.index]={...l,signature:n.delta.signature});break}default:n.delta}return o}case"content_block_stop":return o}},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("streamEvent",l=>{const u=n.shift();u?u.resolve(l):e.push(l)}),this.on("end",()=>{o=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),this.on("error",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,d)=>n.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new kn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const wI=1e5,MI=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but completeerr on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var Ca,to,ss,ft,wa,Wt,ii,Pi,Ma,fv,Wd;function dv(){let i,e;return{promise:new Promise((o,l)=>{i=o,e=l}),resolve:i,reject:e}}class eA{constructor(e,n,o){Ca.add(this),this.client=e,to.set(this,!1),ss.set(this,!1),ft.set(this,void 0),wa.set(this,void 0),Wt.set(this,void 0),ii.set(this,void 0),Pi.set(this,void 0),Ma.set(this,0),te(this,ft,{params:{...n,messages:structuredClone(n.messages)}}),te(this,wa,{...o,headers:Ne([{"x-stainless-helper":"BetaToolRunner"},o?.headers])}),te(this,Pi,dv())}async*[(to=new WeakMap,ss=new WeakMap,ft=new WeakMap,wa=new WeakMap,Wt=new WeakMap,ii=new WeakMap,Pi=new WeakMap,Ma=new WeakMap,Ca=new WeakSet,fv=async function(){const n=P(this,ft,"f").params.compactionControl;if(!n||!n.enabled)return!1;let o=0;if(P(this,Wt,"f")!==void 0)try{const g=await P(this,Wt,"f");o=g.usage.input_tokens+(g.usage.cache_creation_input_tokens??0)+(g.usage.cache_read_input_tokens??0)+g.usage.output_tokens}catch{return!1}const l=n.contextTokenThreshold??wI;if(o<l)return!1;const u=n.model??P(this,ft,"f").params.model,d=n.summaryPrompt??MI,p=P(this,ft,"f").params.messages;if(p[p.length-1].role==="assistant"){const g=p[p.length-1];if(Array.isArray(g.content)){const _=g.content.filter(v=>v.type!=="tool_use");_.length===0?p.pop():g.content=_}}const y=await this.client.beta.messages.create({model:u,messages:[...p,{role:"user",content:[{type:"text",text:d}]}],max_tokens:P(this,ft,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(y.content[0]?.type!=="text")throw new Te("Expected text response for compaction");return P(this,ft,"f").params.messages=[{role:"user",content:y.content}],!0},Symbol.asyncIterator)](){var e;if(P(this,to,"f"))throw new Te("Cannot iterate over a consumed stream");te(this,to,!0),te(this,ss,!0),te(this,ii,void 0);try{for(;;){let n;try{if(P(this,ft,"f").params.max_iterations&&P(this,Ma,"f")>=P(this,ft,"f").params.max_iterations)break;te(this,ss,!1,"f"),te(this,ii,void 0,"f"),te(this,Ma,(e=P(this,Ma,"f"),e++,e),"f"),te(this,Wt,void 0,"f");const{max_iterations:o,compactionControl:l,...u}=P(this,ft,"f").params;if(u.stream?(n=this.client.beta.messages.stream({...u},P(this,wa,"f")),te(this,Wt,n.finalMessage(),"f"),P(this,Wt,"f").catch(()=>{}),yield n):(te(this,Wt,this.client.beta.messages.create({...u,stream:!1},P(this,wa,"f")),"f"),yield P(this,Wt,"f")),!await P(this,Ca,"m",fv).call(this)){if(!P(this,ss,"f")){const{role:y,content:g}=await P(this,Wt,"f");P(this,ft,"f").params.messages.push({role:y,content:g})}const p=await P(this,Ca,"m",Wd).call(this,P(this,ft,"f").params.messages.at(-1));if(p)P(this,ft,"f").params.messages.push(p);else if(!P(this,ss,"f"))break}}finally{n&&n.abort()}}if(!P(this,Wt,"f"))throw new Te("ToolRunner concluded without a message from the server");P(this,Pi,"f").resolve(await P(this,Wt,"f"))}catch(n){throw te(this,to,!1),P(this,Pi,"f").promise.catch(()=>{}),P(this,Pi,"f").reject(n),te(this,Pi,dv()),n}}setMessagesParams(e){typeof e=="function"?P(this,ft,"f").params=e(P(this,ft,"f").params):P(this,ft,"f").params=e,te(this,ss,!0),te(this,ii,void 0)}async generateToolResponse(){const e=await P(this,Wt,"f")??this.params.messages.at(-1);return e?P(this,Ca,"m",Wd).call(this,e):null}done(){return P(this,Pi,"f").promise}async runUntilDone(){if(!P(this,to,"f"))for await(const e of this);return this.done()}get params(){return P(this,ft,"f").params}pushMessages(...e){this.setMessagesParams(n=>({...n,messages:[...n.messages,...e]}))}then(e,n){return this.runUntilDone().then(e,n)}}Wd=async function(e){return P(this,ii,"f")!==void 0?P(this,ii,"f"):(te(this,ii,RI(P(this,ft,"f").params,e)),P(this,ii,"f"))};async function RI(i,e=i.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;const n=e.content.filter(l=>l.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async l=>{const u=i.tools.find(d=>("name"in d?d.name:d.mcp_server_name)===l.name);if(!u||!("run"in u))return{type:"tool_result",tool_use_id:l.id,content:`Error: Tool '${l.name}' not found`,is_error:!0};try{let d=l.input;"parse"in u&&u.parse&&(d=u.parse(d));const p=await u.run(d);return{type:"tool_result",tool_use_id:l.id,content:p}}catch(d){return{type:"tool_result",tool_use_id:l.id,content:`Error: ${d instanceof Error?d.message:String(d)}`,is_error:!0}}}))}}class Uu{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){const e=new el;for await(const n of this.iterator)for(const o of e.decode(n))yield JSON.parse(o);for(const n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Te("Attempted to iterate over a response with no body");return new Uu(Ih(e.body),n)}}let tA=class extends wn{create(e,n){const{betas:o,...l}=e;return this._client.post("/v1/messages/batches?beta=true",{body:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString()},n?.headers])})}retrieve(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/messages/batches/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},o?.headers])})}list(e={},n){const{betas:o,...l}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",tl,{query:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString()},n?.headers])})}delete(e,n={},o){const{betas:l}=n??{};return this._client.delete(Et`/v1/messages/batches/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},o?.headers])})}cancel(e,n={},o){const{betas:l}=n??{};return this._client.post(Et`/v1/messages/batches/${e}/cancel?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},o?.headers])})}async results(e,n={},o){const l=await this.retrieve(e);if(!l.results_url)throw new Te(`No batch \`results_url\`; Has it finished processing? ${l.processing_status} - ${l.id}`);const{betas:u}=n??{};return this._client.get(l.results_url,{...o,headers:Ne([{"anthropic-beta":[...u??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},o?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((d,p)=>Uu.fromResponse(p.response,p.controller))}};const hv={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let ku=class extends wn{constructor(){super(...arguments),this.batches=new tA(this._client)}create(e,n){const{betas:o,...l}=e;l.model in hv&&console.warn(`The model '${l.model}' is deprecated and will reach end-of-life on ${hv[l.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let u=this._client._options.timeout;if(!l.stream&&u==null){const d=WT[l.model]??void 0;u=this._client.calculateNonstreamingTimeout(l.max_tokens,d)}return this._client.post("/v1/messages?beta=true",{body:l,timeout:u??6e5,...n,headers:Ne([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},n?.headers]),stream:e.stream??!1})}parse(e,n){return n={...n,headers:Ne([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-11-13"].toString()},n?.headers])},this.create(e,n).then(o=>ZT(o,e,{logger:this._client.logger??console}))}stream(e,n){return gu.createMessage(this,e,n)}countTokens(e,n){const{betas:o,...l}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"token-counting-2024-11-01"].toString()},n?.headers])})}toolRunner(e,n){return new eA(this._client,e,n)}};ku.Batches=tA;ku.BetaToolRunner=eA;class nA extends wn{create(e,n={},o){const{betas:l,...u}=n??{};return this._client.post(Et`/v1/skills/${e}/versions?beta=true`,Uh({body:u,...o,headers:Ne([{"anthropic-beta":[...l??[],"skills-2025-10-02"].toString()},o?.headers])},this._client))}retrieve(e,n,o){const{skill_id:l,betas:u}=n;return this._client.get(Et`/v1/skills/${l}/versions/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...u??[],"skills-2025-10-02"].toString()},o?.headers])})}list(e,n={},o){const{betas:l,...u}=n??{};return this._client.getAPIList(Et`/v1/skills/${e}/versions?beta=true`,zT,{query:u,...o,headers:Ne([{"anthropic-beta":[...l??[],"skills-2025-10-02"].toString()},o?.headers])})}delete(e,n,o){const{skill_id:l,betas:u}=n;return this._client.delete(Et`/v1/skills/${l}/versions/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...u??[],"skills-2025-10-02"].toString()},o?.headers])})}}class kh extends wn{constructor(){super(...arguments),this.versions=new nA(this._client)}create(e={},n){const{betas:o,...l}=e??{};return this._client.post("/v1/skills?beta=true",Uh({body:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])},this._client))}retrieve(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/skills/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"skills-2025-10-02"].toString()},o?.headers])})}list(e={},n){const{betas:o,...l}=e??{};return this._client.getAPIList("/v1/skills?beta=true",zT,{query:l,...n,headers:Ne([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(e,n={},o){const{betas:l}=n??{};return this._client.delete(Et`/v1/skills/${e}?beta=true`,{...o,headers:Ne([{"anthropic-beta":[...l??[],"skills-2025-10-02"].toString()},o?.headers])})}}kh.Versions=nA;class vo extends wn{constructor(){super(...arguments),this.models=new $T(this._client),this.messages=new ku(this._client),this.files=new QT(this._client),this.skills=new kh(this._client)}}vo.Models=$T;vo.Messages=ku;vo.Files=QT;vo.Skills=kh;class iA extends wn{create(e,n){const{betas:o,...l}=e;return this._client.post("/v1/complete",{body:l,timeout:this._client._options.timeout??6e5,...n,headers:Ne([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},n?.headers]),stream:e.stream??!1})}}var mn,Li,Ra,Lr,ba,xa,qr,Na,ti,Ia,Br,Hr,os,Gr,Or,yd,pv,_d,vd,Sd,Td,mv;const gv="__json_buf";function yv(i){return i.type==="tool_use"||i.type==="server_tool_use"}class yu{constructor(){mn.add(this),this.messages=[],this.receivedMessages=[],Li.set(this,void 0),this.controller=new AbortController,Ra.set(this,void 0),Lr.set(this,()=>{}),ba.set(this,()=>{}),xa.set(this,void 0),qr.set(this,()=>{}),Na.set(this,()=>{}),ti.set(this,{}),Ia.set(this,!1),Br.set(this,!1),Hr.set(this,!1),os.set(this,!1),Gr.set(this,void 0),Or.set(this,void 0),_d.set(this,e=>{if(te(this,Br,!0),$a(e)&&(e=new En),e instanceof En)return te(this,Hr,!0),this._emit("abort",e);if(e instanceof Te)return this._emit("error",e);if(e instanceof Error){const n=new Te(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Te(String(e)))}),te(this,Ra,new Promise((e,n)=>{te(this,Lr,e,"f"),te(this,ba,n,"f")})),te(this,xa,new Promise((e,n)=>{te(this,qr,e,"f"),te(this,Na,n,"f")})),P(this,Ra,"f").catch(()=>{}),P(this,xa,"f").catch(()=>{})}get response(){return P(this,Gr,"f")}get request_id(){return P(this,Or,"f")}async withResponse(){te(this,os,!0);const e=await P(this,Ra,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new yu;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,o){const l=new yu;for(const u of n.messages)l._addMessageParam(u);return l._run(()=>l._createMessage(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),l}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},P(this,_d,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,o){const l=o?.signal;let u;l&&(l.aborted&&this.controller.abort(),u=this.controller.abort.bind(this.controller),l.addEventListener("abort",u));try{P(this,mn,"m",vd).call(this);const{response:d,data:p}=await e.create({...n,stream:!0},{...o,signal:this.controller.signal}).withResponse();this._connected(d);for await(const y of p)P(this,mn,"m",Sd).call(this,y);if(p.controller.signal?.aborted)throw new En;P(this,mn,"m",Td).call(this)}finally{l&&u&&l.removeEventListener("abort",u)}}_connected(e){this.ended||(te(this,Gr,e),te(this,Or,e?.headers.get("request-id")),P(this,Lr,"f").call(this,e),this._emit("connect"))}get ended(){return P(this,Ia,"f")}get errored(){return P(this,Br,"f")}get aborted(){return P(this,Hr,"f")}abort(){this.controller.abort()}on(e,n){return(P(this,ti,"f")[e]||(P(this,ti,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=P(this,ti,"f")[e];if(!o)return this;const l=o.findIndex(u=>u.listener===n);return l>=0&&o.splice(l,1),this}once(e,n){return(P(this,ti,"f")[e]||(P(this,ti,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{te(this,os,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){te(this,os,!0),await P(this,xa,"f")}get currentMessage(){return P(this,Li,"f")}async finalMessage(){return await this.done(),P(this,mn,"m",yd).call(this)}async finalText(){return await this.done(),P(this,mn,"m",pv).call(this)}_emit(e,...n){if(P(this,Ia,"f"))return;e==="end"&&(te(this,Ia,!0),P(this,qr,"f").call(this));const o=P(this,ti,"f")[e];if(o&&(P(this,ti,"f")[e]=o.filter(l=>!l.once),o.forEach(({listener:l})=>l(...n))),e==="abort"){const l=n[0];!P(this,os,"f")&&!o?.length&&Promise.reject(l),P(this,ba,"f").call(this,l),P(this,Na,"f").call(this,l),this._emit("end");return}if(e==="error"){const l=n[0];!P(this,os,"f")&&!o?.length&&Promise.reject(l),P(this,ba,"f").call(this,l),P(this,Na,"f").call(this,l),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",P(this,mn,"m",yd).call(this))}async _fromReadableStream(e,n){const o=n?.signal;let l;o&&(o.aborted&&this.controller.abort(),l=this.controller.abort.bind(this.controller),o.addEventListener("abort",l));try{P(this,mn,"m",vd).call(this),this._connected(null);const u=kn.fromReadableStream(e,this.controller);for await(const d of u)P(this,mn,"m",Sd).call(this,d);if(u.controller.signal?.aborted)throw new En;P(this,mn,"m",Td).call(this)}finally{o&&l&&o.removeEventListener("abort",l)}}[(Li=new WeakMap,Ra=new WeakMap,Lr=new WeakMap,ba=new WeakMap,xa=new WeakMap,qr=new WeakMap,Na=new WeakMap,ti=new WeakMap,Ia=new WeakMap,Br=new WeakMap,Hr=new WeakMap,os=new WeakMap,Gr=new WeakMap,Or=new WeakMap,_d=new WeakMap,mn=new WeakSet,yd=function(){if(this.receivedMessages.length===0)throw new Te("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},pv=function(){if(this.receivedMessages.length===0)throw new Te("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(o=>o.type==="text").map(o=>o.text);if(n.length===0)throw new Te("stream ended without producing a content block with type=text");return n.join(" ")},vd=function(){this.ended||te(this,Li,void 0)},Sd=function(n){if(this.ended)return;const o=P(this,mn,"m",mv).call(this,n);switch(this._emit("streamEvent",n,o),n.type){case"content_block_delta":{const l=o.content.at(-1);switch(n.delta.type){case"text_delta":{l.type==="text"&&this._emit("text",n.delta.text,l.text||"");break}case"citations_delta":{l.type==="text"&&this._emit("citation",n.delta.citation,l.citations??[]);break}case"input_json_delta":{yv(l)&&l.input&&this._emit("inputJson",n.delta.partial_json,l.input);break}case"thinking_delta":{l.type==="thinking"&&this._emit("thinking",n.delta.thinking,l.thinking);break}case"signature_delta":{l.type==="thinking"&&this._emit("signature",l.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(o),this._addMessage(o,!0);break}case"content_block_stop":{this._emit("contentBlock",o.content.at(-1));break}case"message_start":{te(this,Li,o);break}}},Td=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=P(this,Li,"f");if(!n)throw new Te("request ended without sending any chunks");return te(this,Li,void 0),n},mv=function(n){let o=P(this,Li,"f");if(n.type==="message_start"){if(o)throw new Te(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!o)throw new Te(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return o;case"message_delta":return o.stop_reason=n.delta.stop_reason,o.stop_sequence=n.delta.stop_sequence,o.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(o.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(o.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(o.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(o.usage.server_tool_use=n.usage.server_tool_use),o;case"content_block_start":return o.content.push({...n.content_block}),o;case"content_block_delta":{const l=o.content.at(n.index);switch(n.delta.type){case"text_delta":{l?.type==="text"&&(o.content[n.index]={...l,text:(l.text||"")+n.delta.text});break}case"citations_delta":{l?.type==="text"&&(o.content[n.index]={...l,citations:[...l.citations??[],n.delta.citation]});break}case"input_json_delta":{if(l&&yv(l)){let u=l[gv]||"";u+=n.delta.partial_json;const d={...l};Object.defineProperty(d,gv,{value:u,enumerable:!1,writable:!0}),u&&(d.input=jT(u)),o.content[n.index]=d}break}case"thinking_delta":{l?.type==="thinking"&&(o.content[n.index]={...l,thinking:l.thinking+n.delta.thinking});break}case"signature_delta":{l?.type==="thinking"&&(o.content[n.index]={...l,signature:n.delta.signature});break}default:n.delta}return o}case"content_block_stop":return o}},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("streamEvent",l=>{const u=n.shift();u?u.resolve(l):e.push(l)}),this.on("end",()=>{o=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),this.on("error",l=>{o=!0;for(const u of n)u.reject(l);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,d)=>n.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new kn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class sA extends wn{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Et`/v1/messages/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/v1/messages/batches",tl,{query:e,...n})}delete(e,n){return this._client.delete(Et`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(Et`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){const o=await this.retrieve(e);if(!o.results_url)throw new Te(`No batch \`results_url\`; Has it finished processing? ${o.processing_status} - ${o.id}`);return this._client.get(o.results_url,{...n,headers:Ne([{Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((l,u)=>Uu.fromResponse(u.response,u.controller))}}class Ph extends wn{constructor(){super(...arguments),this.batches=new sA(this._client)}create(e,n){e.model in _v&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${_v[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let o=this._client._options.timeout;if(!e.stream&&o==null){const l=WT[e.model]??void 0;o=this._client.calculateNonstreamingTimeout(e.max_tokens,l)}return this._client.post("/v1/messages",{body:e,timeout:o??6e5,...n,stream:e.stream??!1})}stream(e,n){return yu.createMessage(this,e,n)}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}}const _v={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};Ph.Batches=sA;class oA extends wn{retrieve(e,n={},o){const{betas:l}=n??{};return this._client.get(Et`/v1/models/${e}`,{...o,headers:Ne([{...l?.toString()!=null?{"anthropic-beta":l?.toString()}:void 0},o?.headers])})}list(e={},n){const{betas:o,...l}=e??{};return this._client.getAPIList("/v1/models",tl,{query:l,...n,headers:Ne([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},n?.headers])})}}var bI={};const Vr=i=>{if(typeof globalThis.process<"u")return bI?.[i]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(i)?.trim()};var Zd,Lh,tu,aA;const xI="\\n\\nHuman:",NI="\\n\\nAssistant:";class rt{constructor({baseURL:e=Vr("ANTHROPIC_BASE_URL"),apiKey:n=Vr("ANTHROPIC_API_KEY")??null,authToken:o=Vr("ANTHROPIC_AUTH_TOKEN")??null,...l}={}){Zd.add(this),tu.set(this,void 0);const u={apiKey:n,authToken:o,...l,baseURL:e||"https://api.anthropic.com"};if(!u.dangerouslyAllowBrowser&&QN())throw new Te(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=u.baseURL,this.timeout=u.timeout??Lh.DEFAULT_TIMEOUT,this.logger=u.logger??console;const d="warn";this.logLevel=d,this.logLevel=nv(u.logLevel,"ClientOptions.logLevel",this)??nv(Vr("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??d,this.fetchOptions=u.fetchOptions,this.maxRetries=u.maxRetries??2,this.fetch=u.fetch??eI(),te(this,tu,nI),this._options=u,this.apiKey=typeof n=="string"?n:null,this.authToken=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return Ne([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return Ne([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return Ne([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Te(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${oo}`}defaultIdempotencyKey(){return`stainless-node-retry-${RT()}`}makeStatusError(e,n,o,l){return Rt.generate(e,n,o,l)}buildURL(e,n,o){const l=!P(this,Zd,"m",aA).call(this)&&o||this.baseURL,u=FN(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return JN(d)||(n={...d,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new Te("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(l=>({method:e,path:n,...l})))}request(e,n=null){return new Du(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){const l=await e,u=l.maxRetries??this.maxRetries;n==null&&(n=u),await this.prepareOptions(l);const{req:d,url:p,timeout:y}=await this.buildRequest(l,{retryCount:u-n});await this.prepareRequest(d,{url:p,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(Nt(this).debug(`[${g}] sending request`,ls({retryOfRequestLogID:o,method:l.method,url:p,options:l,headers:d.headers})),l.signal?.aborted)throw new En;const T=new AbortController,E=await this.fetchWithTimeout(p,d,y,T).catch(Yd),N=Date.now();if(E instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(l.signal?.aborted)throw new En;const B=$a(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Nt(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${F}`),Nt(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${F})`,ls({retryOfRequestLogID:o,url:p,durationMs:N-v,message:E.message})),this.retryRequest(l,n,o??g);throw Nt(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,ls({retryOfRequestLogID:o,url:p,durationMs:N-v,message:E.message})),B?new bT:new Iu({cause:E})}const b=[...E.headers.entries()].filter(([F])=>F==="request-id").map(([F,B])=>", "+F+": "+JSON.stringify(B)).join(""),J=`[${g}${_}${b}] ${d.method} ${p} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${N-v}ms`;if(!E.ok){const F=await this.shouldRetry(E);if(n&&F){const Y=`retrying, ${n} attempts remaining`;return await tI(E.body),Nt(this).info(`${J} - ${Y}`),Nt(this).debug(`[${g}] response error (${Y})`,ls({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:N-v})),this.retryRequest(l,n,o??g,E.headers)}const B=F?"error; no more retries left":"error; not retryable";Nt(this).info(`${J} - ${B}`);const O=await E.text().catch(Y=>Yd(Y).message),K=qT(O),W=K?void 0:O;throw Nt(this).debug(`[${g}] response error (${B})`,ls({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:W,durationMs:Date.now()-v})),this.makeStatusError(E.status,K,W,E.headers)}return Nt(this).info(J),Nt(this).debug(`[${g}] response start`,ls({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:N-v})),{response:E,options:l,controller:T,requestLogID:g,retryOfRequestLogID:o,startTime:v}}getAPIList(e,n,o){return this.requestAPIList(n,{method:"get",path:e,...o})}requestAPIList(e,n){const o=this.makeRequest(n,null,void 0);return new fI(this,o,e)}async fetchWithTimeout(e,n,o,l){const{signal:u,method:d,...p}=n||{};u&&u.addEventListener("abort",()=>l.abort());const y=setTimeout(()=>l.abort(),o),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_={signal:l.signal,...g?{duplex:"half"}:{},method:"GET",...p};d&&(_.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(y)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,l){let u;const d=l?.get("retry-after-ms");if(d){const y=parseFloat(d);Number.isNaN(y)||(u=y)}const p=l?.get("retry-after");if(p&&!u){const y=parseFloat(p);Number.isNaN(y)?u=Date.parse(p)-Date.now():u=y*1e3}if(!(u&&0<=u&&u<60*1e3)){const y=e.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,y)}return await KN(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const u=n-e,d=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return d*p*1e3}calculateNonstreamingTimeout(e,n){if(36e5*e/128e3>6e5||n!=null&&e>n)throw new Te("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:n=0}={}){const o={...e},{method:l,path:u,query:d,defaultBaseURL:p}=o,y=this.buildURL(u,d,p);"timeout"in o&&XN("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:o}),v=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:{method:l,headers:v,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"},..._&&{body:_},...this.fetchOptions??{},...o.fetchOptions??{}},url:y,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:l}){let u={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=Ne([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...jN(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Ne([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:HT(e)}:P(this,tu,"f").call(this,{body:e,headers:o})}}Lh=rt,tu=new WeakMap,Zd=new WeakSet,aA=function(){return this.baseURL!=="https://api.anthropic.com"};rt.Anthropic=Lh;rt.HUMAN_PROMPT=xI;rt.AI_PROMPT=NI;rt.DEFAULT_TIMEOUT=6e5;rt.AnthropicError=Te;rt.APIError=Rt;rt.APIConnectionError=Iu;rt.APIConnectionTimeoutError=bT;rt.APIUserAbortError=En;rt.NotFoundError=DT;rt.ConflictError=UT;rt.RateLimitError=PT;rt.BadRequestError=xT;rt.AuthenticationError=NT;rt.InternalServerError=LT;rt.PermissionDeniedError=IT;rt.UnprocessableEntityError=kT;rt.toFile=yI;class nl extends rt{constructor(){super(...arguments),this.completions=new iA(this),this.messages=new Ph(this),this.models=new oA(this),this.beta=new vo(this)}}nl.Completions=iA;nl.Messages=Ph;nl.Models=oA;nl.Beta=vo;const II=localStorage.getItem("Claude Key"),DI=II?.replace(/["\\]/g,""),UI=localStorage.getItem("ModelClaude"),kI=UI?.replace(/["\\]/g,"");async function PI(i){const e=new nl({apiKey:DI,dangerouslyAllowBrowser:!0});try{return(await e.messages.create({model:kI,max_tokens:1e3,messages:[{role:"user",content:i}]})).content?.filter(l=>l.type==="text").map(l=>l.text).join("")||"Claude no devolvi texto."}catch(n){return console.error("Error en MainClaude:",n),"Error al generar la respuesta"}}const LI=async i=>await PI(i),qI={Gemini:Nx,GPT:VN,Claude:LI},BI=async({model:i,prompt:e})=>{const n=qI[i];if(!n)throw new Error(`Modelo no soportado: ${i}`);return await n(e)},HI=(i="")=>{if(!i||typeof i!="string")return[];let e=i.replace(/\r\n/g,`
`);const n=/```(\w*)\n?([\s\S]*?)```/g,o=[];let l=0,u;for(;(u=n.exec(e))!==null;){const y=e.slice(l,u.index);y&&o.push({type:"text",content:y}),o.push({type:"code",language:u[1]||"code",content:u[2].trim()}),l=n.lastIndex}l<e.length&&o.push({type:"text",content:e.slice(l)});const d=[],p=/(`[^`]+`)|(\*\*[^*]+\*\*)|(\*[^*]+\*)|(^#{1,6}\s.+)/gm;return o.forEach(y=>{if(y.type!=="text"){d.push(y);return}let g=0,_;for(;(_=p.exec(y.content))!==null;){_.index>g&&d.push({type:"text",content:y.content.slice(g,_.index)});const v=_[0];if(v.startsWith("`"))d.push({type:"inlineCode",content:v.slice(1,-1)});else if(v.startsWith("**"))d.push({type:"bold",content:v.slice(2,-2)});else if(v.startsWith("*"))d.push({type:"italic",content:v.slice(1,-1)});else if(v.startsWith("#")){const T=v.match(/^#+/)[0].length;d.push({type:"heading",level:T,content:v.replace(/^#+\s*/,"").trim()})}g=p.lastIndex}g<y.content.length&&d.push({type:"text",content:y.content.slice(g)})}),d},Mn=_e.createContext(),vv=(i,e)=>{try{const n=localStorage.getItem(i);return n?JSON.parse(n):e}catch{return e}},GI=({children:i})=>{const[e,n]=_e.useState(!1),[o,l]=_e.useState(!1),[u,d]=_e.useState(""),[p,y]=_e.useState(""),[g,_]=_e.useState(!1),[v,T]=_e.useState(!1),[E,N]=_e.useState(""),[b,J]=_e.useState(""),[F,B]=_e.useState(""),[O,K]=_e.useState("Gemini"),[W,Z]=_e.useState(()=>vv("currentChatId",null)),[Y,ue]=_e.useState(()=>vv("chatsByModel",{Gemini:[],GPT:[],Claude:[]})),[$,oe]=_e.useState(""),[de,ye]=_e.useState(!1),[Qe,je]=_e.useState(""),nt=Y[O]||[],q=nt.find(ae=>ae.id===W)||null;_e.useEffect(()=>{localStorage.setItem("chatsByModel",JSON.stringify(Y)),localStorage.setItem("currentChatId",JSON.stringify(W))},[Y,W]),_e.useEffect(()=>{const ae=Y[O]||[];ae.length?ae.find(ge=>ge.id===W)||Z(ae[ae.length-1].id):Z(null),je("")},[O]);const Q=_e.useCallback(()=>{const ae=crypto.randomUUID();return ue(ge=>({...ge,[O]:[...ge[O],{id:ae,messages:[]}]})),Z(ae),je(""),ye(!1),oe(""),ae},[O]),pe=ae=>{Z(ae),je(""),ye(!1)},ke=ae=>{ue(ge=>{const ze=ge[O].filter(Fe=>Fe.id!==ae);if(ae===W){const Fe=ze.length?ze[ze.length-1].id:null;Z(Fe)}return{...ge,[O]:ze}})},Le=(ae,ge)=>{setTimeout(()=>{je(ze=>ze+ge)},25*ae)},R=async ae=>{const ge=ae??$;if(!ge.trim())return;let ze=W;ze||(ze=Q()),ye(!0),je(""),oe("");const Fe={role:"user",text:ge};ue(Gt=>({...Gt,[O]:Gt[O].map(_n=>_n.id===ze?{..._n,messages:[..._n.messages,Fe]}:_n)}));try{const Gt=await BI({model:O,prompt:ge});Gt.split("**").map((Rn,Ct)=>Ct%2===1?`<b>${Rn}</b>`:Rn).join("").replace(/\*/g,"<br/>").split(" ").forEach((Rn,Ct)=>Le(Ct,Rn+" "));const So=HI(Gt);ue(Rn=>({...Rn,[O]:Rn[O].map(Ct=>Ct.id===ze?{...Ct,messages:[...Ct.messages,{role:"model",tokens:So}]}:Ct)}))}catch(Gt){console.error(Gt),je("Ocurri un error procesando tu solicitud.")}finally{ye(!1)}},z=()=>{localStorage.removeItem("Gemini Key"),localStorage.removeItem("GPT Key"),localStorage.removeItem("Claude Key"),window.location.reload()},ve={chats:nt,currentChat:q,currentChatId:W,loadChat:pe,newChat:Q,deleteChat:ke,onSent:R,userPrompt:$,setUserPrompt:oe,loading:de,resultData:Qe,openSidebar:e,setOpenSidebar:n,userName:p,setUserName:y,openModal:o,setOpenModal:l,theme:g,setTheme:_,models:v,setModels:T,geminiKey:E,setGeminiKey:N,GPTKey:b,setGPTKey:J,claudeKey:F,setClaudeKey:B,modalModel:u,setModalModels:d,modelFeature:O,setModelFeature:K,deleteStorage:ae=>{ae.stopPropagation(),confirm("Seguro que quieres eliminar local storage?")&&z()},handleDelete:(ae,ge)=>{ae.stopPropagation(),confirm("Seguro que quieres borrar este chat?")&&ke(ge)},resetStorage:z};return C.jsx(Mn.Provider,{value:ve,children:i})},qh=()=>{const i=localStorage.getItem("User"),e=i?i.replace(/["\\]/g,""):"User";let{theme:n,setTheme:o,openModal:l,modelFeature:u,setOpenModal:d}=_e.useContext(Mn);const p=J=>{let F=J;localStorage.setItem("Model",JSON.stringify(F))},y=J=>{let F=J;localStorage.setItem("ModelGPT",JSON.stringify(F))},g=J=>{let F=J;localStorage.setItem("ModelClaude",JSON.stringify(F))},_=localStorage.getItem("Model"),v=_?.replace(/["\\]/g,""),T=localStorage.getItem("ModelGPT"),E=T?.replace(/["\\]/g,""),N=localStorage.getItem("ModelClaude"),b=N?.replace(/["\\]/g,"");return u=="Claude"?((N==null||N!="claude")&&g("claude-sonnet-4-5-20250929"),C.jsxs("div",{className:"Modal",children:[C.jsx("div",{onClick:()=>d(!l),children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})})}),C.jsx("img",{src:Ve.user_icon,alt:"user"}),C.jsx("p",{className:"user-name",children:e}),C.jsxs("div",{className:"Modal-input",children:[C.jsx("input",{type:"text",placeholder:`Current model: ${b}`}),C.jsxs("div",{className:"radio-group",onClick:()=>o(!n),children:[C.jsx("div",{className:"radio-option-modal",onClick:()=>g("claude-sonnet-4-5-20250929"),children:"Claude Sonnet 4.5"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>g("claude-haiku-4-5-20251001"),children:"Claude haiku 4.5"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>g("claude-opus-4-5-20251101"),children:"Claude Opus 4.5"})]})]})]})):u=="GPT"?((T==null||T!="gpt")&&p("gpt-5"),C.jsxs("div",{className:"Modal",children:[C.jsx("div",{onClick:()=>d(!l),children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})})}),C.jsx("img",{src:Ve.user_icon,alt:"user"}),C.jsx("p",{className:"user-name",children:e}),C.jsxs("div",{className:"Modal-input",children:[C.jsx("input",{type:"text",placeholder:`Current model: ${E}`}),C.jsxs("div",{className:"radio-group",onClick:()=>o(!n),children:[C.jsx("div",{className:"radio-option-modal",onClick:()=>y("gpt-5-nano"),children:"GPT-5 Nano"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>y("gpt-5.2"),children:"GPT 5.2"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>y("gpt-5-mini"),children:"GPT-5 Mini"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>y("gpt-5"),children:"GPT-5"})]})]})]})):((_==null||_!="gemini")&&p("gemini-2.5-flash"),C.jsxs("div",{className:"Modal",children:[C.jsx("div",{onClick:()=>d(!l),children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})})}),C.jsx("img",{src:Ve.user_icon,alt:"user"}),C.jsx("p",{className:"user-name",children:e}),C.jsxs("div",{className:"Modal-input",children:[C.jsx("input",{type:"text",placeholder:`Current model: ${v}`}),C.jsxs("div",{className:"radio-group",onClick:()=>o(!n),children:[C.jsx("div",{className:"radio-option-modal",onClick:()=>p("gemini-2.5-flash"),children:"Gemini Flash"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>p("gemini-2.5-pro"),children:"Gemini Pro"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>p("gemini-3-pro-preview"),children:"Gemini Ultra"}),C.jsx("div",{className:"radio-option-modal",onClick:()=>p("gemini-2.5-flash-lite"),children:"Gemini Lite"})]})]})]}))},Bh=()=>{const{models:i,setModelFeature:e,setModels:n}=_e.useContext(Mn),o=_e.useRef(null),l=p=>{let y=p;localStorage.setItem("Model",JSON.stringify(y)),e("Gemini")},u=p=>{let y=p;localStorage.setItem("ModelGPT",JSON.stringify(y)),e("GPT")},d=p=>{let y=p;localStorage.setItem("ModelClaude",JSON.stringify(y)),e("Claude")};return _e.useEffect(()=>{const p=y=>{o.current&&!o.current.contains(y.target)&&n(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),C.jsx("div",{ref:o,style:{position:"relative",display:"inline-block"},children:i&&C.jsxs("div",{className:"radio-group",style:{position:"absolute",top:"100%",left:-105,background:"#1e1e1e",marginTop:"10px",borderRadius:"8px",padding:"8px",boxShadow:"0 8px 20px rgba(0,0,0,0.25)",zIndex:100},children:[C.jsx("div",{className:"radio-option",onClick:()=>u("gpt-5"),children:" ChatGPT"}),C.jsx("div",{className:"radio-option",onClick:()=>d("claude-sonnet-4-5-20250929"),children:"  Claude"}),C.jsx("div",{className:"radio-option",onClick:()=>l("gemini-2.5-flash"),children:" Gemini"})]})})},Hh=({tokens:i})=>{const e=_e.useMemo(()=>{if(!Array.isArray(i))return[];const n=[];let o=[];return i.forEach(l=>{l.content===null||l.content===void 0||(["text","bold","italic","inlineCode"].includes(l.type)?o.push(l):(o.length>0&&(o.some(u=>String(u.content).trim().length>0)&&n.push({type:"paragraph",content:[...o]}),o=[]),n.push(l)))}),o.length>0&&o.some(l=>String(l.content).trim().length>0)&&n.push({type:"paragraph",content:o}),n},[i]);return C.jsx("div",{className:"rm-container",children:e.map((n,o)=>{switch(n.type){case"paragraph":return C.jsx("p",{className:"rm-paragraph",children:n.content.map((u,d)=>C.jsx(OI,{token:u},d))},o);case"heading":const l=`h${n.level||3}`;return C.jsx(l,{className:"rm-heading",children:n.content},o);case"code":return C.jsx(VI,{content:n.content,language:n.language},o);default:return null}})})},OI=({token:i})=>{switch(i.type){case"text":return C.jsx("span",{className:"rm-text-span",children:i.content});case"bold":return C.jsx("strong",{className:"rm-bold",children:i.content});case"italic":return C.jsx("em",{className:"rm-italic",children:i.content});case"inlineCode":return C.jsx("code",{className:"rm-inline-code",children:i.content});default:return null}},VI=({content:i,language:e})=>{const[n,o]=_e.useState(!1),l=async()=>{await navigator.clipboard.writeText(i),o(!0),setTimeout(()=>o(!1),1500)};return C.jsxs("div",{className:"code-wrapper-gpt",children:[C.jsxs("div",{className:"code-header",children:[C.jsx("span",{className:"code-lang",children:e||"code"}),C.jsx("button",{className:"copy-btn-gpt",onClick:l,children:n?"Copied ":"Copy"})]}),C.jsx("pre",{className:"code-block",children:C.jsx("code",{children:i})})]})},zI=()=>{const{currentChat:i,onSent:e,loading:n,userPrompt:o,setUserPrompt:l,openSidebar:u,setOpenModal:d,openModal:p,models:y,setModels:g,setOpenSidebar:_}=_e.useContext(Mn),v=_e.useRef(null),T=localStorage.getItem("User"),E=T?T.replace(/["\\]/g,""):"User";_e.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[i?.messages,n]);const N=b=>{b.key==="Enter"&&(b.preventDefault(),e())};return C.jsxs("div",{className:"main",children:[C.jsxs("div",{className:"nav",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>_(!u),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuMobile",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"title-div",children:[C.jsx("p",{className:"Title",children:"Gemini"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>g(!y),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),y&&C.jsx(Bh,{})]}),C.jsx("img",{src:Ve.user_icon,alt:"user",onClick:()=>d(!p),className:"profile-img"})]}),C.jsxs("div",{className:"main-container",children:[!i||i.messages.length===0?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"greet",children:[C.jsxs("span",{children:["Hello, ",C.jsx("span",{className:"user-name",children:E})]}),C.jsx("p",{children:"How can I help you?"})]}),C.jsxs("div",{className:"cards",children:[C.jsxs("div",{className:"card",onClick:()=>e("Suggest ideas to use AI effectively"),children:[C.jsx("p",{children:"Suggest ideas to use AI effectively"}),C.jsx("img",{src:Ve.compass_icon,alt:""})]}),C.jsxs("div",{className:"card",onClick:()=>e("1 month workout routine to get in shape"),children:[C.jsx("p",{children:"1 month workout routine to get in shape"}),C.jsx("img",{src:Ve.bulb_icon,alt:""})]}),C.jsxs("div",{className:"card",onClick:()=>e("Create a story about dogs and cats"),children:[C.jsx("p",{children:"Create a story about dogs and cats"}),C.jsx("img",{src:Ve.message_icon,alt:""})]}),C.jsxs("div",{className:"card",onClick:()=>e("Create a simple Tetris game in Python"),children:[C.jsx("p",{children:"Create a simple Tetris game in Python"}),C.jsx("img",{src:Ve.code_icon,alt:""})]})]})]}):C.jsxs("div",{className:"result",ref:v,children:[i.messages.map((b,J)=>C.jsxs("div",{className:b.role==="user"?"result-title user-message":"result-data ai-message",children:[C.jsx("img",{src:b.role==="user"?Ve.user_icon:Ve.gemini_icon,alt:""}),C.jsxs("div",{className:"message-content",children:[b.role==="user"&&C.jsx("p",{children:b.text}),b.role==="model"&&C.jsx(Hh,{tokens:b.tokens,model:"gemini"})]})]},J)),n&&i.messages.at(-1)?.role==="user"&&C.jsxs("div",{className:"result-data ai-message",children:[C.jsx("img",{src:Ve.gemini_icon,alt:""}),C.jsx("div",{className:"thinking",children:" Thinking..."})]})]}),p&&C.jsx(qh,{})]}),C.jsxs("div",{className:"main-bottom",children:[C.jsxs("div",{className:"search-box",children:[C.jsx("input",{type:"text",placeholder:"Enter prompt here",value:o,onChange:b=>l(b.target.value),onKeyDown:N}),C.jsxs("div",{children:[C.jsx("img",{src:Ve.gallery_icon,alt:""}),C.jsx("img",{src:Ve.mic_icon,alt:""}),o.length>0&&C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>e(),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"send-icon",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})})]})]}),C.jsx("p",{className:"bottom-info",children:"Gemini may display incorrect information. Always verify important facts."})]})]})},FI=()=>{const{chats:i,currentChatId:e,loadChat:n,newChat:o,openSidebar:l,setOpenSidebar:u,deleteChat:d,deleteStorage:p,handleDelete:y,resetStorage:g,setOpenModal:_,openModal:v}=_e.useContext(Mn),T=_e.useRef(null);return _e.useEffect(()=>{const E=N=>{l&&T.current&&!T.current.contains(N.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[l]),C.jsxs("div",{useRef:T,className:`sidebar ${l?"open":""}`,children:[C.jsxs("div",{className:"top",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>u(!l),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuPC",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"new-chat",onClick:()=>{o(),u(!1)},children:[C.jsx("img",{src:Ve.plus_icon,alt:""}),l?C.jsx("p",{children:"New Chat"}):null]}),l&&C.jsxs("div",{className:"recent",children:[C.jsx("p",{className:"title",children:"Recent Chats"}),i.map(E=>C.jsxs("div",{className:`recent-entry ${E.id===e?"active":""}`,onClick:()=>{n(E.id),u(!1)},children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})}),C.jsx("p",{children:E.messages[0]?E.messages[0].text.slice(0,22)+"...":"Empty chat"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:N=>y(N,E.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})})]},E.id))]})]}),C.jsxs("div",{className:"bottom",children:[C.jsxs("div",{className:"bottom-item recent-entry",onClick:p,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:E=>y(E,chat.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),l?C.jsx("p",{children:"Delete Key"}):null]}),C.jsxs("div",{className:"bottom-item recent-entry",onClick:()=>_(!v),children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",className:"setting-svg",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),l?C.jsx("p",{children:"Settings"}):null]})]})]})},JI=()=>{let{userName:i,setUserName:e,geminiKey:n,setGeminiKey:o,GPTKey:l,setGPTKey:u,claudeKey:d,setClaudeKey:p}=_e.useContext(Mn);const y=()=>{let g=i,_=n,v=l,T=d;localStorage.setItem("Gemini Key",JSON.stringify(_)),localStorage.setItem("User",JSON.stringify(g)),localStorage.setItem("GPT Key",JSON.stringify(v)),localStorage.setItem("Claude Key",JSON.stringify(T)),window.location.reload()};return C.jsxs("div",{className:"login-container",children:[C.jsxs("div",{className:"login-box",children:[C.jsx("input",{type:"text",placeholder:"Your name...",onChange:g=>e(g.target.value)}),C.jsx("input",{type:"text",placeholder:"GeminiKey",onChange:g=>o(g.target.value)}),C.jsx("input",{type:"text",placeholder:"GPT Key",onChange:g=>u(g.target.value)}),C.jsx("input",{type:"text",placeholder:"Claude Key",onChange:g=>p(g.target.value)})]}),C.jsx("button",{className:"login-btn",onClick:()=>y(),children:"Log in"})]})},YI=()=>{const{currentChat:i,onSent:e,loading:n,userPrompt:o,setUserPrompt:l,openSidebar:u,setOpenModal:d,openModal:p,models:y,setModels:g,setOpenSidebar:_}=_e.useContext(Mn),v=_e.useRef(null),T=localStorage.getItem("User"),E=T?T.replace(/["\\]/g,""):"User";_e.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[i?.messages,n]);const N=b=>{b.key==="Enter"&&(b.preventDefault(),e())};return C.jsxs("div",{className:"main-gpt",children:[C.jsxs("div",{className:"nav-gpt",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>_(!u),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuMobile-gpt",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"title-div-gpt",children:[C.jsx("p",{className:"Title-gpt",children:"ChatGPT"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>g(!y),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),y&&C.jsx(Bh,{})]}),C.jsx("img",{src:Ve.user_icon,alt:"user",className:"profile-img-gpt",onClick:()=>d(!p)})]}),C.jsx("div",{className:"main-container-gpt",children:!i||i.messages.length===0?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"greet-gpt",children:[C.jsxs("span",{children:["Hello ",C.jsxs("span",{className:"user-name-gpt",children:[E," "]})]}),C.jsx("p",{children:"How can I help you?"})]}),C.jsxs("div",{className:"cards-gpt",children:[C.jsxs("div",{className:"card-gpt",onClick:()=>e("Give me a fun fact"),children:[C.jsx("p",{children:"Give me a fun fact!"}),C.jsx("img",{src:Ve.bulb_icon,alt:""})]}),C.jsxs("div",{className:"card-gpt",onClick:()=>e("Who wins between Anakin and Luke Skywalker?"),children:[C.jsx("p",{children:"Who wins between Anakin and Luke Skywalker?"}),C.jsx("img",{src:Ve.message_icon,alt:""})]}),C.jsxs("div",{className:"card-gpt",onClick:()=>e("Technological advances that we may have in 2050"),children:[C.jsx("p",{children:"Technological advances that we may have in 2050"}),C.jsx("img",{src:Ve.compass_icon,alt:""})]}),C.jsxs("div",{className:"card-gpt",onClick:()=>e("Create a landing page of a Yaroa commerce with JS, HTML and CSS"),children:[C.jsx("p",{children:"Create a landing page of a Yaroa commerce with JS, HTML and CSS"}),C.jsx("img",{src:Ve.code_icon,alt:""})]})]})]}):C.jsxs("div",{className:"result-gpt",ref:v,children:[i.messages.map((b,J)=>C.jsxs("div",{className:b.role==="user"?"result-title-gpt user-message-gpt":"result-data-gpt ai-message-gpt",children:[C.jsx("img",{src:b.role==="user"?Ve.user_icon:Ve.chatgpt_icon,alt:""}),C.jsxs("div",{className:"message-content",children:[b.role==="user"&&C.jsx("p",{children:b.text}),b.role==="model"&&C.jsx(Hh,{tokens:b.tokens,model:"gpt"})]})]},J)),n&&i.messages.at(-1)?.role==="user"&&C.jsxs("div",{className:"result-data-gpt ai-message-gpt",children:[C.jsx("img",{src:Ve.chatgpt_icon,alt:""}),C.jsx("div",{className:"thinking",children:" Reasoning..."})]})]})}),p&&C.jsx(qh,{}),C.jsxs("div",{className:"main-bottom-gpt",children:[C.jsxs("div",{className:"search-box-gpt",children:[C.jsx("input",{type:"text",placeholder:"Message ChatGPT",value:o,onChange:b=>l(b.target.value),onKeyDown:N}),C.jsx("div",{children:o.length>0&&C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>e(),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"send-icon-gpt",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})})})]}),C.jsx("p",{className:"bottom-info-gpt",children:"ChatGPT may display incorrect information. Always verify important info."})]})]})},XI=()=>{const{chats:i,currentChatId:e,loadChat:n,newChat:o,openSidebar:l,setOpenSidebar:u,setOpenModal:d,deleteStorage:p,handleDelete:y,openModal:g}=_e.useContext(Mn),_=_e.useRef(null);return _e.useEffect(()=>{const v=T=>{l&&_.current&&!_.current.contains(T.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[l]),C.jsxs("div",{className:`sidebar-gpt ${l?"open":""}`,children:[C.jsxs("div",{className:"top-gpt",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>u(!l),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuPC-gpt",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"new-chat-gpt",onClick:()=>{o(),u(!1)},children:[C.jsx("img",{src:Ve.plus_icon,alt:""}),l?C.jsx("p",{children:"New Chat"}):null]}),l&&C.jsxs("div",{className:"recent-gpt",children:[C.jsx("p",{className:"title-gpt",children:"Recent Chats"}),i.map(v=>C.jsxs("div",{className:`recent-entry-gpt ${v.id===e?"active":""}`,onClick:()=>{n(v.id),u(!1)},children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})}),C.jsx("p",{children:v.messages[0]?v.messages[0].text.slice(0,22)+"...":"Empty chat"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:T=>y(T,v.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg-gpt",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})})]},v.id))]})]}),C.jsxs("div",{className:"bottom-gpt",children:[C.jsxs("div",{className:"bottom-item-gpt recent-entry-gpt",onClick:p,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:v=>y(v,chat.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg-gpt",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),l?C.jsx("p",{children:"Delete Key"}):null]}),C.jsxs("div",{className:"bottom-item-gpt recent-entry-gpt",onClick:()=>d(!g),children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",className:"setting-svg-gpt",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),l?C.jsx("p",{children:"Settings"}):null]})]})]})},KI=()=>{const{chats:i,currentChatId:e,loadChat:n,newChat:o,openSidebar:l,setOpenSidebar:u,setOpenModal:d,deleteStorage:p,handleDelete:y,openModal:g}=_e.useContext(Mn),_=_e.useRef(null);return _e.useEffect(()=>{const v=T=>{l&&_.current&&!_.current.contains(T.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[l]),C.jsxs("div",{className:`sidebar-claude ${l?"open":""}`,children:[C.jsxs("div",{className:"top-claude",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>u(!l),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuPC-claude",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"new-chat-claude",onClick:()=>{o(),u(!1)},children:[C.jsx("img",{src:Ve.plus_icon,alt:""}),l?C.jsx("p",{children:"New Chat"}):null]}),l&&C.jsxs("div",{className:"recent-claude",children:[C.jsx("p",{className:"title-claude",children:"Recent Chats"}),i.map(v=>C.jsxs("div",{className:`recent-entry-claude ${v.id===e?"active":""}`,onClick:()=>{n(v.id),u(!1)},children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})}),C.jsx("p",{children:v.messages[0]?v.messages[0].text.slice(0,22)+"...":"Empty chat"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:T=>y(T,v.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})})]},v.id))]})]}),C.jsxs("div",{className:"bottom-claude",children:[C.jsxs("div",{className:"bottom-item recent-entry-claude",onClick:p,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",onClick:v=>y(v,chat.id),viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"delete-svg-claude",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),l?C.jsx("p",{children:"Delete Key"}):null]}),C.jsxs("div",{className:"bottom-item recent-entry-claude",onClick:()=>d(!g),children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",className:"setting-svg-claude",children:C.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),l?C.jsx("p",{children:"Settings"}):null]})]})]})},QI=()=>{const{currentChat:i,onSent:e,loading:n,userPrompt:o,setUserPrompt:l,openSidebar:u,setOpenModal:d,openModal:p,models:y,setModels:g,setOpenSidebar:_}=_e.useContext(Mn),v=_e.useRef(null),T=localStorage.getItem("User"),E=T?T.replace(/["\\]/g,""):"User";_e.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[i?.messages,n]);const N=b=>{b.key==="Enter"&&(b.preventDefault(),e())};return C.jsxs("div",{className:"main-claude",children:[C.jsxs("div",{className:"nav-claude",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>_(!u),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"MenuMobile-claude",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),C.jsxs("div",{className:"title-div-claude",children:[C.jsx("p",{className:"Title-claude",children:"Claude"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>g(!y),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),y?C.jsx(Bh,{}):null]}),C.jsx("img",{src:Ve.user_icon,alt:"user",onClick:()=>d(!p),className:"profile-image-claude"})]}),C.jsx("div",{className:"main-container-claude",children:!i||i.messages.length===0?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"greet-claude",children:[C.jsxs("span",{children:["Hello ",C.jsx("span",{className:"user-name-claude",children:E})]}),C.jsx("p",{children:"How can I help you?"})]}),C.jsxs("div",{className:"cards-claude",children:[C.jsxs("div",{className:"card-claude",onClick:()=>e("What is a LLM and how we can create and train one?"),children:[C.jsx("p",{children:"What is a LLM and how we can create and train one?"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})})]}),C.jsxs("div",{className:"card-claude",onClick:()=>e("Create a website landing page about an general insurance agent"),children:[C.jsx("p",{children:"Create a website landing page about an general insurance agent"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"})})]}),C.jsxs("div",{className:"card-claude",onClick:()=>e("What is React JS?"),children:[C.jsx("p",{children:"What is React JS?"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})]}),C.jsxs("div",{className:"card-claude",onClick:()=>e("Explain in simple words the Programming fundamentals"),children:[C.jsx("p",{children:"Explain in simple words the Programming fundamentals"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})})]})]})]}):C.jsxs("div",{className:"result-claude",ref:v,children:[i.messages.map((b,J)=>C.jsxs("div",{className:b.role==="user"?"result-title-claude user-message-claude":"result-data-claude ai-message-claude",children:[C.jsx("img",{src:b.role==="user"?Ve.user_icon:Ve.claude_icon,alt:""}),C.jsxs("div",{className:"message-content",children:[b.role==="user"&&C.jsx("p",{children:b.text}),b.role==="model"&&C.jsx(Hh,{tokens:b.tokens,model:"claude"})]})]},J)),n&&i.messages.at(-1)?.role==="user"&&C.jsxs("div",{className:"result-data-claude ai-message-claude",children:[C.jsx("img",{src:Ve.claude_icon,alt:""}),C.jsx("div",{className:"thinking",children:" Coding..."})]})]})}),p===!0?C.jsx(qh,{}):null,C.jsxs("div",{className:"main-bottom-claude",children:[C.jsxs("div",{className:"search-box-claude",children:[C.jsx("input",{type:"text",placeholder:"Enter prompt here",value:o,onChange:b=>l(b.target.value),onKeyDown:N}),C.jsx("div",{children:o.length>0&&C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>e(),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"send-icon-gpt",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})})})]}),C.jsx("p",{className:"bottom-info-claude",children:"Claude may display incorrect information. Always verify important info."})]})]})};function $I(){let{modelFeature:i}=_e.useContext(Mn),e=localStorage.getItem("user"),n=localStorage.getItem("Gemini Key");return e==null&&n==null?C.jsx(C.Fragment,{children:C.jsx(JI,{})}):i=="GPT"?C.jsxs(C.Fragment,{children:[C.jsx(XI,{}),C.jsx(YI,{})]}):i=="Claude"?C.jsxs(C.Fragment,{children:[C.jsx(KI,{}),C.jsx(QI,{})]}):C.jsxs(C.Fragment,{children:[C.jsx(FI,{}),C.jsx(zI,{})]})}HC.createRoot(document.getElementById("root")).render(C.jsx(GI,{children:C.jsx($I,{})}));
